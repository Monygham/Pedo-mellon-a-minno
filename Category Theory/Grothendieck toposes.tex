\input pree.tex

\begin{document}

\title{Grothendieck toposes}
\date{}
\maketitle

\section{Introduction}
\noindent
In this notes we study Grothendieck topologies and toposes. For prerequisites we assume familiarity with \cite{Presheaves}.

\section{Sites and sheaves}
\noindent
In this section we fix a category $\cC$.

\begin{definition}
Let $X$ be an object of $\cC$. \textit{A sieve on $X$} is a family $S$ of arrows of $\cC$ with $X$ as a target such that for every $f:Y\ra X$ in $S$ and every morphisms $g:Z\ra Y$ their composition $f\cdot g$ is in $S$.
\end{definition}
\noindent
Every sieve $S$ on object $X$ of $\cC$ corresponds to a subpresheaf of $h_X$ given by
$$\cC\ni Y\mapsto \{f:Y\ra X\,\big|\,f\in S\}\in \Set$$
This identifies the collection of sieves on $X$ with the collection of subpresheaves of $h_X$.

\begin{fact}\label{fact:propertiesofsieves}
Let $X$ be an object of $\cC$. The class-theoretic intersection and union of a collection of sieves on $X$ is a sieve on $X$.
\end{fact}
\begin{proof}
Left to the reader.
\end{proof}

\begin{definition}
Let $\{f_i:X_i\ra X\}_{i\in I}$ be a collection of morphisms of $\cC$ with codomain in $X$. Then the intersection of all sieves on $X$ containing $\{f_i\}_{i\in I}$ is called \textit{the sieve generated by $\{f_i\}_{i\in I}$}.
\end{definition}
\noindent
One can directly describe the sieve on $X$ generated by $\{f_i:X_i\ra X\}_{i\in I}$ as a class of arrows $f:Y\ra X$ in $\cC$ such that $f$ factors through $f_i$ for some $i\in I$. 

\begin{definition}
Let $S$ be a sieve on $X$ and $f:Y\ra X$ be a morphism, then we define a sieve on $Y$ by formula
$$f^*S=\big\{g\in \bd{Mor}(\cC)\,\big|\,\mbox{ target of }g\mbox{ is }Y\mbox{ and }f\cdot g\in S\big\}$$
We call $f^*S$ \textit{the pullback of $S$ along $f$}.
\end{definition}

\begin{definition}
For every object $X$ in $\cC$ the family 
$$\big\{f\in \bd{Mor}(\cC)\,\big|\,\mbox{ target of }f\mbox{ is }X\big\}$$
is a sieve on $X$. We call it \textit{the maximal sieve on $X$}.
\end{definition}
 
\begin{definition}
\textit{A Grothendieck topology on $\cC$} is a collection $\cJ=\{\cJ(X)\}_{X\in \cC}$ such that $\cJ(X)$ is a class of sieves on $X$ and the following conditions are satisfied. 
\begin{enumerate}[label=\textbf{(\arabic*)}, leftmargin=1.5em]
\item The maximal sieve on $X$ is in $\cJ(X)$.
\item If $S\in \cJ(X)$ and $f:Y\ra X$, then $f^*S\in \cJ(Y)$.
\item Suppose that $S\in \cJ(X)$, $R$ is a sieve on $X$ and $f^*R\in \cJ(\mathrm{dom}(f))$ for every $f\in S$. Then $R\in \cJ(X)$.
\end{enumerate}
Sieves in class
$$\bigcup_{X\in \cC}\cJ(X)$$
are called covering sieves. A pair $(\cC,\cJ)$ consisting of a category $\cC$ and a Grothendieck topology $\cJ$ is called \textit{a site}.
\end{definition}

\begin{proposition}\label{proposition:coveringsievesproperties}
Let $\cJ$ be a Grothendieck topology on $\cC$ and $X$ be an object of $\cC$. Then the following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=1.5em]
\item Class $\cJ(X)$ is closed under finite intersections.
\item If $S\in \cJ(X)$ and $R$ is a sieve on $X$ such that $S\subseteq R$, then $R\in \cJ(X)$.
\end{enumerate}
\end{proposition}
\begin{proof}
We prove \textbf{(1)}. For this assume that $S$ and $T$ are covering sieves on $X$. Then $S\cap T$ is a sieve. Next pick $f:Y\ra X$ in $S$. Note that $f^*(S\cap T)=f^*T\in \cJ(Y)$. This implies that $S\cap T\in \cJ(X)$.\\
We prove now \textbf{(2)}. Fix $f:Y\ra X$ in $S$. Then $f^*R$ is the maximal sieve on $Y$ due to $S\subseteq R$. Hence $f^*R\in \cJ(Y)$. Since $S\in \cJ(X)$, we deduce that $R\in \cJ(X)$.
\end{proof}

\begin{fact}\label{fact:compositionofcoveringsieves}
Let $\cJ$ be a Grothendieck topology on $\cC$ and $X$ be an object of $\cC$. Suppose that $S$ is a covering sieve on $X$ and for each $f:Y\ra X$ in $S$ pick a covering sieve $R_f$ on $Y$. Then a family
$$R=\bigcup_{f\in S}f\cdot R_f$$ 
is a covering sieve on $X$.
\end{fact}
\begin{proof}
For every $f:Y\ra X$ in $S$ we have $R_f\subseteq f^*R$. By Proposition \ref{proposition:coveringsievesproperties} and since $R_f$ is in $\cJ(Y)$, we deduce that $f^*R\in \cJ(Y)$. Hence $f^*R$ is a covering sieve for every $f\in S$. This implies that $R\in \cJ(X)$.
\end{proof}

\begin{definition}
Let $F$ be a presheaf on $\cC$. Suppose that $X$ is an object of $\cC$ and $S$ is a sieve on $X$. We say that a family $\{x_f\}_{f\in S}$ such that $x_f\in S(\mathrm{dom}(f))$ is \textit{a matching family for $S$ of elements of $F$} if for every $f:Y\ra X$ in $S$ and $g:Z\ra Y$ in $\cC$ we have
$$F(g)(x_f)=x_{f\cdot g}$$
We say that an element $x\in F(X)$ is \textit{an amalgamation for the matching family} $\{x_f\}_{f\in S}$ if for every $f\in S$ we have $F(f)(x)=x_f$.
\end{definition}
\noindent
Note that if $S$ is a sieve on $X$ viewed as a subpresheaf of $h_X$, then a matching family for $S$ of elements of $F$ can be viewed as a morphisms of presheaves $S\ra F$. This identifies the collection of matching families for $S$ of elements of $F$ with a collection of morphisms $S\ra F$ of presheaves. Next suppose that $\{x_f\}_{f\in S}$ is a matching family for $S$ of elements of $F$. Then amalgamations of $\{x_f\}_{f\in S}$ can be identified by means of Yoneda lemma {\cite[Theorem 3.3]{Presheaves}} with morphisms $h_X\ra F$ making the following triangle
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ h_X&       F  \\
   S &          \\} ;
\path[densely dotted, ->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$  $} (m-1-2);
\path[left hook ->,line width=0.8pt,font=\scriptsize]
(m-2-1) edge node[left] {$ $} (m-1-1);
\path[->,line width=0.8pt,font=\scriptsize]
(m-2-1) edge node[below = 3pt, right = 1pt] {$ \{x_f\}_{f\in S}$} (m-1-2);
\end{tikzpicture}
\end{center}
commutative. 

\begin{definition}
Let $\cJ$ be a Grothendieck topology on $\cC$ and $F$ be a presheaf on $\cC$. We say that $F$ is \textit{a separated presheaf with respect to $\cJ$} if for any object $X$ in $\cC$, covering sieve $S\in \cJ(X)$ and for every matching family $\{x_f\}_{f\in S}$ for $S$ of elements of $F$ there exists at most one amalgamation $x\in F(X)$.
\end{definition} 

\begin{definition}
Let $\cJ$ be a Grothendieck topology on $\cC$ and $F$ be a presheaf on $\cC$. We say that $F$ is \textit{a sheaf with respect to $\cJ$} if for any object $X$ in $\cC$, covering sieve $S\in \cJ(X)$ and for every matching family $\{x_f\}_{f\in S}$ for $S$ of elements of $F$ there exists a unique amalgamation $x\in F(X)$.
\end{definition}
\noindent
In other words $F\in \widehat{\cC}$ is a separated presheaf (sheaf) with respect to a Grothendieck topology $\cJ$ on $\cC$ if for any $X\in \cC$, sieve $S\in \cJ(X)$ and morphism $S\ra F$ of presheaves there exists at most one (a unique) morphism $h_X\ra F$ making the triangle 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ h_X&       F  \\
   S &          \\} ;
\path[densely dotted, ->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$  $} (m-1-2);
\path[left hook ->,line width=0.8pt,font=\scriptsize]
(m-2-1) edge node[left] {$ $} (m-1-1);
\path[->,line width=0.8pt,font=\scriptsize]
(m-2-1) edge node[below = 5pt, right = -2pt] {$ \{x_f\}_{f\in S} $} (m-1-2);
\end{tikzpicture}
\end{center}
commutative.\\
Let $\cJ$ be a Grothendieck topology on $\cC$. We denote by $\PrSh_s(\cC,\cJ)$, $\Sh(\cC,\cJ)$  full subcategories of $\widehat{\cC}$ consisting of separated presheaves and sheaves with respect to $\cJ$, respectively.

\begin{theorem}\label{theorem:limitsinsheavesandseparatedpresheaves}
Let $\cJ$ be a Grothendieck topology on $\cC$. Then inclusion functors $\PrSh_s(\cC,\cJ)\ra \widehat{\cC}$, $\Sh(\cC,\cJ)\ra \widehat{\cC}$ create limits.
\end{theorem}
\begin{proof}
Let $D:I\ra \PrSh_s(\cC,\cJ)$ be a functor and assume that $\left(F,\big\{f_i:F\ra D(i)\big\}_{i\in I}\right)$ is a limiting cone over the composition of the functor $D:I\ra \PrSh_s(\cC,\cJ)$ with the inclusion $\PrSh_s(\cC,\cJ)\ra \widehat{\cC}$. We show that $F$ is a separated presheaf with respect to $\cJ$. Suppose that $S$ is a covering sieve on $X$ and $m:S\ra F$ is a morphism that represents certain matching family for $S$ of elements of $F$. Let $u:S\ra h_X$ be the inclusion. Suppose that $p:h_X\ra F$ is an amalgamation for $m$. We need to show that this amalgamation is unique. For this it suffices to observe that from equality $p\cdot u = m$ we derive that $(f_i\cdot p)\cdot u = (f_i\cdot m)$ for $i\in I$. Hence for every $i\in I$ morphism $f_i\cdot p$ is an amalgamation of $f_i\cdot m$. Since $D(i)$ is a separated presheaf for every $i\in I$, this makes $f_i\cdot p$ uniquely determined for $i\in I$. Thus $p$ is uniquely determined itself according to the fact that the cone $\left(F,\big\{f_i\big\}_{i\in I}\right)$ is limiting in $\widehat{\cC}$. Therefore, $F$ is a separated presheaf with respect to $\cJ$ and hence $\left(F,\big\{f_i\big\}_{i\in I}\right)$ is a limiting cone for $D$ in the category of separated presheaves.\\
Now assume that $D:I\ra \Sh(\cC,\cJ)$ is a functor and $\left(F,\big\{f_i:F\ra D(i)\big\}_{i\in I}\right)$ is a limiting cone over the composition of the functor $D:I\ra \Sh(\cC,\cJ)$ with the inclusion $\Sh(\cC,\cJ)\ra \widehat{\cC}$. We show that $F$ is sheaf with respect to $\cJ$. From what we prove above we know that $F$ is a separated presheaf with respect to $\cJ$. Suppose that $S$ is a covering sieve on $X$ and $m:S\ra F$ is a morphism that represents certain matching family for $S$ of elements of $F$. Let $u:S\ra h_X$ be the inclusion. It suffices to construct an amalgamation $p:h_X\ra F$ for $m$. We define $m_i = f_i \cdot m$ for $i\in I$. Now fix $i\in I$ for a moment. Then $m_i:S\ra D(i)$ is a matching family for $S$ of elements of a sheaf $D(i)$. Hence there exists a unique morphism $p_i:h_X\ra D(i)$ such that the triangle
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ h_X&       D(i)  \\
   S &          \\} ;
\path[densely dotted, ->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ p_i $} (m-1-2);
\path[left hook ->,line width=0.8pt,font=\scriptsize]
(m-2-1) edge node[left] {$u$} (m-1-1);
\path[->,line width=0.8pt,font=\scriptsize]
(m-2-1) edge node[below = 5pt, right = -2pt] {$ m_i $} (m-1-2);
\end{tikzpicture}
\end{center}
is commutative. Now pick a morphism $\alpha:i\ra j$ in $I$. Then 
$$D(\alpha)\cdot p_i\cdot u = D(\alpha)\cdot m_i = m_j = p_j\cdot u$$
According to uniqueness of $p_j$ we deduce that $D(\alpha)\cdot p_i = p_j$. Hence $\left(h_X,\big\{p_i\big\}_{i\in I}\right)$ is a cone over $D$. Therefore, there exists a unique morphism $p:h_X\ra F$ such that $f_i\cdot p = p_i$ for every $i\in I$. Hence 
$$f_i\cdot p\cdot u=p_i\cdot u= m_i = f_i\cdot m$$
for every $i\in I$. Thus $p\cdot u = m$ because the cone $\left(F,\big\{f_i\big\}_{i\in I}\right)$ is limiting. Therefore, matching family $m$ for $S$ of elements of $F$ admits an amalgamation $p$ and hence $\left(F,\big\{f_i\big\}_{i\in I}\right)$ is a limiting cone for $D$ in the category of sheaves. 
\end{proof}

\section{Some results on presheaves and matching families}
\noindent
This section contains some technical facts that we use in development of theory in this notes.\\
Let $S$ be an arbitrary sieve on object $X$ in $\cC$ and $F$ be a presheaf on $\cC$. We denote by $F(S)$ the class of matching families for $S$ of elements of $F$. Suppose now that $S$ is generated by a collection $\cF = \big\{f_i:X_i\ra X\big\}_{i\in I}$. Assume that $\{x_i\}_{i\in I}$ is a collection such that $x_i\in F(X_i)$ for every $i\in I$ and
$$F(g_i)(x_i) = F(g_j)(x_j)$$
for any morphisms $g_i:Y\ra X_i$, $g_j:Y\ra X_j$ in $\cC$ satisfying $f_i\cdot g_i = f_j\cdot g_j$ for every pair $i,j\in I$. Then $\{x_i\}_{i\in I}$ is called a matching family for $\cF$ of elements of $F$. The class of matching families for $\cF$ of elements of $\cF$ is denoted by $F(\cF)$. We have canonical injective map $\mathrm{can}_{\cF}:F(\cF)\ra \prod_{i\in I}F(X_i)$ and we denote by $\mathrm{res}_{S,\cF}:F(S)\ra F(\cF)$ a map that sends $\{x_f\}_{f\in S}$ to $\{x_{f_i}\}_{i\in I}$.

\begin{proposition}\label{proposition:matchingfamiliesaskernels}
Fix a presheaf $F$ on $\cC$ and a collection $\cF = \{f_i:X_i\ra X\}_{i\in I}$ of arrows in $\cC$ with codomain in $X$. Let $S$ be a sieve generated by this family. Then $\mathrm{res}_{S,\cF}$ is bijective. Moreover, if $\cC$ admits fiber products, then 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=6em,text height=1.5ex, text depth=0.25ex] 
{F(\cF) &   \prod_{i\in I}F(X_i)&  \prod_{(i,j)\in I\times I} F(X_i\times_XX_j)  \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ \mathrm{can}_{\cF} $} (m-1-2)
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \langle F(f'_{ij}) \cdot pr_i\rangle_{(i,j)}$} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \langle F(f''_{ij}) \cdot pr_j\rangle_{(i,j)}$} (m-1-3);
\end{tikzpicture}
\end{center}
is a kernel of a pair of arrows, where for every $(i,j)\in I\times I$ morphisms $f'_{ij}$ and $f'_{ji}$ form a cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{X_i\times_XX_j &  &   X_j   \\
 X_i&   & X   \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ f''_{ij}$} (m-1-3)
(m-2-1) edge node[below] {$ f_i $} (m-2-3)
(m-1-1) edge node[left] {$ f'_{ij} $} (m-2-1)
(m-1-3) edge node[right] {$ f_j  $} (m-2-3);
\end{tikzpicture}
\end{center}
\end{proposition}
\begin{proof}
Let $\{x_i\}_{i\in I}$ be a matching family for $\cF$ of elements of $F$. For every $f:Y\ra X$ in $S$ there exists $i\in I$ such that $f = f_i\cdot g_i$ for some $g_i:Y\ra X_i$. Indeed, this follows from the fact that $\cF$ generates $S$. We define $x_f = F(g_i)(x_i)$. Since $\{x_i\}_{i\in I}$ is a matching family for $\cF$ of elements of $F$, we derive that $x_f$ does not depend on the choice of $i\in I$ and factorization $f = f_i\cdot g_i$. This implies that $\{x_f\}_{f\in S}$ is a matching family for $S$ of elements of $F$. Now correspondence $\{x_i\}_{i\in I}\mapsto \{x_f\}_{f\in S}$ is the inverse of $\mathrm{res}_{S,\cF}$. This proves the first part of the statement.\\
Let $\left(x_i\right)_{i\in I}$ be an element of $\prod_{i\in I}F(X_i)$ such that $F(f'_{ij})(x_i)=F(f''_{ij})(x_j)$ for every pair $(i,j)\in I\times I$. Assume that for some $f:Y\ra X$ in $S$ we can write $f = f_i\cdot g_i$ for some $i\in I$ and $g_i:Y\ra X_i$ and similarly $f = f_j\cdot g_j$ for some $j\in I$ and $g_j:Y\ra X_j$. Then there exist a unique $g:Y\ra X_i\times_XX_j$ such that $g_i = f'_{ij}\cdot g$ and $g_j = f''_{ij}\cdot g$. We have
$$F(g_i)(x_i)=F(f'_{ij}\cdot g)(x_i)=F(g)\left(F(f'_{ij})(x_i)\right)=F(g)\left(F(f''_{ij})(x_j)\right)=F(f''_{ij}\cdot g)(x_j)=F(g_j)(x_j)$$
It follows that $\{x_i\}_{i\in I}$ is a matching family for $\cF$ of elements of $F$ and $\mathrm{can}_{\cF}\left(\{x_i\}_{i\in I}\right)=\left(x_i\right)_{i\in I}$. This proves that $\mathrm{can}_{\cF}$ is a bijection between $F(\cF)$ and the class of elements $\left(x_i\right)_{i\in I}\in \prod_{i\in I}F(X_i)$ such that $F(f'_{ij})(x_i)=F(f''_{ij})(x_j)$ for every pair $(i,j)\in I\times I$. This finishes the proof of the second part of the statement.
\end{proof}
\noindent
Next if $S\subseteq R$ are sieves on $X$ and $F$ is a presheaf, then we denote by $\mathrm{res}_{R,S}:F(R)\ra F(S)$ a map given by $\mathrm{res}_{R,S}(\{x_f\}_{f\in R}) = \{x_f\}_{f\in S}$. The next result is a useful technical tool.\\

\begin{proposition}\label{proposition:separatdpresheavesinduceinjections}
Let $\cJ$ be a Grothendieck topology on $\cC$ and $F$ be a separated presheaf with respect to $\cJ$. Pick $X$ in $\cC$. If $R$, $S$ in $\cJ(X)$ satisfy $S\subseteq R$, then $\mathrm{res}_{R,S}:F(R)\ra F(S)$ is injective.
\end{proposition}
\begin{proof}
Let $\mathrm{res}_{R,S}(\{x_f\}_{f\in R})=\{x_f\}_{f\in S}$. We show that $\{x_f\}_{f\in R}$ is uniquely determined by $\{x_f\}_{f\in S}$. For this pick $g\in R$ and consider $\{x_{g\cdot f}\}_{f\in g^*S}$. This is a subfamily of $\{x_f\}_{f\in S}$. For every $f\in g^*S$ we have $F(f)(x_g)=x_{g\cdot f}$ and hence $x_g$ is an amalgamation for a matching family $\{x_{g\cdot f}\}_{f\in g^*S}$ for $g^*S$ of elements of $F$. Since $F$ is a separated presheaf with respect to $\cJ$, we deduce that $x_g$ is uniquely determined with $\{x_{g\cdot f}\}_{f\in g^*S}$ and hence it is uniquely determined by $\{x_f\}_{f\in S}$. Arrow $g$ is an arbitrary element of $R$. Thus $\mathrm{res}_{R,S}$ is injective.
\end{proof}

\section{Grothendieck pretopologies}
\noindent
Let $\cC$ be a category with fiber products.

\begin{definition}
For every $X$ in $\cC$ let $\cK(X)$ be a class of collections $\{f_i:X_i\ra X\}_{i\in I}$ of arrows in $\cC$ with codomain in $X$. Assume that $\cK=\{\cK(X)\}_{X\in \cC}$ satisfies the following assertions.
\begin{enumerate}[label=\textbf{(\arabic*)}, leftmargin=1.5em]
\item $\{1_X:X\ra X\}\in \cK(X)$ for every object $X$ in $\cC$. 
\item If $\{f_i:X_i\ra X\}_{i\in I}\in \cK(X)$ for some $X$ in $\cC$ and $f:Y\ra X$ is a morphism, then $\{f'_i:X_i\times_XY\ra Y\}_{i\in I}\in \cK(Y)$ where $f'_i$ are defined by cartesian squares
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{X_i\times_XY &  &   X_i   \\
 Y&   & X   \\} ;
\path[->,line width= 0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ $} (m-1-3)
(m-2-1) edge node[below] {$ f $} (m-2-3)
(m-1-1) edge node[left] {$ f'_i$} (m-2-1)
(m-1-3) edge node[right] {$f_i $} (m-2-3);
\end{tikzpicture}
\end{center}
\item Suppose that $\{f_i:X_i\ra X\}_{i\in I} \in \cK(X)$ and $\{f_{ij}:X_{ij}\ra X_i\}_{j\in J_i}\in \cK(X_i)$ for every $i\in I$. Then $\{f_i\cdot f_{ij}:X_{ij}\ra X\}_{i\in I,j\in J_i}\in \cK(X)$.
\end{enumerate}
Then we say that $\cK=\{\cK(X)\}_{x\in \cC}$ is \textit{a Grothendieck pretopology on $\cC$}.
\end{definition}

\begin{proposition}
Suppose that $\cK=\{\cK(X)\}_{X\in \cC}$ is a Grothendieck pretopology on $\cC$. For every $X$ in $\cC$ define 
$$\cJ(X)=\big\{S\,\big|\,S\mbox{ is a sieve on }X\mbox{ and }S\mbox{ contains some collection in }\cK(X)\big\}$$
Then $\cJ=\{\cJ(X)\}_{X\in \cC}$ is a Grothendieck topology on $\cC$.
\end{proposition}
\begin{proof}
Note that for every object $X$ in $\cC$ we have
$$\big\{f\in \bd{Mor}(\cC)\,\big|\,\mbox{ codomain of }f\mbox{ is }X\big\}=\mbox{a sieve on }X\mbox{ that contains }1_X$$
According to $\{1_X:X\ra X\}\in \cK(X)$, we derive that family $\cJ(X)$ contains the maximal sieve on $X$.\\
Now suppose that $S\in \cJ(X)$ and $f:Y\ra X$. There exists $\{f_i:X_i\ra X\}_{i\in I}\in \cK(X)$ that is contained in $S$. Then $f^*S$ contains $\{f'_i:X_i\times_XY\ra Y\}_{i\in I}$ where $f'_i$ are defined by cartesian squares
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{X_i\times_XY &  &   X_i   \\
 Y&   & X   \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ $} (m-1-3)
(m-2-1) edge node[below] {$ f $} (m-2-3)
(m-1-1) edge node[left] {$ f'_i$} (m-2-1)
(m-1-3) edge node[right] {$f_i $} (m-2-3);
\end{tikzpicture}
\end{center}
Since we have $\{f'_i:X_i\times_XY\ra Y\}_{i\in I}\in \cK(Y)$, we deduce that $f^*S\in \cJ(Y)$.\\
Finally assume that $R$ is a sieve on $X$, $S\in \cJ(X)$ and for every $f\in S$ we have $f^*R\in \cJ(\mathrm{dom}(f))$. By definition there exists $\{f_i:X_i\ra X\}_{i\in I}\in \cK(X)$ contained in $S$ and for every $i\in I$ there exists $\{f_{ij}:X_{ij}\ra X\}_{j\in J_i}\in \cK(X_i)$ contained in $f_i^*R$. Thus $R$ contains $\{f_i\cdot f_{ij}:X_{ij}\ra X\}_{i\in I,j\in J_i}$ and this is a family in $\cK(X)$. Hence $R\in \cJ(X)$.
\end{proof}

\begin{definition}
Let $\cK$ be a Grothendieck pretopology on $\cC$ and $\cJ$ be a Grothendieck topology on $\cC$ given by 
$$\cJ(X)=\big\{S\,\big|\,S\mbox{ is a sieve on }X\mbox{ and }S\mbox{ contains some collection in }\cK(X)\big\}$$
then we say that $\cJ$ is \textit{a Grothendieck topology generated by $\cK$}.
\end{definition}

\begin{definition}
Let $\cJ$ be a Grothendieck topology on $\cC$ and $\cK$ be a Grothendieck pretopology on $\cC$ that generates $\cJ$. Then we say that $\cK$ is \textit{a basis of the Grothendieck topology $\cJ$}.
\end{definition}
\noindent
The next result characterizes sheaves on sites for which Grothendieck topology is generated by some Grothendieck pretopology.

\begin{theorem}\label{theorem:sheavesintermsofkernels}
Let $\cK$ be a Grothendieck pretopology on $\cC$ and $\cJ$ be a topology generated by $\cK$. Then a presheaf $F$ on $\cC$ is a sheaf on with respect to $\cJ$ if and only if for every $\{f_i:X_i\ra X\}_{i\in I}\in \cK(X)$ the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=6em,text height=1.5ex, text depth=0.25ex] 
{F(X) &   \prod_{i\in I}F(X_i)& \prod_{(i,j)\in I\times I} F(X_i\times_XX_j)  \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$\langle F(f_i)\rangle_{i\in I} $} (m-1-2)
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \langle F(f'_{ij}) \cdot pr_i\rangle_{(i,j)}$} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \langle F(f''_{ij}) \cdot pr_j\rangle_{(i,j)}$} (m-1-3);
\end{tikzpicture}
\end{center}
is a kernel of a pair of arrows, where for every $(i,j)\in I\times I$ morphisms $f'_{ij}$ and $f'_{ji}$ form a cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{X_i\times_XX_j &  &   X_j   \\
 X_i&   & X   \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ f''_{ij}$} (m-1-3)
(m-2-1) edge node[below] {$ f_i $} (m-2-3)
(m-1-1) edge node[left] {$ f'_{ij} $} (m-2-1)
(m-1-3) edge node[right] {$ f_j  $} (m-2-3);
\end{tikzpicture}
\end{center}
\end{theorem}

\begin{proof}
Suppose that $F$ is a sheaf with respect to $\cJ$ and $\cF = \{f_i:X_i\ra X\}_{i\in I}$ be a collection in $\cK(X)$. Let $S$ be a sieve generated by $\{f_i\}_{i\in I}$. Then according to Proposition \ref{proposition:matchingfamiliesaskernels} we deduce that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=6em,text height=1.5ex, text depth=0.25ex] 
{F(S) &   \prod_{i\in I}F(X_i)&  \prod_{(i,j)\in I\times I} F(X_i\times_XX_j)  \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$\mathrm{can}_{\cF} \cdot \mathrm{res}_{S,\cF}^{-1} $} (m-1-2)
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \langle F(f'_{ij}) \cdot pr_i\rangle_{(i,j)}$} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \langle F(f''_{ij}) \cdot pr_j\rangle_{(i,j)}$} (m-1-3);
\end{tikzpicture}
\end{center}
is a kernel diagram. Since $F$ is sheaf in $\cJ$ and $S\in \cJ(X)$, we derive that the map $\mathrm{res}_S:F(X)\ra F(S)$ that sends $x\in F(X)$ to $\{F(f)(x)\}_{f\in S}$ is a bijection. Hence 
$$\langle F(f_i)\rangle_{i\in I} = \mathrm{can}_{\cF}\cdot \mathrm{res}_{S,\cF}^{-1}\cdot \mathrm{res}_S:F(X)\ra \prod_{i\in I}F(X_i)$$
is a kernel of a pair consisting of $\langle F(f'_{ij}) \cdot pr_i\rangle_{(i,j)}$ and $\langle F(f''_{ij}) \cdot pr_j\rangle_{(i,j)}$.\\
Now assume that $F$ is a presheaf on $\cC$ and for every collection $\{f_i:X_i\ra X\}_{i\in I}$ in $\cK(X)$ the diagram 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=6em,text height=1.5ex, text depth=0.25ex] 
{F(X) &   \prod_{i\in I}F(X_i)& \prod_{(i,j)\in I\times I} F(X_i\times_XX_j)  \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$\langle F(f_i)\rangle_{i\in I} $} (m-1-2)
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \langle F(f'_{ij}) \cdot pr_i\rangle_{(i,j)}$} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \langle F(f''_{ij}) \cdot pr_j\rangle_{(i,j)}$} (m-1-3);
\end{tikzpicture}
\end{center}
is a kernel pair. Now Proposition \ref{proposition:matchingfamiliesaskernels} implies that for any object $X$ and sieve $S$ generated by a collection in $\cK(X)$ every matching family for $S$ of elements of $F$ admits a unique amalgamation. In other words for every sieve $S$ on $X$ generated by some collection in $\cK(X)$ the map $\mathrm{res}_S:F(X)\ra F(S)$ that sends $x\in F(X)$ to $\{F(f)(x)\}_{f\in S}$ is bijective. Consider now any sieve $R$ in $\cJ(X)$. Then there exists a sieve $S$ on $X$ generated by some collection of $\cK(X)$ such that $S\subseteq R$. Consider a commutative triangle
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=2em, column sep=1em,text height=1.5ex, text depth=0.25ex] 
{ F(R)&      &  F(S)  \\
      &F(X)&          \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ \mathrm{res}_{R,S} $} (m-1-3)
(m-2-2) edge node[below = 3pt, left = 1pt] {$ \mathrm{res}_{R} $} (m-1-1)
(m-2-2) edge node[below = 3pt, right = 1pt] {$ \mathrm{res}_{S} $} (m-1-3);
\end{tikzpicture}
\end{center}
where $\mathrm{res}_{R,S}\left(\{x_f\}_{f\in R}\right)=\{x_f\}_{f\in S}$, $\mathrm{res}_{R}(x)=\{F(f)(x)\}_{f\in R}$ and $\mathrm{res}_{S}(x)=\{F(f)(x)\}_{f\in S}$. By what we prove above, we deduce that $\mathrm{res}_S$ is a bijection. Hence $\mathrm{res}_R$ is injective. Thus $F$ is a separated presheaf with respect to $\cJ$. By Proposition \ref{proposition:separatdpresheavesinduceinjections} the map $\mathrm{res}_{R,S}$ is injective. Therefore, $\mathrm{res}_{R,S}$, $\mathrm{res}_R$ are injective and $\mathrm{res}_S$ is bijective and they form a commutative triangle. Hence they are all bijective maps of classes. In particular, $\mathrm{res}_R$ is bijective. We deduce that $F$ is a sheaf with respect to $\cJ$.
\end{proof}
\noindent
The next result deals with certain set-theoretic issues and is important from the point of view of the next section.

\begin{proposition}
Let $\cK$ be a Grothendieck pretopology on $\cC$ and let $\cJ$ be a Grothendieck topology generated by $\cK$. Assume that the following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=1.5em]
\item For every object $X$ in $\cC$ the class $\cK(X)$ is a set.
\item For every object $X$ in $\cC$ every collection $\{f_i:X_i\ra X\}_{i\in I}\in \cK(X)$ is a set.
\end{enumerate}
Then for every presheaf $F\in \widehat{\cC}$ and every object $X$ in $\cC$ a colimit 
$$F^+(X) = \mathrm{colim}_{S\in \cJ(X)}F(S)$$
is a set.
\end{proposition}



\section{Sheaf associated to a presheaf}
\noindent
Let $\cC$ be a category. 
\noindent
Let $\cJ$ be a Grothendieck topology on $\cC$. Let us formulate certain technical set-theoretic assumption on $\cJ$.
\begin{enumerate}[label=\textbf{($\star$)}, leftmargin=1.5em]
\item For any presheaf $F$ on $\cC$, object $X$ in $\cC$ and a covering sieve $S$ there the class $F(S)$ of matching families for $S$ of elements of $F$ form a set and the class 
\end{enumerate}

\begin{theorem}\label{theorem:associatedsheaf}
Let $F$ be a presheaf on a Grothendieck site $(\cC,\cJ)$. There exists a sheaf $a(F)$ and a morphism $\eta_F:F \ra a(F)$ of presheaves such that for every sheaf $G$ and every morphism of presheaves $p:F \ra G$ there exists a unique morphism $r:a(F)\ra G$ making the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ a(F)& G   \\
  F   &    \\} ;
\path[->,line width=0.8pt, font=\scriptsize]  
(m-1-1) edge node[above] {$r $} (m-1-2)
(m-2-1) edge node[left]  {$\eta_F $} (m-1-1) 
(m-2-1) edge node[below = 8pt, right = -5pt]  {$p $} (m-1-2);
\end{tikzpicture}
\end{center}
commutative.
\end{theorem}
\noindent
First we construct a separated presheaf $F^+$ out of $F$. Fix an object $X$ of $\cC$. Suppose that $S$ is a covering sieve on $X$. Denote by $F(S)$ the set of all matching families for $S$ of elements of $F$. If $S_1\subseteq S_2$ are covering sieves on $X$, then we have a function $F(S_2)\ra F(S_1)$ given by restriction. Thus $\{F(S)\}_{S\in \cJ(X)}$ is a diagram indexed by a directed set $\cJ(X)$ and we define
$$F^+(X)=\mathrm{colim}_{S\in \cJ(X)}F(S)$$
Note that for every morphism $f:X_1\ra X_2$ in $\cC$ and for every sieve $S\in \cJ(X_2)$ we have a function $F(S)\ra F(f^*S)$ given by $F(S)\ni \{s_g\}_{g\in S}\mapsto \{s_{f\cdot g}\}_{g\in f^*S}\in F(f^*S)$. These functions for all $S\in \cJ(X_2)$ induce a map
$$F^+(X_2)\ra F^+(X_1)$$
and this defines a presheaf $F^+$. We also have a morphism of presheaves $i_F^+:F\ra F^+$ that sends $x\in F(X)$ to a class in $F^+(X)$ represented by a matching family of the form $\{F(f)(x)\}_{f\in S}$ for every covering sieve $S$ on $X$.
\begin{lemma}\label{lemma:plusconstruction}
The following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=1.5em]
\item $F^+$ is a separated presheaf.
\item If $F$ is separated presheaf, then $F^+$ is a sheaf.
\end{enumerate} 
\end{lemma}
\begin{proof}[Proof of the lemma]
We prove \textbf{(1)}. Fix an object $X\in \cC$ and a covering sieve $S$ on $X$. Suppose that $\{x_f\}_{f\in S}$ is a matching family for $S$ of elements of $F^+$. Assume that $y$, $z\in F^+(X)$ are amalgamations of $\{x_f\}_{f\in S}$. Then there exists a covering sieve $T$ on $X$ such that $y$ is represented by some matching family $\{s_f\}_{f\in T}$ for $T$ of elements of $F$ and $z$ is represented by some matching family $\{t_f\}_{f\in T}$ for $T$ of elements of $F$. Fix a morphism $f:Y\ra X$ in $S$. Then $F^+(f)(y)$ is represented by $\{s_{f\cdot g}\}_{g\in f^*T}$ and $F^+(f)(z)$ is represented by $\{t_{f\cdot g}\}_{g\in f^*T}$. Moreover, $F^+(f)(y)=x_f=F^+(f)(z)$ and hence there exists a covering sieve $R_f$ on $Y$ such that $R_f\subseteq f^*T$ and $s_{f\cdot g}=t_{f\cdot g}$ for every $g\in R_f$. Now we know that 
$$R=\bigcup_{f\in T}f\cdot R_f\subseteq S$$
is a covering sieve on $X$ and matching families $\{s_f\}_{f\in R}$, $\{t_f\}_{f\in R}$ for $R$ of elements of $F$ represent respectively $y$ and $z$. Since these families are equal, we derive that $y=z$. This implies that $F^+$ is separated.\\
Let us prove \textbf{(2)}. Fix an object $X\in \cC$ and a covering sieve $S$ on $X$. Suppose that $\{x_f\}_{f\in S}$ is a matching family for $S$ of elements of $F^+$. For every $f:Y\ra X$ in $S$ there exists a covering sieve $R_f$ on $Y$ and a matching family $\{s(f)_g\}_{g\in R_f}$ for $R_f$ of elements of $F$ that represents $x_f$. Formula
$$R=\bigcup_{f\in S}f\cdot R_f$$
defines a covering sieve on $X$ contained in $S$. We set $r_{f\cdot g}=s(f)_g$ for every $f\in S$ and $g\in R_f$. We check now that this definition is independent of choices of $f\in S$ and $g\in R_f$. For this suppose that $f_1$, $f_2\in S$ and $g_1\in R_{f_1}$, $g_2\in R_{f_2}$ satisfy $f_1\cdot g_1=f_2\cdot g_2$. Let $Z\in \cC$ denote a common domain of morphisms $g_1$, $g_2$. Now $F^+(g_1)(x_{f_1})$ is represented by a matching family $\{s(f_1)_{g_1\cdot g}\}_{\mathrm{cod}(g)=Z}$ and $F^+(g_2)(x_{f_2})$ is represented by a matching family $\{s(f_2)_{g_2\cdot g}\}_{\mathrm{cod}(g)=Z}$. According to equality
$$F^+(g_1)(x_{f_1})=x_{f_1\cdot g_1}=x_{f_2\cdot g_2}=F^+(g_2)(x_{f_2})$$
these families represent the same element of $F^+(Z)$. Hence we deduce that there exists a covering sieve $T$ on $Z$ such that $\{s(f_1)_{g_1\cdot g}\}_{g\in T}=\{s(f_2)_{g_2\cdot g}\}_{g\in T}$. Next $s(f_1)_{g_1}$ is an amalgamation for $\{s(f_1)_{g_1\cdot g}\}_{g\in T}$ and $s(f_2)_{g_2}$ is an amalgamation for $\{s(f_2)_{g_2\cdot g}\}_{g\in T}$. By separatedness of $F$, we derive that $s(f_1)_{g_1}=s(f_2)_{g_2}$. Thus family $\{r_f\}_{f\in R}$ is well defined. By definition it is a matching family for $R$ of elements of $F$. Hence it defines an element of $F(R)$ and this element represents some $x\in F^+(X)$. Fix now $f\in S$. By definition of $F^+$ we deduce that $F^+(f)(x)$ is represented by $\{r_{f\cdot g}\}_{g\in f^*R}$. This family contains $\{r_{f\cdot g}\}_{g\in R_f}=\{s(f)_{g}\}_{g\in R_f}$ and thus $F^+(f)(x)=x_f$. This proves that $\{x_f\}_{f\in S}$ admits an amalgamation. By \textbf{(1)} presheaf $F$ is separated. Hence amalgamation of $\{x_f\}_{f\in S}$ is unique.
\end{proof}

\begin{lemma}\label{lemma:universalpropertyofplusconstruction}
Let $p:F\ra G$ be a morphism of presheaves and assume that $G$ is a sheaf. Then there exists a unique morphism $q:F^+\ra G$ such that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ F^+& G   \\
  F   &    \\} ;
\path[->,line width=0.8pt, font=\scriptsize]  
(m-1-1) edge node[above] {$q $} (m-1-2)
(m-2-1) edge node[left]  {$i^+_F $} (m-1-1) 
(m-2-1) edge node[below = 8pt, right = -5pt]  {$p $} (m-1-2);
\end{tikzpicture}
\end{center}
is commutative.
\end{lemma}
\begin{proof}[Proof of the lemma]
Fix $X\in \cC$ and $x\in F^+(X)$. Then there exists a covering sieve $S$ on $X$ and a matching family $\{s_f\}_{f\in S}$ for $S$ of elements of $F$ that represents $x$. By definitions of $F^+$ and $i_F^+$ we have matching family $\{i_F^+(s_f)\}_{f\in S}$ for $S$ of elements of $F^+$ with $x$ as its amalgamation.\\
Assume that $q:F^+\ra G$ is a morphism such that $p=q\cdot i^+_F$.  We have $p(s_f)=q(i_F^+(s_f))$ for every $f\in S$. Therefore, $q(x)$ must be an amalgamation of a matching family $\{p(s_f)\}_{f\in S}=\{q(i^+_F(s_f))\}_{f\in S}$ for $S$ of elements of $G$. Since $G$ is a separated presheaf, there exists at most one such amalgamation. This proves uniqueness of $q$.\\
The existence of such a $q$ is also evident. As $G$ is a sheaf, one picks $q(x)$ to be the amalgamation of a matching family $\{p(s_f)\}_{f\in S}$ for $S$ of elements of $G$. Verification that uses definitions of $F^+$ and $i^+_F$ shows that this gives rise to a morphism $q:F^+\ra G$ which satisfies $p=q\cdot i^+_F$.
\end{proof}

\begin{proof}[Proof of the theorem]
We define $a(F)=\left(F^+\right)^+$ and $\eta_F=i^+_{F^+}\cdot i^+_F$. By Lemma \ref{lemma:plusconstruction} presheaf $a(F)$ is a sheaf. Now suppose that $p:F\ra G$ is a morphism of presheaves and $G$ is a sheaf. We apply Lemma \ref{lemma:universalpropertyofplusconstruction} twice to obtain a unique morphism $r:a(F)\ra G$ such that $p=r\cdot \eta_F$.
\end{proof}

\section{Dense subsites}

\begin{proposition}\label{proposition:densesubcategoriescharacterization}
Let $(\cC,\cJ)$ be a site and $\cK$ be its full subcategory. Then the following are equivalent.
\begin{enumerate}[label=\emph{\textbf{(\roman*)}}, leftmargin=1.5em]
\item For every object $X$ of $\cC$ and every $S$ covering sieve in $\cJ(X)$ there exists a sieve $R$ in $\cJ(X)$ generated by a collection of morphisms with domains in $\cK$ and contained in $S$.
\item For every object $X$ of $\cC$ there exists a covering sieve $S$ of $X$ generated by a collection of morphisms in $\cC$ with domains in $\cK$.
\end{enumerate}
\end{proposition}
\begin{proof}
The implication $\textbf{(i)}\Rightarrow \textbf{(ii)}$ is obvious. We prove $\textbf{(ii)}\Rightarrow \textbf{(i)}$. Let $f:Y\ra X$ be a morphism in $S$. Since $\cK$ is dense subcategory of the site $(\cC,\cJ)$, we derive that there exists a covering sieve $R_f$ in $\cJ(Y)$ generated by a collection of morphisms with domains in $\cK$. Now a collection
$$R = \bigcup_{f\in S}f\cdot R_f$$
is a covering sieve on $X$ by Fact \ref{fact:compositionofcoveringsieves}. It is also contained in $S$ and is generated by morphisms with domains in $\cK$.
\end{proof}

\begin{definition}
Let $(\cC, \cJ)$ be a site and $\cK$ be a full subcategory of $\cC$ satisfying equivalent condition of Proposition \ref{proposition:densesubcategoriescharacterization}. Then $\cK$ is called \textit{a dense subcategory of a site $(\cC,\cJ)$}.
\end{definition}

\begin{corollary}\label{corollary:sievesondense}
Let $(\cC,\cJ)$ be a site and $\cK$ be its dense subcategory. Fix an object $X$ of $\cK$ and a sieve $T$ in $\cJ(X)$. Then $T\cap \cK$ generates a sieve in $\cC$ contained in $\cJ(X)$.
\end{corollary}
\begin{proof}
By Proposition \ref{proposition:densesubcategoriescharacterization} we derive that there exists a sieve $R$ in $\cJ(X)$ contained in $T$ and generated by morphisms in $\cK$. Now a sieve in $\cC$ generated by $T\cap \cK$ contains $R$ and hence is an element of $\cJ(X)$ according to Proposition \ref{proposition:coveringsievesproperties}.
\end{proof}

\begin{corollary}\label{corollary:topologygeneratedondense}
Let $(\cC, \cJ)$ be a site and $\cK$ be its dense subcategory. For an object $X$ of $\cK$ we define $\cJ_{\cK}(X)$ as a collection of all sieves on $X$ of the form $T\cap \cK$ for $T$ in $\cJ(X)$. Then $\cJ_{\cK}$ is a Grothendieck topology on $\cK$.
\end{corollary}
\begin{proof}
Let $X$ be an object of $\cK$. The maximal sieve on $X$ in $\cK$ is the intersection of the maximal sieve on $X$ in $\cC$ and $\cK$. Hence the former is an element of $\cJ_{\cK}(X)$.\\
Suppose next that $T$ is a sieve in $\cJ(X)$ for some object $X$ of $\cK$ and let $f:Y\ra X$ be a morphism in $\cK$. Then $f^*T\in \cJ(Y)$ and since we have $f^*(T\cap \cK) \subseteq f^*T\cap \cK$, we deduce that $f^*(T\cap \cK)\in \cJ_{\cK}(Y)$. Thus pullback of an element of $\cJ_{\cK}(X)$ by $f$ is in $\cJ_{\cK}(Y)$.\\
Finally suppose that $X$ is an object of $\cK$ and $S$, $R$ are sieves on $X$ in $\cK$. Assume that $S\in \cJ_{\cK}(X)$ and $f^*R\in \cJ_{\cK}(\mathrm{dom}(f))$ for every $f\in S$. Let $T$ be a sieve in $\cC$ generated by $R$. Then for every $f\in S$ we have $f^*R\subseteq f^*T$. Since $f^*R\in \cJ_{\cK}(\mathrm{dom}(f))$, we deduce by Corollary \ref{corollary:sievesondense} that sieve in $\cC$ generated by $f^*R$ is in $\cJ(\mathrm{dom}(f))$. This also shows $f^*T \in \cJ(\mathrm{dom}(f))$. Therefore, $f^*T$ is a covering sieve in $\cC$ for every $f\in S$. Since $S$ generates a covering sieve in $\cC$ by Corollary \ref{corollary:sievesondense}, we deduce that $T\in \cJ(X)$. Note that $R = T\cap \cK$ and hence $R\in \cJ_{\cK}(X)$.
\end{proof}

\begin{definition}
Let $(\cC,\cJ)$ be a site and $\cK$ be its dense subcategory. Then the Grothendieck topology $\cJ_{\cK}$ on $\cK$ described in Corollary \ref{corollary:topologygeneratedondense} is called \textit{the induced topology on $\cK$} and a pair $(\cK,\cJ_{\cK})$ is called \textit{a dense subsite of $(\cC,\cJ)$}.
\end{definition}

\begin{theorem}\label{theorem:densesubcategoriesandsheaves}
Let $\left(\cC,\cJ\right)$ be a site and $\cK\subseteq \cC$ be a dense subcategory. Then the embedding $\cK \hookrightarrow \cC$ induces a full and faithful functor
$$\Sh(\cC,\cJ)\ra \Sh(\cK,\cJ_{\cK})$$
If in addition for every object $X$ of $\cC$ there exists a covering sieve $S$ in $\cJ(X)$ generated by a set of morphisms with domains in $\cK$, then this functor is an equivalence.
\end{theorem}
\noindent
Let $F$ be a presheaf on $\cC$ and let $X$ be an object of $\cC$
\begin{lemma}
Let $F$ be a presheaf on $\cC$ and let $X$ be an object of $\cC$. Suppose that $S$ is a sieve on $X$ generated by a collection of morphisms $\cF = \big\{f_i:X_i\ra X\big\}_{i\in I}$. We denote by $F\left(\cF\right)$ the collection of all tuples $\{x_i\}_{i\in I}$ such that $x_i\in F(X_i)$ and for any $i, j\in I$ and morphisms $g_i, g_j$.  
\end{lemma}

\begin{lemma}
Let $F$ be a sheaf on $(\cC,\cJ)$. Fix an object $X$ of $\cC$ and a sieve $S$ in $\cJ(X)$ generated by a collection $\big\{f_i:X_i\ra X\big\}_{i\in I}$ of morphisms.
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=6em,text height=1.5ex, text depth=0.25ex] 
{F(S) &   \prod_{i\in I}F(X_i)&  \prod_{(i,j)\in I\times I} F(X_i\times_XX_j)  \\} ;
\path[->,line width=0.8pt,font=\scriptsize]
(m-1-1) edge node[above] {$ \mathrm{res} $} (m-1-2)
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \langle F(f'_{ij}) \cdot pr_i\rangle_{(i,j)}$} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \langle F(f''_{ij}) \cdot pr_j\rangle_{(i,j)}$} (m-1-3);
\end{tikzpicture}
\end{center}
\end{lemma}
\begin{proof}[Proof of the lemma]

\end{proof}

\begin{proof}
First we prove that this functor is full and faithful. Suppose that $\sigma:F\ra G$ is a morphism of sheaves on $\left(\cK,\cJ_{\cK}\right)$.
\end{proof}
























\small
\bibliographystyle{alpha}
\bibliography{zzz}


\end{document}