\input ../pree

\begin{document}

\title{Quotients of algebraic groups}
\date{}
\maketitle

\section{Introduction}
\noindent
Throughout this notes $k$ denote a field and $\bd{G}$ denote a group scheme over $k$. We denote by $e$ the identity of $\bd{G}$. We also fix a $k$-scheme $X$ equipped with an action of $\bd{G}$ determined by morphism $a:\bd{G}\times_kX\ra X$.

\section{Basic properties of scheme group quotients}
\noindent
The following result gives scheme-theoretic criterion for topological quotient in the case of group scheme actions.

\begin{proposition}\label{proposition:topological_group_quotient_is_implied_by_submersive_and_kernel_pair}
Let $Y$ be a $k$-scheme with the trivial action of $\bd{G}$ and let $q:X\ra Y$ be a $\bd{G}$-equivariant morphism. Assume that $q$ is submersive and the morphism $\bd{G}\times_kX\ra X\times_YX$ induced by $a$ and $\mathrm{pr}_X$ is surjective. Then the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &  X &  Y \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
is a cokernel in the category topological spaces.
\end{proposition}
\begin{proof}
Let $\pi_1$ and $\pi_2$ be distinct projections $X\times_YX\ra X$. Pick points $x_1$ and $x_2$ in $X$ such that $q(x_1) = q(x_2)$. Then there exists a field extension $K$ over $k$ such that $k(x_1)\subseteq K$ and $k(x_2)\subseteq K$. These give rise to $K$-points $\ol{x_1}$ and $\ol{x_2}$ of $X$ such that their images under $q$ is the same $K$-point of $Y$. Since we have an identification
$$\big(X\times_YX\big)(K) = X(K)\times_{Y(K)}X(K)$$ 
induced by $\pi_1$ and $\pi_2$, we derive that there exists a $K$-point $\ol{z}$ of $X\times_YX$ such that $\pi_1(\ol{z}) = \ol{x_1}$ and $\pi_2(\ol{z}) = \ol{x_2}$. Let $z$ be the point of $X\times_YX$ corresponding to $\ol{z}$. Then $\pi_1(z) = x_1$ and $\pi_2(z) = x_2$. By assumption $a$ and $\mathrm{pr}_X$ induce surjection $\bd{G}\times_kX\twoheadrightarrow X\times_YX$. Thus there exists a point $u$ of $\bd{G}\times_kX$ such that $a(u) = x_1$ and $\mathrm{pr}_X(u) = x_2$. Thus $x_1$ and $x_2$ are identified by an equivalence relation on the underlying set of $X$ which is determined by the pair $(a, \mathrm{pr}_X)$. Therefore, fibers of $q$ are equivalence classes with respect to this relation. Since $q$ is submersive, this implies that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &  X &  Y \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
is a cokernel in the category topological spaces.
\end{proof}
\noindent
Now we prove a series results concerning fpqc descent. For this we fix a $k$-scheme $Y$ with the trivial action of $\bd{G}$ and a $\bd{G}$-equivariant morphism $q:X\ra Y$. Let $g:Y'\ra Y$ be a morphism of $k$-schemes and consider the cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ X' &   X                           \\
    Y' &   Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ g' $} (m-1-2)
(m-2-1) edge node[below] {$ g $} (m-2-2)
(m-1-1) edge node[left] {$ q' $} (m-2-1)
(m-1-2) edge node[auto] {$ q $} (m-2-2);
\end{tikzpicture}
\end{center}
of $k$-schemes. Note that $X'$ admits a unique action $a'$ of $\bd{G}$ such that the square above consists of $\bd{G}$-equivariant morphism (we consider $g$ as a $\bd{G}$-equivariant morphism between trivial $\bd{G}$-schemes).

\begin{fact}\label{fact:submersive_and_universally_submersive_descent_along_fpgc}
Suppose that $g$ is faithfully flat and quasi-compact. Assume that $q'$ is (universally) submersive. Then $q$ is (universally) submersive.
\end{fact}
\begin{proof}
It suffices to prove that submersive morphisms have descent property. This follows from the fact that $g$ (as faithfully flat and quasi-compact morphism) and $q'$ are submersive. Details are left for the reader.
\end{proof}

\begin{fact}\label{fact:surjection_on_kernel_pairs_descent}
Suppose that $g$ is faithfully flat and quasi-compact. Then the canonical morphism $X'\times_{Y'}X'\ra X\times_YX$ is faithfully flat and quasi-compact and there is the cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{   \bd{G}\times_kX' &   \bd{G}\times_kX                           \\
    X'\times_{Y'}X' &   X\times_YX                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$  $} (m-1-2)
(m-2-1) edge node[below] {$  $} (m-2-2)
(m-1-1) edge node[left] {$  $} (m-2-1)
(m-1-2) edge node[auto] {$  $} (m-2-2);
\end{tikzpicture}
\end{center}
in which the left vertical arrow is induced by $\langle a', \mathrm{pr}_{X'}\rangle:\bd{G}\times_kX'\ra X'\times_kX'$, the right vertical arrow is induced by $\langle a, \mathrm{pr}_X\rangle:\bd{G}\times_kX\ra X\times_kX$ and the bottom horizontal morphism is the canonical morphism.  
\end{fact}
\begin{proof}
Note that squares
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ X'\times_{Y'}X' &   X'\times_YX' & &  X'\times_YX' &   X\times_YX                           \\
    Y'           &   Y          & &  X'\times_k X' &   X\times_k X                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$  $} (m-1-2)
(m-2-1) edge node[below] {$ g $} (m-2-2)
(m-1-1) edge node[left] {$  $} (m-2-1)
(m-1-2) edge node[auto] {$  $} (m-2-2)
(m-1-4) edge node[auto] {$  $} (m-1-5)
(m-2-4) edge node[below] {$ g'\times_kg'  $} (m-2-5)
(m-1-4) edge node[left] {$  $} (m-2-4)
(m-1-5) edge node[auto] {$  $} (m-2-5);
\end{tikzpicture}
\end{center}
are cartesian. Since both $g$ and $g'\times_k g'$ are faithfully flat and quasi-compact, we derive that both morphisms $X'\times_{Y'}X'\ra X'\times_YX'$ and $X'\times_YX'\ra X\times_YX$ are faithfully flat and quasi-compact. Then their composition i.e. the canonical morphism $X'\times_{Y'}X'\ra X\times_YX$ is faithfully flat and quasi-compact.
\end{proof}
\noindent
Finally we need the following notion

\begin{definition}
Let $Y$ be a $k$-scheme with the trivial action of $\bd{G}$ and let $q:X\ra Y$ be a $\bd{G}$-equivariant morphism. Consider a pair
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ q_*\cO_{X} & q_*\left(\mathrm{pr}_{X}\right)_*\cO_{\bd{G}\times_kX} = q_*a_*\cO_{\bd{G}\times_k X} \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ q_*a^{\#}  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ q_*\mathrm{pr}_X^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
of morphisms of sheaves of rings on $Y$. Suppose that $q^{\#}:\cO_Y\ra q_*\cO_X$ is a kernel of this pair. Then \textit{$\cO_Y$ is the sheaf of $\bd{G}$-invariants for $q$}.
\end{definition}

\begin{proposition}\label{proposition:faithfully_flat_descent_for_invariants}
Suppose that $g$ is faitfully flat and quasi-compact. Assume that $q'$ is quasi-compact, semiseparated and $\cO_{Y'}$ is the sheaf of $\bd{G}$-invariants for $q'$. Then $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $q$.
\end{proposition}
\begin{proof}
We denote by $a'$ the action of $\bd{G}$ on $X'$. First note that $q$ is semiseparated and quasi-compact morphism as these classes of morphisms admit descent along quasi-compact and faithfully flat morphisms. Since $q$ is quasi-compact, semiseparated and $g$ is flat, we derive that for every quasi-coherent sheaf $\cF$ on $X$ the canonical morphism $q'_*g'^*\cF \ra  g^*q_*\cF$ is an isomorphism. Thus the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \cO_{Y'} & q'_*\cO_{X'} & q'_*\left(\mathrm{pr}_{X'}\right)_*\cO_{\bd{G}\times_kX'} = q'_*a'_*\cO_{\bd{G}\times_k X'} \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ q'_*{a'}^{\#}  $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ q'_*\mathrm{pr}_{X'}^{\#} $} (m-1-3)
(m-1-1) edge node[above] {$ q^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
is isomorphic to the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ g^*\cO_Y & g^*\left(q_*\cO_X\right) & g^*\left(q_*\left(\mathrm{pr}_X\right)_*\cO_{\bd{G}\times_kX}\right) = g^*\left(q_*a_*\cO_{\bd{G}\times_k X}\right) \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ g^*q_*a^{\#}  $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ g^*q_*\mathrm{pr}_X^{\#} $} (m-1-3)
(m-1-1) edge node[above] {$ g^*q^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
Since $\cO_{Y'}$ is the sheaf of $\bd{G}$-invariants for $q'$, the first diagram is a kernel diagram. Hence the second is a kernel diagram. According to the fact that $g$ is faithfully flat we deduce that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \cO_{Y} & q_*\cO_{X} & q_*\left(\mathrm{pr}_{X}\right)_*\cO_{\bd{G}\times_kX} = q_*a_*\cO_{\bd{G}\times_k X} \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ q_*{a}^{\#}  $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ q_*\mathrm{pr}_{X}^{\#} $} (m-1-3)
(m-1-1) edge node[above] {$ q^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
is also a kernel diagram. Thus $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $q$.
\end{proof}

\section{Categorical and geometric quotients}

\begin{definition}
Let $Y$ be a $k$-scheme with the trivial action of $\bd{G}$ and let $q:X\ra Y$ be a $\bd{G}$-equivariant morphism. Suppose that the following conditions hold.
\begin{enumerate}[label=\textbf{(\arabic*)}, leftmargin=3.0em]
\item $q$ is submersive.
\item The morphism $\bd{G}\times_kX\ra X\times_YX$ induced by $\langle a, \mathrm{pr}_x\rangle:\bd{G}\times_kX \ra X\times_kX$ is surjective.
\item $\cO_Y$ is the sheaf of $\bd{G}$-invariant for $q$.
\end{enumerate}
Then $q$ is \textit{a geometric quotient of $X$}.
\end{definition}

\begin{corollary}\label{corollary:geometric_quotient_is_ringed_space_quotient}
Let $q$ be a geometric quotient of $X$. Then the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{\bd{G}\times_kX &  X & Y\\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
is a cokernel in the category of ringed spaces.
\end{corollary}
\begin{proof}
Due to the fact that $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $q$ it suffices to prove that
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{\bd{G}\times_kX &  X & Y\\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
is the cokernel in the category of topological spaces. This follows from Proposition \ref{proposition:topological_group_quotient_is_implied_by_submersive_and_kernel_pair}.
\end{proof}

\begin{definition}
Let $q:X\ra Y$ be a morphism of $k$-schemes such that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{\bd{G}\times_kX &  X & Y\\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
is a cokernel in the category of $k$-schemes. Then $q:X\ra Y$ is \textit{a categorical quotient of $X$}.
\end{definition}

\begin{fact}\label{fact:geometric_quotients_are_categorical}
Every geometric quotient is categorical.
\end{fact}
\begin{proof}
Categorical quotient is a cokernel in the category of $k$-schemes. On the other hand geometric quotient is a cokernel in the category of locally ringed spaces and hence it also satisfies cokernel property in its full subcategory of $k$-schemes. Thus every geometric quotient is categorical.
\end{proof}
\noindent
Let $q:X\ra Y$ be a morphism of $k$-schemes such that $q\cdot \mathrm{pr}_X = q\cdot a$. For a morphism $g:Y'\ra Y$ of $k$-schemes consider the cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=2em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{ X' &    X                           \\
    Y' &   Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ g'$} (m-1-2)
(m-2-1) edge node[below] {$ g$} (m-2-2)
(m-1-1) edge node[left] {$q' $} (m-2-1)
(m-1-2) edge node[auto] {$ q$} (m-2-2);
\end{tikzpicture}
\end{center} 
Then there exists a unique action $a':\bd{G} \times_kX' \ra X'$ of $\bd{G}$ on $X'$ such that the square above consists of $\bd{G}$-equivariant morphism (we consider $Y,Y'$ as $\bd{G}$-schemes equipped with trivial $\bd{G}$-actions). Keeping this in mind we have the following.

\begin{definition}
A morphism $q:X\ra Y$ is \textit{a uniform categorical (geometric) quotient of $X$} if for every flat morphism $g:Y'\ra Y$ its base change $q':X'\ra Y'$ is a categorical (geometric) quotient of $X'$. 
\end{definition}

\begin{definition}
A morphism $q:X\ra Y$ is \textit{a universal categorical (geometric) quotient of $X$} if for every morphism $g:Y'\ra Y$ its base change $q':X'\ra Y'$ is a categorical (geometric) quotient of $X'$. 
\end{definition}

\begin{corollary}\label{corollary:geometric_quotients_descent_along_fpqc}
Let $g:Y'\ra Y$ be a faithfully flat and quasi-compact morphism. Suppose that $q'$ is a geometric quotient, then $q$ is a geometric quotient.
\end{corollary}
\begin{proof}
This follows from Facts \ref{fact:submersive_and_universally_submersive_descent_along_fpgc}, \ref{fact:surjection_on_kernel_pairs_descent} and Proposition \ref{proposition:faithfully_flat_descent_for_invariants}.
\end{proof}
\noindent
In the next result we give a simple example of a universal geometric quotient.

\begin{proposition}\label{proposition:trivial_bundle_is_universal_geometric_quotient}
Suppose that $\bd{G}$ is a quasi-compact group scheme over $k$. Let $Y$ be a $k$-scheme and consider $\bd{G}\times_kY$ with the action of $\bd{G}$ induced by the regular action on the left factor. Then $\mathrm{pr}_Y:\bd{G}\times_kY\ra Y$ is a universal geometric quotient. 
\end{proposition}
\begin{proof}
Clearly $\mathrm{pr}_Y$ is univerally submersive (it is even universally open). Let $\mu:\bd{G}\times_k\bd{G}\ra \bd{G}$ be the multiplication morphism and let $\pi_{23}:\bd{G}\times_k\bd{G}\times Y\ra \bd{G}\times_kY$ be the projection on the last two factors. Then the morphism 
$$\bd{G}\times_k\bd{G}\times_kY\ra \left(\bd{G}\times_kY\right)\times_Y\left(\bd{G}\times_kY\right) = \bd{G}\times_k\bd{G}\times_kY$$
induced by $\langle \mu\times_k1_Y, \pi_{23}\rangle:\bd{G}\times_k\bd{G}\times_kY\ra \left(\bd{G}\times_kY\right)\times_k\left(\bd{G}\times_kY\right)$ is an isomorphism. We show that $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $\mathrm{pr}_Y$. For this pick an affine open subset $V$ of $Y$. It suffices to check that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=4em,text height=1.5ex, text depth=0.25ex] 
{ \Gamma(V,\cO_{Y}) & \Gamma\left(\bd{G}\times_kV, \cO_{\bd{G}\times_kY}\right) & \Gamma\left(\bd{G}\times_k\bd{G}\times_kV, \cO_{\bd{G}\times_k \bd{G}\times_kY}\right) \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \left(\mu\times_k1_Y\right)^{\#} $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \pi_{23}^{\#} $} (m-1-3)
(m-1-1) edge node[above] {$ \mathrm{pr}_Y^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
is a kernel. Since $\bd{G}$ is quasi-compact and separated (every group $k$-scheme is separated), we derive that the diagram above is isomorphic with
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=6em,text height=1.5ex, text depth=0.25ex] 
{ \Gamma(V,\cO_{Y}) & \Gamma\left(\bd{G},\cO_{\bd{G}}\right)\otimes_k\Gamma\left(V,\cO_Y\right) & \Gamma\left(\bd{G},\cO_{\bd{G}}\right)\otimes_k\Gamma\left(\bd{G},\cO_{\bd{G}}\right)\otimes_k\Gamma\left(V,\cO_Y\right) \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \chi\otimes f \mapsto \mu^{\#}(\chi)\otimes f $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \chi\otimes f \mapsto 1\otimes \chi\otimes f $} (m-1-3)
(m-1-1) edge node[above] {$ f\mapsto 1\otimes f $} (m-1-2);
\end{tikzpicture}
\end{center}
Thus the first diagram is the kernel diagram if $f\mapsto 1\otimes f$ induces an isomorphism of $\Gamma(V,\cO_Y)$ with subspace of $\Gamma\left(\bd{G},\cO_{\bd{G}}\right)\otimes_k\Gamma\left(V,\cO_Y\right)$ given by formula
$$\big\{ \chi \in \Gamma\left(\bd{G},\cO_{\bd{G}}\right)\big|\mu^{\#}(\chi) = 1 \otimes \chi\big\}\otimes_k\Gamma\left(V,\cO_Y\right)$$
Hence it suffices to prove that 
$$\big\{ \chi \in \Gamma\left(\bd{G},\cO_{\bd{G}}\right)\big|\mu^{\#}(\chi) = 1 \otimes \chi\big\} = \mbox{constant functions on $\bd{G}$}$$
For this pick a $k$-algebra $A$ and let $g:\Spec A\ra \bd{G}$ be an $A$-point. Next let $e:\Spec A \ra \bd{G}$ be an $A$-point of $\bd{G}$ which corresponds to the identity element of $\bd{G}$. Suppose that a regular function $\chi$ in $\bd{G}$ satisfies $\mu^{\#}(\chi) = 1\otimes \chi$. Then
$$g^{\#}(\chi) = \langle g, e\rangle^{\#}\mu^{\#}(\chi) =  \langle g, e\rangle^{\#}(1\otimes \chi) = e^{\#}(\chi)$$
Recall that $e$ is given by the composition of the structural morphism $\Spec A \ra \Spec k$ and the $k$-point $\Spec k\ra \bd{G}$ determined by the identity of $\bd{G}$. Thus $g^{\#}(\chi)$ is an element of $k$. Since this follows for every $g:\Spec A\ra \bd{G}$, we derive that $\chi$ is a constant function. This completes the proof of our claim that 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=4em,text height=1.5ex, text depth=0.25ex] 
{ \Gamma(V,\cO_{Y}) & \Gamma\left(\bd{G}\times_kV, \cO_{\bd{G}\times_kY}\right) & \Gamma\left(\bd{G}\times_k\bd{G}\times_kV, \cO_{\bd{G}\times_k \bd{G}\times_kY}\right) \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ \left(\mu\times_k1_Y\right)^{\#} $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \pi_{23}^{\#} $} (m-1-3)
(m-1-1) edge node[above] {$ \mathrm{pr}_Y^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
is the kernel diagram and hence $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $\mathrm{pr}_Y$. Therefore, we proved that $\mathrm{pr}_Y$ is a geometric quotient of $\bd{G}\times_kY$. Consider any morphism $Y' \ra Y$. Then base change of $\mathrm{pr}_Y$ along this morphism is $\mathrm{pr}_{Y'}$. We conclude that $\mathrm{pr}_Y$ is a universal geometric quotient for $\bd{G}\times_kY$. 
\end{proof}
    
\section{Geometric quotients of separated actions}

\begin{definition}
The action of $\bd{G}$ on $X$ is \textit{separated} if the morphism $\langle a, \mathrm{pr_X} \rangle:\bd{G}\times_kX\ra X\times_kX$ has closed set-theoretic image.
\end{definition}

\begin{theorem}\label{theorem:separatedness_of_universally_submersive_geometric_quotients_of_separated_actions}
Let $q:X\ra Y$ be a geometric quotient of $X$. Assume that $q$ is universally submersive. Then the following assertions are equivalent.
\begin{enumerate}[label=\emph{\textbf{(\roman*)}}, leftmargin=3.0em]
\item The action of $\bd{G}$ on $X$ is separated.
\item $Y$ is separated.
\end{enumerate}
\end{theorem}
\begin{proof}
We have a cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ X\times_Y X &    X \times_k X                           \\
    Y &   Y \times_k Y                 \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ $} (m-1-2)
(m-2-1) edge node[below] {$\Delta_Y $} (m-2-2);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[left] {$ $} (m-2-1)
(m-1-2) edge node[auto] {$ q\times_k q$} (m-2-2);
\end{tikzpicture}
\end{center}
It follows that $X\times_YX\hookrightarrow X\times_kX$ is a locally closed immersion. Since $q$ is a geometric quotient, we derive  that $\langle a, \mathrm{pr}_X \rangle$ factors as a surjective morphism $\bd{G} \times_k X\twoheadrightarrow X\times_YX$ followed by the immersion $X\times_YX\hookrightarrow X\times_kX$. Thus the action of $\bd{G}$ on $X$ is separated if and only if $X\times_YX$ is a closed subscheme of $X\times_kX$. Since $q$ is universally submersive, we derive that $q\times_kq$ is submersive. As the square above is cartesian we derive that $\Delta_Y(Y) \subseteq Y\times_kY$ is closed if and only if $X\times_YX\subseteq X\times_kX$ is closed. Therefore, $Y$ is separated if and only if the action of $\bd{G}$ on $X$ is separated.
\end{proof}

\section{Geometric quotients of free actions and principal bundles}

\begin{definition}
The action of $\bd{G}$ on $X$ is \textit{free} if the morphism $\langle a, \mathrm{pr_X} \rangle:\bd{G}\times_kX\ra X\times_kX$ is a closed immersion.
\end{definition}

\begin{definition}
Let $x$ be a $k$-point of $X$. Suppose that \textit{the orbit morphism $\bd{G}\ra X$ of $x$} given by the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2.5em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G} = \bd{G}\times_k\Spec k & & \bd{G}\times_kX & X                        \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$\mathrm{induced\,by\,}x  $} (m-1-3);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-3) edge node[auto] {$  $} (m-1-4);
\end{tikzpicture}
\end{center}
is a closed immersion. Then the action of $\bd{G}$ on $X$ has \textit{a closed free orbit at $x$}.
\end{definition}

\begin{fact}\label{fact:all_k_points_have_free_closed_orbit_for_free_actions}
If the action of $\bd{G}$ on $X$ is free, then every $k$-point of $X$ has a closed free orbit.
\end{fact}
\noindent
The following result states that over special type of local complete noetherian $k$-algebras geometric quotients of free actions correspond to trivial $\bd{G}$-bundles. 

\begin{theorem}\label{theorem:free_actions_over_complete_local_rings_are_trivial_bundles}
Suppose that $k$ is an algebraically closed field and $\bd{G}$ is a smooth algebraic group over $k$. Let $q:X\ra Y$ be a geometric quotient locally of finite type and let $Y$ be the spectrum of a complete local noetherian $k$-algebra such that the residue field of the closed point of $Y$ is $k$. Then the following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item If $x$ is a $k$-point of $X$ which has a closed free orbit, then there exists a $\bd{G}$-equivariant, {\'e}tale and surjective morphism $f:\bd{G}\times_k Y \ra X$ such that the triangle
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=2.5em, column sep=1em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_k Y &   & X \\
                   & Y &    \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ f  $} (m-1-3)
(m-1-1) edge node[below = 4pt, left = 1pt] {$ \mathrm{pr}_{Y} $} (m-2-2)
(m-1-3) edge node[below = 4pt, right = 1pt] {$ q $} (m-2-2);
\end{tikzpicture}
\end{center}
is commutative and the morphism
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ Y = \Spec k \times_k Y & \bd{G}\times_kY  & X                        \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$e\times_k1_Y  $} (m-1-2);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-2) edge node[auto] {$ f  $} (m-1-3);
\end{tikzpicture}
\end{center}
is a section of $q$.
\item If the action of $\bd{G}$ on $X$ is free, then $f$ is an isomorphism.
\end{enumerate}
\end{theorem}
\noindent
The proof relies on two algebraic lemmas. The first describe free actions in context of complete rings (it is {\cite[lemma on page 18]{mumford1994geometric}}) and the second is a version of Hensel's lemma.

\begin{lemma}\label{lemma:free_actions_in_formal_geometry}
Let $(R,\ideal{m},k)$ be a complete local noetherian $k$-algebra and let $\sigma:R\ra R[[x_1,...,x_n]]$ be a local morphism into a ring of formal power series over $R$. Assume that the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ R & R[[x_1,...,x_n]] & & & R                       \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ \sigma  $} (m-1-2)
(m-1-2) edge node[auto] {$ f\mapsto f\,\mathrm{mod}\,(x_1,...,x_n)  $} (m-1-5);
\end{tikzpicture}
\end{center}
is the identity and the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ R & R[[x_1,...,x_n]] & & \left(R/\ideal{m}\right)[[x_1,...,x_n]] = k[[x_1,...,x_n]]                      \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ \sigma  $} (m-1-2)
(m-1-2) edge node[auto] {$ f\mapsto f\,\mathrm{mod}\,\ideal{m}  $} (m-1-4);
\end{tikzpicture}
\end{center}
is surjective. Consider elements $y_1,...,y_n$ of $R$ such that $\sigma(y_i)\,\mathrm{mod}\,\ideal{m} = x_i$ for $i=1,...,n$. Then the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3.5em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ R & R[[x_1,...,x_n]] & & & \left(R/(y_1,...,y_n)\right)[[x_1,...,x_n]]                       \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ \sigma  $} (m-1-2)
(m-1-2) edge node[auto] {$ f\mapsto f\,\mathrm{mod}\,(y_1,...,y_n)  $} (m-1-5);
\end{tikzpicture}
\end{center}
is an isomorphism.
\end{lemma}
\begin{proof}[Proof of the lemma]
For convienience let $\phi$ denote the morphism given by the rule $r\mapsto \sigma(r)\,\mathrm{mod}\,(y_1,...,y_n)$. Also denote $R/(y_1,...,y_n)$ by $S$. According to assumptions we have
$$\sigma(y_i) = x_i + y_i + \sum_{j=1}^nx_j\cdot \ideal{m}[[x_1,...,x_n]]$$
for each $i$. Thus $\phi(y_i) = \sum_{j=1}^nf_{ij}\cdot x_j$
where $f_{ij}\in S$ are elements such that the matrix $\big[f_{ij}\big]_{1\leq i,j\leq n}$ is invertible in $S$. Hence
$$S[[x_1,...,x_n]] = S[[\phi(y_1),...,\phi(y_n)]]$$
and $\phi$ composed with $S[[\phi(y_1),...,\phi(y_n)]] \twoheadrightarrow S$ is the quotient morphism $R \twoheadrightarrow S$. From this observations we derive that $\phi$ is surjective. It remains to prove that it is injective. Consider $z$ in $R$ such that $\phi(z) = 0$. Suppose that $z \in (y_1,...,y_n)^m$ for some $m\in \NN$. Write
$$z = \sum_{\alpha \in \Lambda}c_{\alpha}\cdot y_1^{\alpha_1}...y_n^{\alpha_n}$$
for some $c_{\alpha}\in R$ where $\Lambda = \{\alpha \in \NN^n\,|\,\alpha_1+...+\alpha_n = m\}$. Hence
$$0 = \phi(z) = \sum_{\alpha \in \Lambda}\phi(c_{\alpha})\cdot \phi(y_1)^{\alpha_1}...\phi(y_n)^{\alpha_n}$$
Thus $\phi(c_{\alpha}) \in \left(\phi(y_1),...,\phi(y_n)\right)$ for every $\alpha \in \Lambda$. Since $\phi$ composed with $S[[\phi(y_1),...,\phi(y_n)]] \twoheadrightarrow S$ is the quotient morphism $R \twoheadrightarrow S$, we derive that 
$$c_{\alpha}\,\mathrm{mod}\,(y_1,...,y_n) = \phi(c_{\alpha})\,\mathrm{mod}\,\left(\phi(y_1),...,\phi(y_n)\right) = 0$$
for every $\alpha \in \Lambda$. Thus $c_{\alpha}\in (y_1,...,y_n)$ for every $\alpha \in \Lambda$, which implies that $z \in (y_1,...,y_n)^{m+1}$. Thus we proved that 
$$\mbox{$\phi(z) = 0$ and $z \in (y_1,...,y_n)^m$}\,\Rightarrow\,z \in (y_1,...,y_n)^{m+1}$$
By $\ideal{m}$-adic completeness of $R$ this implies that $\phi(z) = 0$ if and only if $z = 0$. Hence $\phi$ is also injective.
\end{proof}

\begin{lemma}\label{lemma:Hensels_lemma}
Let $(R,\ideal{m})$ be a complete local noetherian ring and let $R\ra S$ be a local morphism into a local noetherian ring. Suppose that there exists a finitely generated $R$-submodule $N$ of $S$ such that
$$S = N + \ideal{m}S$$
Then $S = N$.
\end{lemma}
\begin{proof}[Proof of the lemma]
Pick $s$ in $S$. Since $S = N + \ideal{m}S$, there exists a sequence $\{x_n\}_{n\in \NN}$ such that $x_n\in \ideal{m}^{n}N$ and 
$$s - \sum_{i\leq n}x_i \in \ideal{m}^{n+1}S$$
According to the assumption that $(R,\ideal{m})$ is complete with respect to $\ideal{m}$-adic topology and $N$ is finitely generated over $R$, we deduce that $N$ is complete with respect to $\ideal{m}$-adic topology. Hence there exists a unique element $x$ in $N$ such that
$$x = \sum_{n\in \NN}x_n$$
where above series is convergent with respect to $\ideal{m}$-adic topology. Note also that
$$x - \sum_{i\leq n}x_i\in \ideal{m}^{n+1}N$$
for every $n\in \NN$. Thus we have
$$s - x = \left(s - \sum_{i\leq n}x_i\right) - \left(x - \sum_{i\leq n}x_i\right) \in \ideal{m}^{n+1}S + \ideal{m}^{n+1}N = \ideal{m}^{n+1}S$$
for every $n\in \NN$. Hence
$$x - s \in \bigcap_{n\in \NN}\ideal{m}^nS$$
Since $R\ra S$ is local morphism and $S$ is a local ring, we deduce that $\ideal{m}S$ is contained in the maximal ideal of $S$. By assumptions $S$ is noetherian. Therefore, $S$ is separated with respect to $\ideal{m}$-adic topology. This implies that
$$0 = \bigcap_{n\in \NN}\ideal{m}^nS$$
Thus $s - x = 0$ and we infer that $s$ is an element of $N$. This completes the proof that $S = N$.
\end{proof}
\noindent
In what follows we shall denote by $\bd{G}x$ the closed subscheme determined by the orbit morphism $\bd{G}\ra X$ of a $k$-point $x$ of $X$ which has a closed free orbit. For readers convienience we include the following lemmas, which have topological content.

\begin{lemma}\label{lemma:fiber_over_closed_point_is_orbit}
Let $q:X\ra Y$ be a geometric quotient and assume that $Y$ is the spectrum of a local $k$-algebra such that the residue field of the closed point $o$ of $Y$ is $k$. Let $x$ be a $k$-point of $X$ with free closed orbit, then $q^{-1}(o) = \bd{G}x$ as closed subschemes of $X$. 
\end{lemma}
\begin{proof}[Proof of the lemma]
Morphism $q$ induces the morphism of residue fields $k(q(x)) \hookrightarrow k(x) = k$ over $k$. This implies that $k(q(x)) = k$ and hence $q(x)$ is a $k$-point of $Y$. Note that $o$ is the unique $k$-point of $Y$. Thus $q(x) = o$. Clearly $q^{-1}(o)$ is a closed $\bd{G}$-stable subscheme of $X$ (it is the preimage of $o$ under $\bd{G}$-equivariant $q$), that contains $x$. Since $\bd{G}x$ is the smallest closed $\bd{G}$-stable subscheme of $X$ containing $x$, we deduce that $\bd{G}x\subseteq q^{-1}(o)$ scheme-theoretically. Consider the pair of arrows
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &  X \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2);
\end{tikzpicture}
\end{center}
Passing to functors of points we obtain that $a^{-1}\left(\bd{G}x\right) = \mathrm{pr}_X\left(\bd{G}.x\right)$. Since $q$ is the cokernel of the pair $(a,\mathrm{pr}_X)$ in the category of topological spaces, we deduce that there exists a closed subset $Z$ of $Y$ such that $q^{-1}(Z) = \bd{G}x$. Clearly $o\in Z$ and hence $q^{-1}(o) \subseteq \bd{G}x$ set-theoretically. On the other hand above we proved that $\bd{G}x\subseteq q^{-1}(o)$ scheme-theoretically. This can only happen if $q^{-1}(o) = \bd{G}x$ as closed subschemes of $X$.
\end{proof}

\begin{lemma}\label{lemma:open_and_stable_with_k_point_are_entire}
Let $q:X\ra Y$ be a geometric quotient and assume that $Y$ is the spectrum of a local $k$-algebra such that the residue field of the closed point $o$ of $Y$ is $k$. Let $U$ be an open $\bd{G}$-stable subset of $X$ which contain a $k$-point. Then $U = X$. 
\end{lemma}
\begin{proof}[Proof of the lemma]
Consider the pair of arrows
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &  X \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2);
\end{tikzpicture}
\end{center}
Since $U$ is $\bd{G}$-stable open subset of $X$, we derive that $\mathrm{pr}_X^{-1}(U) = a^{-1}(U)$. Next by definition $q$ is the cokernel of the above pair in the category of topological spaces. Hence there exists an open subset $V$ of $Y$ such that $U = q^{-1}(V)$. Since $U$ contains a $k$-point of $X$, we deduce as in Lemma \ref{lemma:fiber_over_closed_point_is_orbit} that $o\in V$. Thus $V = Y$ and finally $U = q^{-1}(V) = X$.  
\end{proof}

\begin{proof}[Proof of the theorem]
We first prove \textbf{(1)}. Denote by $o$ the closed point of $Y$. Assume that $x$ is a $k$-point of $X$ which has a closed free orbit. Consider the surjective morphism $\cO_{X,x}\twoheadrightarrow \cO_{\bd{G},e}$ induced by the orbit morphism $\bd{G}\hookrightarrow X$ of $x$. Since $\bd{G}$ is smooth over $k$, the ring $\cO_{\bd{G},e}$ is regular. Pick a system of parameters $x_1,...,x_n$ of $\cO_{\bd{G},e}$ and let $y_1,...,y_n$ be elements of $\cO_{X,x}$ such that $y_i$ is send to $x_i$ by the morphism $\cO_{X,x}\twoheadrightarrow \cO_{\bd{G},e}$ for $1\leq i\leq n$. Define $S$ to be the quotient ring $\cO_{X,x}/(y_1,...,y_n)$. The morphism $q$ induces the morphism $q^{\#}:\cO_{Y,o} \ra \cO_{X,x}$ and hence the morphism $\cO_{Y,o}\ra S$. By Lemma \ref{lemma:fiber_over_closed_point_is_orbit} we have
$$S/\ideal{m}_oS = k$$
where $\ideal{m}_o$ is the maximal ideal of $\cO_{Y,o}$. According to Lemma \ref{lemma:Hensels_lemma} we derive that $\cO_{Y,o}\ra S$ is surjective. Let $f:\bd{G}\times_k\Spec S\ra X$ be the unique $\bd{G}$-equivariant morphism induced by the surjection $\cO_{X,x}\twoheadrightarrow S$. We have a commutative square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_k\Spec S &    X                           \\
    \Spec S &   Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ f $} (m-1-2)
(m-1-1) edge node[left] {$ \mathrm{pr}_{\Spec S}$} (m-2-1)
(m-1-2) edge node[auto] {$ q$} (m-2-2);
\path[right hook->,line width=1.0pt,font=\scriptsize]
(m-2-1) edge node[below] {$j $} (m-2-2);
\end{tikzpicture}
\end{center}
where $j$ is a closed immersion induced by $\cO_{Y,o}\twoheadrightarrow S$. According to assumptions $q$ is locally of finite type. Moreover, $\bd{G}$ is an algebraic group over $k$ and hence $\mathrm{pr}_{\Spec S}$ is locally of finite type. These two assertions together with the fact that $\Spec S\hookrightarrow Y$ is a closed immersion of noetherian schemes (and thus is of finite type) imply that $f$ is locally of finite type. Then by Lemma \ref{lemma:free_actions_in_formal_geometry} we deduce that $f$ induces an isomorphism 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3.5em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{   \widehat{\cO_{X,x}}  &  \hat{S}[[x_1,...,x_n]] = \hat{S}\hat{\otimes}_k\widehat{\cO_{\bd{G},e}}      \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$   $} (m-1-2);
\end{tikzpicture}
\end{center}
of complete local rings. Since $f$ is locally of finite type, it follows that $f$ is {\'e}tale at a $k$-point of $\bd{G}\times_k\Spec S$ determined by the unique $k$-point of $\Spec S$ and $e\in \bd{G}$. Let $U$ be an {\'e}tale locus of $f$. It contains a $k$-point and hence it is nonempty. Moreover, $U$ is open (it is {\'e}tale locus) subset of $X$. Since $f$ is $\bd{G}$-equivariant, we derive that $U$ is $\bd{G}$-stable. Similarly $f(U)$ is open $\bd{G}$-stable subset of $X$ and $x \in f(U)$. Thus by Lemma \ref{lemma:open_and_stable_with_k_point_are_entire} we deduce that 
$$U = \bd{G}\times_k\Spec S,\,f(U) = X$$
Therefore, $f$ is {\'e}tale and surjective. Now we pullback $q:X\ra Y$ along the closed immersion $\Spec S\hookrightarrow Y$. We obtain a cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{     \tilde{X}      &    X                           \\
    \Spec S &   Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[left] {$ \tilde{q}$} (m-2-1)
(m-1-2) edge node[auto] {$ q$} (m-2-2);
\path[right hook->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[above] {$ \tilde{j} $} (m-1-2)
(m-2-1) edge node[below] {$j $} (m-2-2);
\end{tikzpicture}
\end{center}
Then $f$ factors as a morphism $\bd{G}\times_k\Spec S\ra \tilde{X}$ followed by a closed immersion $\tilde{j}$. Since $f$ is {\'e}tale and surjective, we deduce that $\tilde{j}$ is {\'e}tale and surjective. This implies that $\tilde{j}$ is an isomorphism of schemes. By definition of geometric quotient we derive that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \cO_Y & q_*\cO_X & q_*\left(\mathrm{pr}_X\right)_*\cO_{\bd{G}\times_kX} = q_*a_*\cO_{\bd{G}\times_k X} \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ q_*a^{\#}  $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ q_*\mathrm{pr}_X^{\#} $} (m-1-3)
(m-1-1) edge node[above] {$ q^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
is the kernel in the category of sheaves on $Y$. Hence $q^{\#}:\cO_Y\ra q_*\cO_X$ is a monomorphism of sheaves. On the other hand we have
$$q^{\#} = j_*q_*\left(\tilde{j}^{-1}\right)^{\#} \cdot j_*\tilde{q}^{\#} \cdot j^{\#}$$
and thus $j^{\#}$ is a monomorphism. Since $j$ is a closed immersion, we infer that $j$ is an isomorphism. Therefore, we can identify $\Spec S$ with $Y$. Then $f$ is a morphism which makes the triangle
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=2.5em, column sep=1em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_k Y &  & X \\
                        & Y &    \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ f  $} (m-1-3)
(m-1-1) edge node[below = 4pt, left = 1pt] {$ \mathrm{pr}_{Y} $} (m-2-2)
(m-1-3) edge node[below = 4pt, right = 1pt] {$ q $} (m-2-2);
\end{tikzpicture}
\end{center}
commutative. This completes the proof of \textbf{(1)}.\\
For the proof of \textbf{(2)} consider the section $s:Y\hookrightarrow X$ described in \textbf{(1)}. Then $f$ fits into a cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{   \bd{G}\times_kY  &   X\times_YY = X                           \\
    \bd{G}\times_kX  &   X\times_YX                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[left] {$ 1_{\bd{G}}\times_Y s $} (m-2-1)
(m-1-2) edge node[auto] {$ 1_{X}\times_Y s$} (m-2-2)
(m-1-1) edge node[above] {$ f $} (m-1-2);
\path[right hook->,line width=1.0pt,font=\scriptsize]
(m-2-1) edge node[below] {$\phi $} (m-2-2);
\end{tikzpicture}
\end{center}
where $\phi$ is a closed immersion induced by the closed immersion $\langle a, \mathrm{pr}_X\rangle:\bd{G}\times_kX  \hookrightarrow   X\times_kX$ (the action of $\bd{G}$ on $X$ is free). Thus $f$ is a closed immersion. By \textbf{(1)} it is {\'e}tale and surjective. Therefore, $f$ is an isomorphism.  
\end{proof}

\begin{remark}\label{remark:principal_bundles_of_strictly_henselian_rings}
We expect that Theorem \ref{theorem:free_actions_over_complete_local_rings_are_trivial_bundles} holds for prime spectra of strictly henselian rings.
\end{remark}
\noindent
Now we introduce sufficient condition for smoothness of geometric quotient in case of locally algebraic $k$-schemes.

\begin{corollary}\label{corollary:sufficient_condition_for_smoothness_of_geometric_quotient}
Suppose that $\bd{G}$ is a smooth algebraic group over $k$. Let $q:X\ra Y$ be a morphism of finite type between $k$-schemes locally of finite type. Assume that $q$ is a uniform geometric quotient of $X$ and $x$ is a $k$-point of $X$ with closed free orbit. Then $q$ is smooth at $x$.
\end{corollary}
\begin{proof}
Since smoothness descent along faithfully flat morphisms, we may assume that $k$ is algebraically closed. Let $y = q(x)$. Then $y$ is a $k$-point of $Y$. Now $1_{\Spec \widehat{\cO_{Y,y}}}\times_kq$ is a geometric quotient and $\widehat{\cO_{Y,y}}$ is a complete local noetherian $k$-algebra with $k$ as a residue field. Moreover, $x$ is a $k$-point of $\Spec \widehat{\cO_{Y,y}}\times_kX$ with a closed free orbit. By Theorem \ref{theorem:free_actions_over_complete_local_rings_are_trivial_bundles} we deduce that $1_{\Spec \widehat{\cO_{Y,y}}}\times_k q$ is smooth. From descent for smoothness we infer that $q$ is smooth at $x$.
\end{proof}

\begin{definition}
Let $q:X\ra Y$ be a $\bd{G}$-equivariant morphism into a $k$-scheme $Y$ equipped with the trivial $\bd{G}$-action. Suppose that $q$ is faithfully flat, quasi-compact morphism and the square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &    X                 \\
   X              &    Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ a $} (m-1-2)
(m-1-1) edge node[left] {$ \mathrm{pr}_X $} (m-2-1)
(m-2-1) edge node[below] {$ q $} (m-2-2)
(m-1-2) edge node[right] {$ q $} (m-2-2);
\end{tikzpicture}
\end{center}
is cartesian. Then $q$ is \textit{a principal $\bd{G}$-bundle}.
\end{definition}
\noindent
Now we use Theorem \ref{theorem:free_actions_over_complete_local_rings_are_trivial_bundles} to describe principal $\bd{G}$-bundles in the category of locally algebraic $k$-schemes.

\begin{theorem}\label{theorem:principal_bundles_and_free_actions}
Suppose that $\bd{G}$ is a smooth algebraic group over $k$. Let $q:X\ra Y$ be a morphism of finite type between $k$-schemes locally of finite type. Then the following assertions are equivalent.
\begin{enumerate}[label=\emph{\textbf{(\roman*)}}, leftmargin=3.0em]
\item $q$ is a universal geometric quotient and the action of $\bd{G}$ on $X$ is free.
\item $q$ is a uniform geometric quotient and the action of $\bd{G}$ on $X$ is free.
\item $q$ is a principal $\bd{G}$-bundle.
\end{enumerate}
\end{theorem}
\begin{proof}
Clearly $\textbf{(i)}\Rightarrow \textbf{(ii)}$. Suppose that \textbf{(ii)} holds. Let $\ol{k}$ be an algebraic closure of $k$. Then $1_{\Spec \ol{k}}\times_kq$ is a uniform quotient and the action of $\Spec \ol{k}\times_k\bd{G}$ on $\Spec \ol{k}\times_kX$ induced by the action of $\bd{G}$ on $X$ is free. Moreover, if $1_{\Spec \ol{k}}\times_kq$ is a principal $\Spec \ol{k}\times_k\bd{G}$-bundle, then $q$ is a $\bd{G}$-bundle. This follows from the observation that property of being a principal bundle descents along faithfuly flat and quasi-compact base extensions. Thus we may assume that $k$ is algebraically closed. Next we pick a $k$-point $y$ of $Y$ and consider base change $1_{\Spec \widehat{\cO_{Y,y}}}\times_Yq$. This is a geometric quotient (because morphism $\Spec \widehat{\cO_{Y,y}}\ra Y$ is flat) and a morphism of finite type. Moreover, the action of $\bd{G}$ on $\Spec \widehat{\cO_{Y,y}}\times_YX$ is free. Since $\widehat{\cO_{Y,y}}$ is a complete noetherian $k$-algebra with residue field $k$, we derive by Theorem \ref{theorem:free_actions_over_complete_local_rings_are_trivial_bundles} that $\Spec \widehat{\cO_{Y,y}}\times_Yq$ is isomorphic as a $\bd{G}$-equivariant morphism with $\mathrm{pr}_{\Spec \widehat{\cO_{Y,y}}}$. By faithfuly flat descent for flat morphism we deduce that $q$ is flat at every point in the fiber $q^{-1}\left(\Spec \cO_{Y,y}\right)$. Since $y$ is an arbitrary $k$-point, it follows that $q$ is flat at every point of $X$ which specializes to a $k$-point. Every point of $X$ is a generization of a $k$-point ($X$ is locally of finite type and $k$ is algebraically closed). Thus $q$ is flat. It is also surjective (as it is a geometric quotient) and quasi-compact (it is of finite type). Therefore, it is faithfully flat and quasi-compact morphism. In order to obtain \textbf{(iii)} it remains to prove that the morphism $\Phi:\bd{G}\times_kX\ra X\times_YX$ induced by $a$ and $\mathrm{pr}_X$ is an isomorphism. Note that it is a closed immersion (the action of $\bd{G}$ on $X$ is closed). Moreover, $1_{\Spec \widehat{\cO_{Y,y}}}\times_Y \Phi$ is an isomorphism due to the fact that $1_{\Spec \widehat{\cO_{Y,y}}}\times_Yq$ is isomorphic as a $\bd{G}$-equivariant morphism with $\mathrm{pr}_{\Spec \widehat{\cO_{Y,y}}}$. By faithfully flat descent we infer that $1_{\Spec \cO_{Y,y}}\times_Y \Phi$ is an isomorphism. This holds for every $k$-point $y$ in $Y$. Thus $\Phi$ induces an isomorphism $\cO_{X\times_YX,\Phi(z)}\ra \cO_{\bd{G}\times_kX,z}$ for every $k$-point $z$ of $X\times_YX$. Hence a closed immersion $\Phi$ is an isomorphism. This completes the proof of $\textbf{(ii)}\Rightarrow \textbf{(iii)}$.\\
Assume now that \textbf{(iii)} holds. Then the square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &    X                 \\
    X              &    Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ a $} (m-1-2)
(m-1-1) edge node[left] {$ \mathrm{pr}_X $} (m-2-1)
(m-2-1) edge node[below] {$ q $} (m-2-2)
(m-1-2) edge node[right] {$ q $} (m-2-2);
\end{tikzpicture}
\end{center}
is cartesian and $q$ is faithfully flat and quasi-compact. By Proposition \ref{proposition:trivial_bundle_is_universal_geometric_quotient} morphism $\mathrm{pr}_X$ is a universal geometric quotient. According to Corollary \ref{corollary:geometric_quotients_descent_along_fpqc} we derive that $q$ is universal geometric quotient. Moreover, the cartesian square above shows that the morphism $\bd{G}\times_kX\ra X\times_YX$ induced by $a$ and $\mathrm{pr}_X$ is an isomorphism. Thus the action of $\bd{G}$ on $X$ is free. This is \textbf{(i)}. Hence $\textbf{(iii)}\Rightarrow \textbf{(i)}$ holds.
\end{proof}

\section{Good categorical quotients}
\noindent
We start by the following criterion for categorical quotients.

\begin{theorem}\label{theorem:good_categorical_quotient_is_categorical}
Let $q:X\ra Y$ be a morphism into a $k$-scheme $Y$ equipped with the trivial $\bd{G}$-action. Assume that the following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item $q$ is $\bd{G}$-equivariant.
\item $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $q$.
\item If $Z$ is a $\bd{G}$-stable closed subset of $X$, then $q(Z)$ is a closed subset of $Y$.
\item If $\{Z_i\}_{i\in I}$ is a family of closed $\bd{G}$-stable subsets with the empty intersection, then the intersection $\{q(Z_i)\}_{i\in I}$ is empty. 
\end{enumerate}
Then $q$ is submersive and it is a categorical quotient of $X$.
\end{theorem}
\begin{proof}
Clearly $q(X)$ is closed in $Y$. Hence $V = Y\setminus q(X)$ is open. Moreover, $q^{\#}:\cO_Y\ra q_*\cO_X$ is a monomorphism of sheaves of $k$-algebras. Thus we have a monomorphism $\cO_V\hookrightarrow \left(q_*\cO_X\right)_{q^{-1}(V)}$. We have $\left(q_*\cO_X\right)_{q^{-1}(V)} =0$ and hence $\cO_V =0$. This implies that $V = \emptyset$. Thus $q$ is surjective. Suppose that $Z$ is a subset of $Y$ such that $q^{-1}(Z)$ is a closed subset of $X$. Then $q^{-1}(Z)$ is a $\bd{G}$-stable closed subset and hence $q\left(q^{-1}(Z)\right)$ is closed. Note that $q\left(q^{-1}(Z)\right) = Z$ because $q$ is surjective. Thus $Z$ is closed. This completes the proof that $q$ is submersive.\\
Now we show that $q$ is a categorical quotient of $X$. For this pick a $\bd{G}$-equivariant morphism $p:X\ra Z$ where $Z$ is a $k$-scheme with the trivial $\bd{G}$-action. Consider open affine cover $\{W_i\}_{i\in I}$ of $Z$. Then $X\setminus p^{-1}(W_i)$ is a closed $\bd{G}$-stable closed for $i\in I$. Define $V_i = Y \setminus q\left(X\setminus p^{-1}(W_i)\right)$ for each $i$. Thus $V_i$ is an open subset of $Y$ for every $i\in I$. Moreover, we have
$$\bigcap_{i\in I}X\setminus p^{-1}(W_i) = \emptyset$$
and hence $\{V_i\}_{i\in I}$ form an open cover of $Y$. Note that for every $i\in I$ we have $q^{-1}(V_i)\subseteq p^{-1}(V_i)$. Consider the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=5em,text height=1.5ex, text depth=0.25ex] 
{ \Gamma\left(W_i,\cO_Z\right) & \Gamma\left(p^{-1}(W_i),\cO_X\right) & \Gamma\left(q^{-1}(V_i),\cO_X\right) \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[above] {$ p^{\#} $} (m-1-2)
(m-1-2) edge node[above] {$ f\mapsto f_{\mid q^{-1}(V_i)} $} (m-1-3);
\end{tikzpicture}
\end{center}
for every $i$ in $I$. Since the action of $\bd{G}$ on $Z$ is trivial, we derive that the image of the morphism above consists of $\bd{G}$-invariant functions on $q^{-1}(V_i)$. This means that the morphism above factors uniquely through $q^{\#}_{V_i}:\Gamma\left(V_i,\cO_Y\right)\ra \Gamma\left(q^{-1}(V_i),\cO_X\right)$. Since $W_i$ is affine for every $i$ in $I$, we obtain a unique morphism $f_i:V_i\ra W_i$ such that $f_i\cdot q_{\mid q^{-1}(V_i)} = p_{\mid q^{-1}(V_i)}$ for each $i$. By construction the family $\{f_i\}_{i\in I}$ glue to a morphism $f:Y\ra Z$ such that $f\cdot q = p$. This morphism is unique due to the fact that $f_i$ are unique for every $i$. This finishes the proof of the fact that $q$ is a categorical quotient of $X$.
\end{proof}

\begin{definition}
Let $q:X\ra Y$ be a morphism into a $k$-scheme $Y$ equipped with the trivial $\bd{G}$-action. Suppose that $q$ satisfies conditions \textbf{(1)}-\textbf{(4)} of Theorem \ref{theorem:good_categorical_quotient_is_categorical}. Then $q$ is \textit{a good categorical quotient of $X$}.
\end{definition}

\begin{proposition}\label{proposition:finite_intersection_property_for_quasi_compact_suffices_for_good_categorical_quotients}
Let $q:X\ra Y$ be a morphism into a $k$-scheme $Y$ equipped with the trivial $\bd{G}$-action. Assume that $X$ is quasi-compact and the following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item $q$ is $\bd{G}$-equivariant.
\item $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $q$.
\item If $Z$ is a $\bd{G}$-stable closed subset of $X$, then $q(Z)$ is a closed subset of $Y$.
\item If $Z_1$ and $Z_2$ are closed $\bd{G}$-stable subsets with the empty intersection, then $q(Z_1)\cap q(Z_2) = \emptyset$. 
\end{enumerate}
Then $q$ is a good categorical quotient of $X$.
\end{proposition}
\begin{proof}
Suppose that $\{Z_i\}_{i\in I}$ is a family of closed $\bd{G}$-stable subsets with the empty intersection. Since $X$ is quasi-compact, there exists a finite subset $\{i_1,...,i_n\}\subseteq I$ such that the family $\{Z_{i_1},...,Z_{i_n}\}$ has empty intersection. Then
$$\bigcap_{i\in I}q(Z_i)\subseteq \bigcap_{j=1}^nq(Z_{i_j}) = \emptyset$$
according to \textbf{(4)}. This implies that $q$ is a good categorical quotient.
\end{proof}
\noindent
As in case of categorical and geometric quotients one can introduce the following notion.

\begin{definition}
A morphism $q:X\ra Y$ is \textit{a universal (uniform) good categorical quotient of $X$} if for every (flat) morphism $g:Y'\ra Y$ its base change $q':X'\ra Y'$ to $Y'$ is a good categorical quotient of $X'$. 
\end{definition}

\section{Affine case}
\noindent
In this section we make the first important step towards existence of quotients by proving that good categorical quotients exists for affine $k$-schemes equipped with an action of geometrically reducitve groups. 

\begin{proposition}\label{proposition:invariant_functions_separate_closed_sets_for_geometrically_reductive}
Suppose that $\bd{G}$ is geometrically reductive group and $X$ is an affine $k$-scheme. Let $Z_1,Z_2$ be nonempty closed $\bd{G}$-stable subsets of $X$ such that $Z_1\cap Z_2 = \emptyset$. Then there exists $\bd{G}$-invariant regular function $f$ on $X$ such that $f_{\mid Z_1} = 1$ and $f_{\mid Z_2} = 0$.
\end{proposition}
\begin{proof}
By {\cite[Corollary 5.4]{Algebraic_groups}} we may consider $Z_1$ and $Z_2$ as a closed $\bd{G}$-stable subschemes of $X$. Since $Z_1\cap Z_2 = \emptyset$, we have 
$$\Gamma(Z_1\cup Z_2,\cO_X) = \Gamma(Z_1,\cO_X)\times \Gamma(Z_2,\cO_X)$$
In particular, there exists a regular invariant function 
$$g \in \Gamma(Z_1,\cO_X)^{\bd{G}}\times \Gamma(Z_2,\cO_X)^{\bd{G}} = \Gamma(Z_1\cup Z_2,\cO_X)^{\bd{G}}$$
such that $g_{\mid Z_1} = 1$ and $g_{\mid Z_2} = 0$
. Consider the canonical morphism
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \Gamma(X,\cO_X)^{\bd{G}} &  \Gamma(Z_1\cup Z_2,\cO_X)^{\bd{G}} = \Gamma(Z_1,\cO_X)^{\bd{G}}\times \Gamma(Z_2,\cO_X)^{\bd{G}}  \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[above] {$  $} (m-1-2);
\end{tikzpicture}
\end{center}
According to {\cite[Theorem 2.4]{Geometrically_reductive_and_Nagata}} there exists $f\in \Gamma(X,\cO_X)$ and a positive integer $r$ such that $f_{\mid Z_1\cup Z_2} = g^r$. Then $f_{\mid Z_1} = 1$ and $f_{\mid Z_2}=0$.
\end{proof}

\begin{theorem}\label{theorem:Mumfords_theorem_for_good_affine_quotients}
Suppose that $X$ is an affine $k$-scheme and $\bd{G}$ is a geometrically reductive group. Let $Y = \Spec \Gamma\left(X,\cO_X\right)^{\bd{G}}$ and let $q:X\ra Y$ be the canonical morphism. Then $q$ is a uniform good categorical quotient of $X$. Moreover, the following assertions hold. 
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item If $X$ is of finite type over $k$, then $Y$ is of finite type over $k$.
\item If $\bd{G}$ is linearly reductive, then $q$ is a universal good categorical quotient of $X$.
\item $q$ is universally submersive.
\end{enumerate}
\end{theorem}
\noindent
For the proof we need to following results.

\begin{lemma}\label{lemma:flat_base_change_for_invariants} 
Let $\bd{G}$ be an algebraic group which acts on $\Spec A$ for some $k$-algebra $A$. Fix a flat $A^{\bd{G}}$-algebra $B$. Then the canonical morphism $B \ra \left(A\otimes_{A^{\bd{G}}}B\right)^{\bd{G}}$ is an isomorphism of $k$-algebras.
\end{lemma}
\begin{proof}[Proof of the lemma]
For every linear representation $V$ of $\bd{G}$ we have a left exact sequence
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2.5em,text height=1.5ex, text depth=0.25ex] 
{ 0 & V^{\bd{G}} & V & & k[\bd{G}]\otimes_kV  \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[above] {$  $} (m-1-2)
(m-1-2) edge node[above] {$  $} (m-1-3)
(m-1-3) edge node[above] {$x\mapsto c(x) - 1\otimes x  $} (m-1-5);
\end{tikzpicture}
\end{center}
where $c:V\ra k[\bd{G}]\otimes_kV$ is the coaction. Now we denote by $d$ the coaction on $A$. Thus we have left exact sequences
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2.8em,text height=1.5ex, text depth=0.25ex] 
{ 0 & A^{\bd{G}}\otimes_{A^{\bd{G}}}B & A\otimes_{A^{\bd{G}}}B & & & k[\bd{G}]\otimes_kA\otimes_{A^{\bd{G}}}B  \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[above] {$  $} (m-1-2)
(m-1-2) edge node[above] {$  $} (m-1-3)
(m-1-3) edge node[above] {$x\otimes 1\mapsto d(x)\otimes 1 - 1\otimes x\otimes 1  $} (m-1-6);
\end{tikzpicture}
\end{center}
and
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2.8em,text height=1.5ex, text depth=0.25ex] 
{ 0 & \left(A\otimes_{A^{\bd{G}}}B\right)^{\bd{G}} & A\otimes_{A^{\bd{G}}}B & & & k[\bd{G}]\otimes_kA\otimes_{A^{\bd{G}}}B  \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[above] {$  $} (m-1-2)
(m-1-2) edge node[above] {$  $} (m-1-3)
(m-1-3) edge node[above] {$x\otimes 1\mapsto d(x)\otimes 1 - 1\otimes x\otimes 1   $} (m-1-6);
\end{tikzpicture}
\end{center}
Note that $A\otimes_{A^{\bd{G}}}B\ni x\otimes 1\mapsto d(x)\otimes 1\in k[\bd{G}]\otimes_kA\otimes_{A^{\bd{G}}}B$ is the coaction induced by $c$ on the base change $A\otimes_{A^{\bd{G}}}B$. This implies that there is canonical isomorphism
$$B =  A^{\bd{G}}\otimes_{A^{\bd{G}}}B \cong \left(A\otimes_{A^{\bd{G}}}B\right)^{\bd{G}}$$
\end{proof}

\begin{lemma}\label{lemma:substitute_of_complete_reducibility_for_geometrically_reductive}
Let $\bd{G}$ be geometrically reductive group which acts on $\Spec A$ for some $k$-algebra $A$. If $f_1,...,f_n\in A^{\bd{G}}$ and 
$$f \in \left(\sum_{i=1}^nAf_i\right)\cap A^{\bd{G}}$$
then there exists positive integer $r$ such that 
$$f^r \in \sum_{i=1}^nA^{\bd{G}}f_i$$
Moreover, if $\bd{G}$ is linearly reductive, then $r$ can be chosen to be $1$.
\end{lemma}
\begin{proof}[Proof of the lemma]
Let $d:A\ra k[\bd{G}]\otimes_kA$ be the coaction of $\bd{G}$ on $A$. The proof goes on induction on $n$. Write $f = a_1f_1+...+a_nf_n$ for $a_1,...,a_n\in A$. Consider $\ideal{a} = \mathrm{ann(f_1)} + Af_2+...+Af_n$. This is a $\bd{G}$-stable ideal in $A$. We show now that $a_1$ is $\bd{G}$-invariant modulo $\ideal{a}$. Indeed, we have
$$\left(1\otimes f_1\right)\left(d(a_1) - 1\otimes a_1\right) = d(f_1)d(a_1) - 1\otimes f_1a_1 = d(f) - 1\otimes f = 0$$
Hence 
$$d(a_1) - 1\otimes a_1 \in k[\bd{G}]\otimes_k \mathrm{ann}(f_1) \subseteq k[\bd{G}]\otimes_k \ideal{a}$$
and this shows that $a_1$ is $\bd{G}$-invariant modulo $\ideal{a}$. Therefore, according to {\cite[Theorem 2.4]{Geometrically_reductive_and_Nagata}} there exists positive integer $r$ and $a_1'\in A^{\bd{G}}$ such that $a_1^{r} - a_1' \in \ideal{a}$. Thus
$$f^r \in f_1^ra_1^r + Af_2+...+Af_n = f_1^ra_1' + Af_2+...+Af_n$$
Now if $n=1$, then we have $f^r = f_1^ra_1' \in A^{\bd{G}}f_1$ and the assertion holds. On the other hand if $n\geq 2$, then we can apply inductive hypothesis to 
$$f^r - f_1^ra_1'\in \left(Af_2+...+Af_n\right)\cap A^{\bd{G}}$$
and obtain that 
$$(f^r - f_1^ra_1')^d \in A^{\bd{G}}f_2 +...+ A^{\bd{G}}f_n$$
for some positive integer $d$. Then
$$f^{rd} \in A^{\bd{G}}f_1+ A^{\bd{G}}f_2 +...+ A^{\bd{G}}f_n$$
and the assertion holds.
\end{proof}

\begin{lemma}\label{lemma:surjectivity_of_the_affine_quotient}
Let $\bd{G}$ be geometrically reductive group which acts on $\Spec A$ for some $k$-algebra $A$. Then the morphism $\Spec A\ra \Spec A^{\bd{G}}$ is surjective.
\end{lemma}
\begin{proof}[Proof of the lemma]
Pick a prime ideal $\ideal{p}\in \Spec A^{\bd{G}}$. Consider $f \in A\ideal{p}\cap A^{\bd{G}}$. Then there exist $f_1,...,f_n\in \ideal{p}$ such that
$$f \in \left(Af_1+...+Af_n\right)\cap A^{\bd{G}}$$
By Lemma \ref{lemma:substitute_of_complete_reducibility_for_geometrically_reductive} we have
$$f^r \in A^{\bd{G}}f_1+ ... + A^{\bd{G}}f_n \subseteq \ideal{p}$$
for some positive integer $r$. Since $\ideal{p}$ is a prime ideal, we derive that $f\in \ideal{p}$. Thus $A\ideal{p}\cap A^{\bd{G}} = \ideal{p}$. Thus we have an injective morphisms $A^{\bd{G}}/\ideal{p} \hookrightarrow A/A\ideal{p}$ of $k$-algebras. This implies that the morphism $k(\ideal{p}) \ra k(\ideal{p})\otimes_{A^{\bd{G}}}A$ is also injective, where $k(\ideal{p})$ is a residue field of $\ideal{p}$ in $A^{\bd{G}}$. We infer that the fiber of $\Spec A\ra \Spec A^{\bd{G}}$ is nonempty. 
\end{proof}

\begin{lemma}\label{lemma:linearly_reductive_case_for_affine_quotients}
Let $\bd{G}$ be geometrically reductive group which acts on $\Spec A$ for some $k$-algebra $A$. Suppose that $\ideal{a}$ is an ideal in $A^{\bd{G}}$. Then $\left(A/A\ideal{a}\right)^{\bd{G}}$ is canonically isomorphic with $A^{\bd{G}}/\ideal{a}$.
\end{lemma}
\begin{proof}[Proof of the lemma]
Lemma \ref{lemma:substitute_of_complete_reducibility_for_geometrically_reductive} shows that $A\ideal{a}\cap A^{\bd{G}} = \ideal{a}$. Since $\bd{G}$ is linearly reductive, we have a canonical identification 
$$\left(A/A\ideal{a}\right)^{\bd{G}} = A^{\bd{G}}/\left(A\ideal{a}\right)^{\bd{G}} = A^{\bd{G}}/A\ideal{a}\cap A^{\bd{G}} = A^{\bd{G}}/\ideal{a}$$
\end{proof}

\begin{proof}[Proof of the theorem]
Since $X$ is quasi-compact, we may verify conditions of Proposition \ref{proposition:finite_intersection_property_for_quasi_compact_suffices_for_good_categorical_quotients}. First let us denote by $A$ the $k$-algebra of global regular functions $\Gamma(X,\cO_X)$. Suppose that $V \subseteq \Spec A^{\bd{G}} = Y$ is an open affine subset. Then $B = \Gamma(V,\cO_Y)$ is a flat $A^{\bd{G}}$-algebra and by Lemma \ref{lemma:flat_base_change_for_invariants}  we have canonical isomorphism
$$B \cong \left(A\otimes_{A^{\bd{G}}}B\right)^{\bd{G}}$$
This implies that $\Gamma(V,\cO_Y) \cong \Gamma(q^{-1}(V),\cO_X)^{\bd{G}}$ and hence $\cO_Y$ is the sheaf of $\bd{G}$-invariants for $q$.\\
Fix now a closed $\bd{G}$-stable subset $Z$ of $X$. By {\cite[Corollary 5.4]{Algebraic_groups}} there exists a $\bd{G}$-stable ideal $\ideal{a}\subseteq A$ such that its vanishing set is equal to $Z$. Consider a commutative square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \Spec A/\ideal{a} &    \Spec A                 \\
\Spec \left(A/\ideal{a}\right)^{\bd{G}}              &    \Spec A^{\bd{G}}                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$  $} (m-1-2)
(m-1-1) edge node[left] {$  $} (m-2-1)
(m-2-1) edge node[below] {$  $} (m-2-2)
(m-1-2) edge node[right] {$  $} (m-2-2);
\end{tikzpicture}
\end{center}
with canonically defined arrows. Note that $\Spec A/\ideal{a} \ra \Spec (A/\ideal{a})^{\bd{G}}$ is surjective (Lemma \ref{lemma:surjectivity_of_the_affine_quotient}) and according to {\cite[Theorem 2.4]{Geometrically_reductive_and_Nagata}} morphism
$$\Spec \left(A/\ideal{a}\right)^{\bd{G}}\ra \Spec A^{\bd{G}}/\ideal{a}\cap A^{\bd{G}}$$
is surjective. Thus the set-theoretic image of $\Spec A/\ideal{a}$ under the map $\Spec A\ra \Spec A^{\bd{G}}$ is a closed subset given by $\Spec A^{\bd{G}}/\ideal{a}\cap A^{\bd{G}}$. Hence $q(Z)$ is a closed subset of $Y$.\\
Fix now two closed $\bd{G}$-stable subsets $Z_1,Z_2$ and assume that $Z_1\cap Z_2 = \emptyset$. We claim that $q(Z_1) \cap q(Z_2) = \emptyset$. For this we may assume that $Z_1,Z_2$ are both nonempty. Proposition \ref{proposition:invariant_functions_separate_closed_sets_for_geometrically_reductive} implies that there exists $f \in \Gamma(X,\cO_X)^{\bd{G}}$ such that $f_{\mid Z_1} = 1$ and $f_{\mid Z_2} = 0$. Then $f$ viewed as a function on $Y$ satisfies $f_{\mid q(Z_1)} = 1$ and $f_{\mid q(Z_2)} = 0$. Thus $q(Z_1)\cap q(Z_2) = \emptyset$.\\
This completes the proof that $q$ is a good categorical quotient. Note that by Lemma \ref{lemma:flat_base_change_for_invariants} $q$ is a uniform good categorical quotient.\\
If $X$ is of finite type over $k$, then by {\cite[Theorem 3.1]{Geometrically_reductive_and_Nagata}} we deduce that $Y$ which is the prime spectrum of $\Gamma\left(X,\cO_X\right)^{\bd{G}}$ is of finite type over $k$.\\
If $\bd{G}$ is linearly reductive, then by Lemma \ref{lemma:linearly_reductive_case_for_affine_quotients} we deduce that good categorical quotients in affine case are stable under base changes along closed immersions. Lemma \ref{lemma:flat_base_change_for_invariants} shows that they are closed under flat base changes. Since every morphism can be factored as a flat morphism followed by a closed immersion, we derive that $q$ is a universal good categorical quotient.\\
Finally if $Z$ is a closed subscheme of $Y$, then the morphism $q^{-1}(Z)\ra Z$ induced by $q$ is submersive. Since $q$ is a uniform good categorical quotient and every morphism can be factored as a flat morphism followed by a closed immersion, we deduce that $q$ is universally submersive.
\end{proof}

\section{Quotients in quasi-projective case}
\noindent
We start by discussing some preliminary result concerning $\bd{G}$-linearizations of quasi-coherent sheaves. We assume in this section that $\bd{G}$ is an affine group scheme over $k$.

\begin{proposition}\label{proposition:coaction_on_global_sections}
Let $\cF$ be a quasi-coherent sheaf on $X$ and let $\tau:a^*\cF\ra \mathrm{pr}_X^*\cF$ be a $\bd{G}$-linearization of $\cF$. Suppose that $X$ is quasi-compact and semiseparated. Then the morphism
$$\Gamma(X,\cF)\ni s \mapsto \tau(a^*s) \in \Gamma(\bd{G}\times_kX,\mathrm{pr}^*_X\cF) = k[\bd{G}]\otimes_k\Gamma(X,\cF)$$
is a coaction of $\bd{G}$ on $\cF$.
\end{proposition}
\begin{proof}
We denote the morphism in the statement by $c$. Fix $s\in \Gamma(X,\cF)$. Write
$$c(s) = \sum_{i=1}^na_i\otimes s_i\in k[\bd{G}]\otimes_k\Gamma(X,\cF)$$
Then
$$\left(1_{k[\bd{G}]}\otimes_kc\right)\left(c(s)\right) = \sum_{i=1}^na_i\otimes c(s_i) = \sum_{i=1}^na_i\otimes \tau(a^*s_i) = \left(\mathrm{pr}_{23}^*\tau\right)\left(\sum_{i=1}^na_i \otimes a^*s_i\right) = $$
$$=\left(\mathrm{pr}_{23}^*\tau\right)\left(\sum_{i=1}^n\left(1_{\bd{G}}\times_ka\right)^*\left(a_i \otimes s_i\right)\right)=\left(\mathrm{pr}_{23}^*\tau \cdot \left(1_{\bd{G}}\times_ka\right)^*\tau\right)\left(\left(1_{\bd{G}}\times_ka\right)^*a^*s\right) =$$
$$= \left(\left(\mu\times_k1_X\right)^*\tau\right)\left(\left(\mu\times_k1_X\right)^*a^*s\right) =\left(\mu\times_k1_X\right)^*\left(\tau(a^*s)\right) = \left(\Delta \otimes_k 1_{\Gamma(X,\cF)}\right)\left(c(s)\right)$$
where $\Delta:k[\bd{G}]\ra k[\bd{G}]\otimes_kk[\bd{G}]$ is the comultiplication. Moreover, we also have
$$\left(\xi\otimes_k1_{\Gamma(X,\cF)}\right)\left(c(s)\right) = \left(e\times_k1_{X}\right)^*\left(\tau(a^*s)\right) = \left(\left(e\times_k1_{X}\right)^*\tau\right)\left(\left(e\times_k1_{X}\right)^*a^*s\right) =$$
$$= \left(\left(e\times_k1_{X}\right)^*a^*s\right) = 1\otimes s$$
where $\xi:k[\bd{G}]\ra k$ is the counit. These imply that $c$ is the coaction of $k[\bd{G}]$ on the space of global sections of $\cF$.
\end{proof}

\begin{definition}
Let $\cF$ be a quasi-coherent sheaf on $X$ and let $\tau:a^*\cF\ra \mathrm{pr}_X^*\cF$ be a $\bd{G}$-linearization of $\cF$. Suppose that $X$ is quasi-compact and semiseparated. Then Proposition \ref{proposition:coaction_on_global_sections} shows that $\Gamma(X,\cF)$ is a linear representation of $\bd{G}$. We call it \textit{the linear representation induced by $\bd{G}$-linearization $\tau$}.
\end{definition}
\noindent
Now we study properties of the linear representation induced by $\bd{G}$-linearization in case of a line bundle.

\begin{proposition}\label{proposition:representation_on_global_sections_of_line_bundle_properties}
Suppose that $X$ is quasi-compact and semiseparated. Let $\cL$ be a line bundle on $X$ and let $\tau:a^*\cL\ra \mathrm{pr}_X^*\cL$ be a $\bd{G}$-linearization of $\cL$. Then the following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item If $s\in \Gamma(X,\cL)$ is $\bd{G}$-invariant with respect to the structure of linear representation of $\bd{G}$ induced by $\tau$, then the open subscheme 
$$X_s = \big\{x\in  X\,\big|\,s(x)\neq 0\big\}$$
of $X$ is $\bd{G}$-stable.
\item If $t,s\in \Gamma(X,\cL)$ are $\bd{G}$-invariant global sections of with respect to the structure of linear representation of $\bd{G}$ induced by $\tau$, then the regular function $\frac{t}{s}\in \Gamma(X_s,\cO_X)$ is $\bd{G}$-invariant.
\end{enumerate}
\end{proposition}
\begin{proof}
Suppose that $s\in \Gamma(X,\cL)$ is $\bd{G}$-invariant with respect to the structure of linear representation of $\bd{G}$ induced by $\tau$. Then $\tau(a^*s) = \mathrm{pr}_X^*s$. Since $\tau$ is an isomorphism of line bundles on $\bd{G}\times_kX$, nonvanishing sets of $a^*s \in \Gamma\left(\bd{G}\times_kX,a^*\cL\right)$ and $\mathrm{pr}_X^*s \in \Gamma\left(\bd{G}\times_kX,\mathrm{pr}_X^*\cL\right)$ coincide. Next the nonvanishing set of $a^*s$ is $a^{-1}(X_s)$. On the other hand the nonvanishing set of $\mathrm{pr}_X^*s$ is $\mathrm{pr}_X^{-1}(X_s)$. Therefore, $a^{-1}(X_s) = \mathrm{pr}_X^{-1}(X_s)$ and hence $X_s$ is open $\bd{G}$-stable subscheme of $X$.


\end{proof}







\small
\bibliographystyle{apalike}
\bibliography{../zzz}

    
\end{document}
