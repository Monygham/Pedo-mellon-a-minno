
\usepackage{amsmath,amsthm,amssymb,amsfonts}
\usepackage[a4paper]{geometry}
\usepackage{a4wide}
\usepackage{parskip}
\usepackage{graphicx}              % to include figures
\usepackage{mathpazo}
\usepackage{bigints}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{color}
\usepackage{xcolor}
\hypersetup{
    colorlinks,
    linkcolor={red!80!black},
    citecolor={blue!80!black},
    urlcolor={blue!80!black}
}
\usepackage{marginnote}
\usepackage{mathrsfs} % fancy font
\usepackage{tikz}          
\usetikzlibrary{matrix,arrows}  % commutative diagrams
\usetikzlibrary{graphs}    % petersen as you may know
\usetikzlibrary{shapes,arrows} % control flow

\usepackage[margin=10pt,font=normalsize,labelfont=bf, labelsep=endash]{caption}
%\usepackage{bussproofs} % sequent calculus

\usepackage{listings}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstset{frame=tb,
language=python,
aboveskip=3mm,
belowskip=3mm,
showstringspaces=false,
columns=flexible,
basicstyle={\small\ttfamily},
numbers=none,
numberstyle=\tiny\color{gray},
keywordstyle=\color{blue},
commentstyle=\color{dkgreen},
stringstyle=\color{mauve},
breaklines=true,
breakatwhitespace=true,
tabsize=3,
inputencoding=utf8,
extendedchars=true,
literate={ą}{{\k{a}}}1 {ę}{{\k{e}}}1 {ć}{{\'c}}1 {ł}{{\l}}1 {ń}{{\'n}}1 {ó}{{\'o}}1 {ś}{{\'s}}1 {ż}{{\.z}}1 {ź}{{\'z}}1, 
}

\usepackage{scalerel,stackengine}
\stackMath
\newcommand\reallywidehat[1]{%
\savestack{\tmpbox}{\stretchto{%
  \scaleto{%
    \scalerel*[\widthof{\ensuremath{#1}}]{\kern-.6pt\bigwedge\kern-.6pt}%
    {\rule[-\textheight/2]{1ex}{\textheight}}%WIDTH-LIMITED BIG WEDGE
  }{\textheight}% 
}{0.5ex}}%
\stackon[1pt]{#1}{\tmpbox}%
}

% Define block styles
\tikzstyle{decision} = [diamond, draw, fill=blue!20, 
    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
    text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=3cm,
    minimum height=2em]

\colorlet{myred}{red!80!black}
\colorlet{myblue}{blue!80!black}
\colorlet{mygreen}{green!80!black}

% various theorems, numbered by section
\makeatletter
\def\thm@space@setup{\thm@preskip=4pt
\thm@postskip=2pt}
\makeatother

\newtheorem{theorem}{Theorem}[section]

\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{fact}[theorem]{Fact}

\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{conjecture}[theorem]{Conjecture}

\newtheorem{mainthm}{Theorem}
\renewcommand*{\themainthm}{\Alph{mainthm}}

% lemmas numbered by theorems
\newtheorem{lemma}{Lemma}[theorem]

\theoremstyle{definition} 
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{construction}[theorem]{Construction}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{setup}[theorem]{Setup}
\newtheorem{remark}[theorem]{Remark}


%############################
%### standard stuff
%############################
\newcommand{\ZZ}{{\mathbb Z}}
\newcommand{\NN}{{\mathbb N}}
\newcommand{\PP}{{\mathbb P}}
\newcommand{\FF}{{\mathbb F}}
\newcommand{\MM}{{\mathbb M}}

\newcommand{\VV}{{\mathbb V}}
\newcommand{\RR}{{\mathbb R}}
\newcommand{\CC}{{\mathbb C}}
\newcommand{\QQ}{{\mathbb Q}}
\newcommand{\EE}{{\mathbb E}}



\newcommand{\cZ}{{\mathcal Z}}
\newcommand{\cY}{{\mathcal Y}}
\newcommand{\cX}{{\mathcal X}}
\newcommand{\cW}{{\mathcal W}}
\newcommand{\cV}{{\mathcal V}}
\newcommand{\cU}{{\mathcal U}}
\newcommand{\cT}{{\mathcal T}}
\newcommand{\cS}{{\mathcal S}}
\newcommand{\cR}{{\mathcal R}}
\newcommand{\cP}{{\mathcal P}}
\newcommand{\cO}{{\mathcal O}}
\newcommand{\cN}{{\mathcal N}}
\newcommand{\cM}{{\mathcal M}}
\newcommand{\cL}{{\mathcal L}}
\newcommand{\cK}{{\mathcal K}}
\newcommand{\cI}{{\mathcal I}}
\newcommand{\cH}{{\mathcal H}}
\newcommand{\cG}{{\mathcal G}}
\newcommand{\cF}{{\mathcal F}}
\newcommand{\cE}{{\mathcal E}}
\newcommand{\cD}{{\mathcal D}}
\newcommand{\cC}{{\mathcal C}}
\newcommand{\cB}{{\mathcal B}}
\newcommand{\cA}{{\mathcal A}}
\newcommand{\cJ}{{\mathcal J}}

\newcommand{\fZ}{{\mathfrak Z}}
\newcommand{\fY}{{\mathfrak Y}}
\newcommand{\fX}{{\mathfrak X}}
\newcommand{\fW}{{\mathfrak W}}
\newcommand{\fV}{{\mathfrak V}}
\newcommand{\fU}{{\mathfrak U}}
\newcommand{\fT}{{\mathfrak T}}
\newcommand{\fS}{{\mathfrak S}}
\newcommand{\fR}{{\mathfrak R}}
\newcommand{\fP}{{\mathfrak P}}
\newcommand{\fO}{{\mathfrak O}}
\newcommand{\fN}{{\mathfrak N}}
\newcommand{\fM}{{\mathfrak M}}
\newcommand{\fL}{{\mathfrak L}}
\newcommand{\fK}{{\mathfrak K}}
\newcommand{\fI}{{\mathfrak I}}
\newcommand{\fH}{{\mathfrak H}}
\newcommand{\fG}{{\mathfrak G}}
\newcommand{\fF}{{\mathfrak F}}
\newcommand{\fE}{{\mathfrak E}}
\newcommand{\fD}{{\mathfrak D}}
\newcommand{\fC}{{\mathfrak C}}
\newcommand{\fB}{{\mathfrak B}}
\newcommand{\fA}{{\mathfrak A}}
\newcommand{\fJ}{{\mathfrak J}}
\newcommand{\fs}{{\mathfrak s}}

\newcommand{\fr}[1]{{\mathfrak{#1}}}

\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}
\newcommand{\rhu}{\rightharpoonup}
\newcommand{\dra}{\dashedrightarrow}


\newcommand{\Ext}{\mathrm{Ext}}
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\End}{\mathtrm{End}}
\newcommand{\Spec}{\mathrm{Spec}\,}
\newcommand{\Ker}{\mathrm{ker}}
\newcommand{\Coker}{\mathrm{coker}}
\newcommand{\Image}{\mathrm{im}}

\newcommand{\Proj}{\textrm{Proj}}
\newcommand{\Sym}{\textrm{Sym}}
\newcommand{\Mor}{\mathrm{Mor}}
\newcommand{\Aut}{\mathrm{Aut}}
\newcommand{\Iso}{\mathrm{Iso}}
\newcommand{\Map}{\mathrm{Map}}

\newcommand{\iMor}{\mathcal{M}\mathrm{or}}
\newcommand{\iIso}{\mathcal{I}\mathrm{so}}
\newcommand{\iAut}{\mathcal{A}\mathrm{ut}}

\newcommand{\shHom}{{\mathcal H}om}
\newcommand{\shEnd}{{\mathcal E}nd}


\newcommand{\PreTop}{\bd{PreTop}}
\newcommand{\Set}{\bd{Set}}
\newcommand{\Cat}{\bd{Cat}}
\newcommand{\Fun}{\bd{Fun}}
\newcommand{\Sh}{\bd{Sh}}
\newcommand{\PrSh}{\bd{PrSh}}
\newcommand{\Lrs}{\bd{Lrs}}
\newcommand{\Aff}{\bd{Aff}}
\newcommand{\Rs}{\bd{Rs}}
\newcommand{\Top}{\bd{Top}}
\newcommand{\Sch}{\bd{Sch}}
\newcommand{\Ab}{\bd{Ab}}
\newcommand{\Vect}{\bd{Vect}}
\newcommand{\CRing}{\bd{CRing}}
\newcommand{\Alg}{\bd{Alg}}
\newcommand{\Ban}{\bd{Ban}}
\newcommand{\Comp}{\bd{Comp}}
\newcommand{\sBan}{\bd{sBan}}
\newcommand{\Met}{\bd{Met}}
\newcommand{\PsMet}{\bd{PsMet}}
\newcommand{\Hdg}{\bd{Hdg}}
\newcommand{\Grp}{\bd{Grp}}
\newcommand{\Lie}{\bd{Lie}}
\newcommand{\Mnd}{\bd{Mnd}}
\newcommand{\GrMod}{\bd{GrMod}}
\newcommand{\Mod}{\bd{Mod}}
\newcommand{\Mon}{\bd{Mon}}
\newcommand{\Unif}{\bd{Unif}}
\newcommand{\Qcoh}{\mathfrak{Qcoh}}
\newcommand{\Coh}{\mathfrak{Coh}}
\newcommand{\GrQcoh}{\mathfrak{GrQcoh}}
\newcommand{\ModQcoh}{\mathfrak{ModQcoh}}


\newcommand{\bd}[1]{\mathbf{#1}}  % for bolding symbols
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ideal}[1]{\mathfrak{#1}}
\newcommand{\Oplus}{\ensuremath{\vcenter{\hbox{\scalebox{2}{$\oplus$}}}}}

\DeclareMathOperator*{\esssup}{ess\,sup}
