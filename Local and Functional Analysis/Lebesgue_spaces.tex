\input ../pree.tex

\begin{document}

\title{Lebesgue spaces and their duals}
\date{}
\maketitle


\section{Introduction}
\noindent
In these notes


\section{Localizable measure spaces}
\noindent
We start with a series of definitions.

\begin{definition}
  Let $(X,\Sigma,\mu)$ be a space with measure. We define relation $\sqsubseteq_{\mu}$ on $\Sigma$ as follows
  $$A \sqsubseteq_{\mu} B\,\Leftrightarrow\,\mu(A\setminus B) = 0$$
  Clearly $\Sigma$ together with $\sqsubseteq_{\mu}$ is a preorder.
\end{definition}

\begin{definition}
  Let $(X,\Sigma,\mu)$ be a space with measure. If $\left(\Sigma, \sqsubseteq_{\mu}\right)$ admits least upper bounds for arbitrary subfamilies of $\Sigma$, then $\mu$ is \textit{a Dedekind complete measure}.
\end{definition}

\begin{proposition}\label{proposition:sigma_finite_measure_spaces_are_Dedekind_complete}
Each $\sigma$-finite measure is Dedekind complete.
\end{proposition}
\begin{proof}
  Left for the reader as an exercise.
\end{proof}

\begin{definition}
  Let $(X,\Sigma,\mu)$ be a space with measure and let $\cF$ be a family of $\CC$-valued functions defined on some subsets of $X$. For each $f$ in $\cF$ we denote by $D_f$ the domain of $f$. Suppose that the following assertions hold.
  \begin{enumerate}[label=\textbf{(\arabic*)}, leftmargin=*]
    \item $D_f \in \Sigma$ for each $f\in \cF$.
    \item Functions in $\cF$ are measurable.
    \item If $f_1,f_2 \in \cF$, then ${f_1}_{\mid D_{f_1}\cap D_{f_2}}$ and ${f_2}_{\mid D_{f_1}\cap D_{f_2}}$ are equal $\mu$-almost everywhere.
  \end{enumerate}
  Then $\cF$ is \textit{a $\mu$-local family}.
\end{definition}
\noindent
The next theorem is an important result concerning Dedekind complete measures.

\begin{theorem}\label{theorem:on_Dedekind_complete_local_families_can_be_glued}
  Let $(X,\Sigma,\mu)$ be a space with Dedekind complete measure and let $\cF$ be a $\mu$-local family. Then there exists a measurable $\CC$-valued function $F$ on $(X,\Sigma)$ such that $F_{\mid D_f}$ and $f$ are equal $\mu$-almost everywhere for each $f \in \cF$.
\end{theorem}
\noindent
For the proof we need the following special case of our result.

\begin{lemma}\label{lemma:glueing_indicators_on_Dedekind_complete_measure}
  Let $(X,\Sigma,\mu)$ be a space with Dedekind complete measure and let $\cF$ be a $\mu$-local family. If $\cF$ consists of functions with values in $\{0,1\}$, then there exists a measurable and $\{0,1\}$-valued function $F$ on $(X,\Sigma)$ such that $F_{\mid D_f}$ and $f$ are equal $\mu$-almost everywhere for each $f \in \cF$.
\end{lemma}
\begin{proof}[Proof of the lemma]
  We define $A_f = f^{-1}(1)$ for $f \in \cF$. Clearly $\{A_f\}_{f\in \cF}$ is a family of sets in $\Sigma$. Let $A$ be a least upper bound of $\{A_{f}\}_{f\in \cF}$ with respect to $\sqsubseteq_{\mu}$. We claim for every $f \in \cF$ sets $A\cap D_f$ and $A_f$ differ by the set of measure $\mu$ equal to zero. In order to prove the claim note that $\left(A \setminus D_f\right) \cup A_{f}$ is an upper bound of $\{A_{f}\}_{f\in \cF}$ with respect to $\sqsubseteq_{\mu}$. Hence
  $$A \sqsubseteq_{\mu} \left(A \setminus D_f\right) \cup A_{f}$$
  It follows $A \cap D_f \sqsubseteq_{\mu} A_{f}$. On the other hand $A_f \sqsubseteq_{\mu} A\cap D_f$. Thus $A \cap D_f$ and $A_{f}$ are equivalent in $\left(\Sigma, \sqsubseteq_{\mu}\right)$. This proves the claim. Now it follows from that claim that $F = \mathbb{1}_{A}$ satisfies the assertion.
\end{proof}

\begin{proof}[Proof of the theorem]
  It suffices to prove the result under the additional assumption that all functions in $\cF$ take values in nonnegative reals. Indeed, the theorem for $\CC$-valued $\mu$-local families can be reduced to the case of $\RR$-valued families by means of decomposing each function in the family on its real and imaginary parts and the statement for $\RR$-valued $\mu$-local families in turn reduces to the result for nonnegative $\mu$-local families.\\
  Let us then assume that all functions in $\cF$ take values in nonnegative real numbers. For each $n,k \in \NN$ and $f \in \cF$ we define
  $$A_{k,n,f} = \bigg\{x \in X \,\bigg|\,\frac{k}{2^n} \leq f(x) \leq \frac{k+1}{2^n} \bigg\}$$
  For fixed $n, k\in \NN$ family $\left\{{\mathbb{1}_{A_{k,n,f}}}_{\mid D_f}\right\}_{f\in \cF}$ is $\mu$-local. By Lemma \ref{lemma:glueing_indicators_on_Dedekind_complete_measure} it follows that there exist $A_{k,n} \in \Sigma$ such that functions ${\mathbb{1}_{A_{k,n}}}_{\mid D_f}$ and ${\mathbb{1}_{A_{k,n,f}}}_{\mid D_f}$ are equal $\mu$-almost everywhere for each $f \in \cF$. Fix $n \in \NN$ and define a function
  $$s_n(x) = \begin{cases}
    \sum_{k\in \NN}\frac{k}{2^n}\cdot \mathbb{1}_{A_{k,n}}(x)&\mbox{ if the series is finite}\\
    0&\mbox{ otherwise }
  \end{cases}$$
  Then $s_n$ is nonnegative valued and measurable function on $(X,\Sigma)$. Similarly, for each $f \in \cF$ consider a function
  $$s_{n,f} = \sum_{k\in \NN}\frac{k}{2^n}\cdot {\mathbb{1}_{A_{k,n,f}}}_{\mid D_f}$$
  Note that $s_{n,f}$ is measurable and defined on $D_f$ for every $f \in \cF$. Moreover, ${s_n}_{\mid D_f}$ and $s_{n,f}$ are equal $\mu$-almost everywhere for all $f \in \cF$. Next we set 
  $$F(x) = \begin{cases}
    \lim_{n\ra +\infty}s_{n}(x)&\mbox{ if the limit exists and is finite }\\
    0&\mbox{ otherwise }
  \end{cases}$$
  Since $\{s_n\}_{n\in \NN}$ are measurable and nonnegative valued functions on $(X,\Sigma)$, we deduce that $F$ is measurable and nonnegative valued function on $(X,\Sigma)$. Observe that
  $$f = \lim_{n\ra +\infty}s_{n,f}$$
  for each $f \in \cF$. This implies that $F_{\mid D_f}$ and $f$ are equal $\mu$-almost everywhere for each $f \in \cF$.
\end{proof}
\noindent
The converse of Theorem \ref{theorem:on_Dedekind_complete_local_families_can_be_glued} may be proved under some additional and mild assumption. We introduce it now as a separate notion, since it plays important role in taxonomy.

\begin{definition}
  Let $(X,\Sigma,\mu)$ be a space with measure. Suppose that for every $B \in \Sigma$ with $\mu(B) > 0$ there exists $A \in \Sigma$, $A\subseteq B$ such that $\mu(A) \in \RR_+$. Then $\mu$ is \textit{a semifinite measure}. 
\end{definition}
\noindent
Now we prove the aforementioned converse of Theorem \ref{theorem:on_Dedekind_complete_local_families_can_be_glued}.

\begin{theorem}
  Let $(X,\Sigma,\mu)$ be a space with semifinite measure. Assume that for each $\mu$-local family $\cF$ there exists a measurable $\CC$-valued function $F$ on $(X,\Sigma)$ such that $F_{\mid D_f}$ and $f$ are equal $\mu$-almost everywhere for each $f \in \cF$. Then $\mu$ is a Dedekind complete measure.
\end{theorem}
\noindent
We first prove the following result, which extracts semifinitness assumption.

\begin{lemma}\label{lemma:for_semifinite_essential_containment_is_determined_by_finite_measure_sets}
  Let $(X,\Sigma,\mu)$ be a space with semifinite measure and let $A,B\in \Sigma$ be sets. Then $A \sqsubseteq_{\mu} B$ if and only if $A\cap E \sqsubseteq_{\mu} B\cap E$ for every $E \in \Sigma$ such that $\mu(E)$ is finite.
\end{lemma}
\begin{proof}[Proof of the lemma]
  Suppose that $A \not \sqsubseteq_{\mu} B$. Then $\mu(A\setminus B) > 0$. By semifinitness of $\mu$ there exists $E \in \Sigma$ such that $\mu(E) \in \RR_+$ and $E \subseteq A\setminus B$. Then 
  $$E \subseteq \left(A\setminus B\right) \cap E = \left(A\cap E\right)\setminus \left(B\cap E\right)$$
  and hence $A\cap E \not \sqsubseteq_{\mu} B\cap E$. This proves if part. The only if part is left for the reader as an exercise.
\end{proof}

\begin{proof}[Proof of the theorem]
  Suppose that $\cI$ is an arbitrary subfamily in $\Sigma$. According to Proposition \ref{proposition:sigma_finite_measure_spaces_are_Dedekind_complete} for each set $E \in \Sigma$ with $\mu(E) \in \{0\}\cup \RR_+$ there exists a set $S_{E} \in \Sigma$ such that $S_{E}$ is a least upper bound of 
  $$\big\{A\cap E\,\big|\,A\in \cI\big\}$$
  with respect to $\sqsubseteq_{\mu}$. Let $\cE$ be a family of all sets in $\Sigma$ with finite measure. Then $\big\{{\mathbb{1}_{S_{E}}}_{\mid E}\big\}_{E \in \cE}$ is a $\mu$-local family of functions. Hence there exists a measurable $\CC$-valued function $F$ on $(X,\Sigma)$ such that $F_{\mid E}$ and ${\mathbb{1}_{S_{E}}}_{\mid E}$ are equal $\mu$-almost everywhere for each $E \in \cE$. Pick $S = F^{-1}(1)$. Since $S \cap E$ and $S_{E}$ differ by the set of measure $\mu$ equal to zero, we derive that $S \cap E$ is a least upper bound of $$\big\{A\cap E\,\big|\,A\in \cI\big\}$$
  with respect to $\sqsubseteq_{\mu}$ for every $E \in \cE$. Lemma \ref{lemma:for_semifinite_essential_containment_is_determined_by_finite_measure_sets} implies that $S$ is a least upper bound of $\cI$ with respect to $\sqsubseteq_{\mu}$.
\end{proof}

\begin{definition}
  Let $(X,\Sigma,\mu)$ be a space with a semifinite and Dedeking complete measure. Then $\mu$ is \textit{localizable}.
\end{definition}


\section{Dual spaces to $L^p$ for $p \in (1,+\infty)$}
\noindent
Let $(X,\Sigma,\mu)$ be a space with measure and let $p$ be a real in $(1,+\infty)$. Define $q \in (1,+\infty)$ to be the unique number which satisfies
$$\frac{1}{p} + \frac{1}{q} = 1$$
Assume that $\mathbb{K}$ is either $\RR$ or $\CC$ with usual absolute value. We start by proving the following result.

\begin{proposition}\label{proposition:norm_of_standard_functional_for_positive_p}
  Let $g$ be a function in $L^q(\mu,\mathbb{K})$. Then
  $$\lVert g\rVert_q = \sup \bigg\{\left|\int_X g\cdot f\,d\mu\right|\in \RR_+\cup \{0\}\,\bigg|\,f\in L^p(\mu,\mathbb{K})\mbox{ such that }\lVert f\rVert_p = 1\bigg\}$$
\end{proposition}
\begin{proof}
  According to H{\"o}lder inequality
  $$\left|\int_X g\cdot f\,d\mu\right| \leq \int_X |g|\cdot |f|\,d\mu \leq \lVert g\rVert_q \cdot \lVert f\rVert_p$$
  Thus for $f \in L^p(\mu,\mathbb{K})$ such that $\lVert f\rVert_p = 1$ we have
  $$\left|\int_X g\cdot f\,d\mu\right| \leq \lVert g\rVert_q$$
  Therefore, it suffices to prove that
  $$\lVert g\rVert_q \leq \sup \bigg\{\left|\int_X g\cdot f\,d\mu\right|\in \RR_+\cup \{0\}\,\bigg|\,f\in L^p(\mu,\mathbb{K})\mbox{ such that }\lVert f\rVert_p = 1\bigg\}$$
  under the assumption that $\lVert g \rVert_q \neq 0$. Define
  $$f(x) = \begin{cases}
      \lVert g \rVert_q^{1 - q}\cdot \frac{|g(x)|^q}{g(x)} & \mbox{ if }g(x) \neq 0 \\
      0
    \end{cases}
  $$
  Then $f \in L^p(\mu,\mathbb{K})$ and even more precisely we have
  $$\lVert f \rVert_p = \left(\int_X\lVert g \rVert_q^{(1 - q)\cdot p}\cdot |g|^{(q-1)\cdot p}\,d\mu\right)^{\frac{1}{p}} = \left(\int_X\lVert g \rVert_q^{-q}\cdot |g|^{q}\,d\mu\right)^{\frac{1}{p}} = \left(\lVert g \rVert_q^{-q}\cdot \int_X\cdot |g|^{q}\,d\mu\right)^{\frac{1}{p}} = 1
  $$
  Note that
  $$\left|\int_X g\cdot f\,d\mu\right| = \int_X \lVert g \rVert_q^{(1 - q)}\cdot |g|^{q}\,d\mu = \lVert g \rVert_q^{(1 - q)}\cdot \int_X |g|^{q}\,d\mu = \lVert g \rVert_q^{(1 - q)}\cdot \lVert g \rVert_q^{(q)} = \lVert g \rVert_q $$
  and this completes the proof.
\end{proof}
\noindent
The following theorem is the main result of this section.

\begin{theorem}\label{theorem:dual_to_L_p_for_p_in_(1_00)}
  Let $\Lambda:L^p(\mu,\mathbb{K})\ra \mathbb{K}$ be a continuous $\mathbb{K}$-linear map. Then there exists $g \in L^q(\mu,\mathbb{K})$ such that
  $$\Lambda(f) = \int_Xg\cdot f\,d\mu$$
  for every $f \in L^p(\mu,\mathbb{K})$. Moreover, $g$ is uniquely defined up to a set of measure $\mu$ equal to zero.
\end{theorem}
\noindent
We start by the following observation.

\begin{lemma}\label{lemma:restriction_of_functionals_lemma}
  Let $\Lambda:L^p(\mu,\RR)\ra \RR$ be a continuous $\RR$-linear map. For each set $S \in \Sigma$ we define
  $$\Lambda_S(f) = \Lambda\left(\mathbb{1}_S\cdot f\right)$$
  for every $f \in L^p(\mu,\RR)$. Then the following assertions hold.
  \begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=*]
    \item $\Lambda_S:L^p(\mu,\RR)\ra \RR$ is a continuous $\RR$-linear map.
    \item Now if $S\subseteq T$ are two sets in $\Sigma$, then
          $$\lVert \Lambda_S\rVert \leq \lVert \Lambda_T\rVert \leq \lVert \Lambda \rVert$$
    \item There exists a $\sigma$-finite subset $S$ in $\Sigma$ such that $\lVert \Lambda_S\rVert = \lVert \Lambda \rVert$.
  \end{enumerate}
\end{lemma}
\begin{proof}[Proof of the lemma]
  Assertions \textbf{(1)} and \textbf{(2)} are left for the reader as an exercises.\\
  We prove \textbf{(3)}. Suppose that $f \in L^p(\mu, \RR)$ satisfies $\lVert f \rVert_p \leq 1$. Then there exists a nondecreasing sequence $\{S_n\}_{n\in \NN}$ of sets in $\Sigma$ such that $\mu(S_n)$ is finite for every $n\in \NN$ and $\{\mathbb{1}_{S_n}\cdot f\}_{n\in \NN}$ converges to $f$ in $L^p(\mu, \RR)$. Hence
  $$\Lambda(f) = \lim_{n\ra +\infty}\Lambda_{S_n}\left(f\right)$$
  It follows that
  $$\lVert \Lambda \rVert = \sup \big\{\lVert \Lambda_S \rVert\,\big|\,S\in \Sigma\mbox{ such that }\mu(S)\mbox{ is finite }\}$$
  Hence there exists a nondecreasing sequence $\{S_n\}_{n\in \NN}$ of sets in $\Sigma$ such that $\mu(S_n)$ is finite for every $n\in \NN$ and
  $$\lVert \Lambda \rVert = \lim_{n\ra +\infty}\lVert \Lambda_{S_n} \rVert$$
  Then the union
  $$S = \bigcup_{n \in \NN}S_n$$
  is in $\Sigma$ is $\sigma$-finite and satisfies $\lVert \Lambda \rVert = \lVert \Lambda_S\rVert$.
\end{proof}
\noindent
We prove the theorem by gradually considering more general cases.

\begin{proof}[Proof for finite $\mu$ and $\mathbb{K}=\RR$]
  Assume that $\mu$ is finite measure and $\mathbb{K}$ is equal to $\RR$. We have finite signed measure
  $$\Sigma \ni A \mapsto  \Lambda\left(\mathbb{1}_A\right) \in \RR$$
  According to Radon-Nikodym there exists $g \in L^1(\mu,\RR)$ such that
  $$\Lambda\left(\mathbb{1}_A\right) = \int_Xg\cdot \mathbb{1}_A\,d\mu$$
  for every $A$ in $\Sigma$. It follows that
  $$\Lambda(f) = \int_Xg\cdot f\,d\mu$$
  for every $f \in L^{\infty}(\mu,\RR)$. For each $n \in \NN_+$ define $A_n = \big\{x\in X\,\big|\,|g(x)|\leq n\big\}$ and consider a measurable and bounded function $f_n:X\ra \RR$ given by formula
  $$f_n(x) = \begin{cases}
      \mathbb{1}_{A_n}(x)\cdot \frac{|g(x)|^q}{g(x)} & \mbox{ if }g(x) \neq 0 \\
      0                                              & \mbox{ otherwise }
    \end{cases}
  $$
  Then
  $$\int_X \mathbb{1}_{A_n} \cdot |g|^{q}\,d\mu = \int_X g \cdot f_n\,d\mu = \Lambda\left(f_n\right) \leq \lVert \Lambda \rVert\cdot \Vert f_n \rVert_p = $$
  $$= \lVert \Lambda \rVert\cdot \Vert \mathbb{1}_{A_n}\cdot |g|^{q-1}\rVert_p = \lVert \Lambda \rVert\cdot \left(\int_X \mathbb{1}_{A_n}\cdot\left(|g|^{q-1}\right)^p\,d\mu\right)^{\frac{1}{p}} = \lVert \Lambda \rVert\cdot \left(\int_X \mathbb{1}_{A_n}\cdot |g|^{q}\,d\mu\right)^{\frac{1}{p}}$$
  and thus
  $$\left(\int_X \mathbb{1}_{A_n} \cdot |g|^{q}\,d\mu\right)^{\frac{1}{q}} \leq \lVert \Lambda \rVert$$
  By monotone convergence we have
  $$\lVert g \rVert_q = \lim_{n\ra +\infty}\left(\int_X \mathbb{1}_{A_n} \cdot |g|^{q}\,d\mu\right)^{\frac{1}{q}} \leq \lVert \Lambda \rVert$$
  Hence $g \in L^q(\mu,\RR)$. It follows that
  $$L^p(\mu,\RR) \ni f \mapsto \int_{X}g\cdot f\,d\mu \in \RR$$
  is continuous $\RR$-linear map, which coincides with $\Lambda$ on the space of $\mu$-simple functions. Since $\mu$-simple functions are dense in $L^p(\mu,\RR)$, we derive that
  $$\Lambda(f) = \int_{X}g\cdot f\,d\mu$$
  for every $f \in L^p(\mu,\RR)$. This completes the proof.
\end{proof}

\begin{proof}[Proof for $\sigma$-finite $\mu$ and $\mathbb{K}=\RR$]
  Assume that $\mu$ is $\sigma$-finite measure and $\mathbb{K}$ is equal to $\RR$. Since $\mu$ is $\sigma$-finite, there exist a nondecreasing sequence $\{X_n\}_{n\in \NN}$ of sets in $\Sigma$ such that
  $$X = \bigcup_{n\in \NN}X_n$$
  and $\mu(X_n)$ is finite for $n\in \NN$. According to the case considered above and Lemma \ref{lemma:restriction_of_functionals_lemma} for each $n \in \NN$ there exists $g_n\in L^q(\mu,\RR)$ such that
  $$\Lambda_{X_n}\left(f\right) = \int_Xg_n\cdot f\,d\mu$$
  for every $f \in L^p(\mu,\RR)$. We may also assume that ${g_n}_{\mid X\setminus X_n} = 0$ and ${g_{n+1}}_{\mid X_n} = {g_n}_{\mid X_n}$ for every $n \in \NN$. Let $g$ be a pointwise limit of a sequence $\{g_n\}_{n\in \NN}$. Then $g$ is a measurable real valued function on $X$. Moreover, we have $g_n = \mathbb{1}_{X_n}\cdot g$ for each $n \in \NN$. By Proposition \ref{proposition:norm_of_standard_functional_for_positive_p}, Lemma \ref{lemma:restriction_of_functionals_lemma} and monotone convergence we have
  $$\lVert g \rVert_q = \lim_{n\ra +\infty}\lVert g_n\rVert_q = \lim_{n\ra +\infty}\lVert \Lambda_{X_n} \rVert \leq \lVert \Lambda \rVert$$
  This implies that $g \in L^q(\mu,\RR)$. Fix $f \in L^p(\mu, \RR)$. Then sequence $\{\mathbb{1}_{X_n}\cdot f\}_{n \in \NN}$ converges to $f$ in $L^p(\mu,\RR)$ and hence
  $$\Lambda(f) = \lim_{n\ra +\infty}\Lambda(\mathbb{1}_{X_n}\cdot f) = \lim_{n\ra +\infty}\Lambda_{X_n}(f)$$
  On the other hand by dominated convergence theorem
  $$\int_Xg\cdot f\,d\mu = \lim_{n\ra +\infty}\int_Xg_n\cdot f\,d\mu = \lim_{n\ra +\infty}\Lambda_{X_n}(f)$$
  This completes the proof.
\end{proof}


\begin{proof}[Proof for $\mathbb{K} = \RR$]
  According to Lemma \ref{lemma:restriction_of_functionals_lemma} there exists a $\sigma$-finite set $S$ in $\Sigma$ such that $\lVert \Lambda_S \rVert = \lVert \Lambda \rVert$. According to previous case there exists $g \in L^q(\mu,\RR)$ such that
  $$\Lambda(f) = \int_Xg\cdot f\,d\mu$$
  for every $f \in L^p(\mu,\RR)$. We may also assume that $g_{\mid X\setminus S} = 0$. Suppose now that $T$ is a $\sigma$-finite set in $\Sigma$ such that $S\subseteq T$. Then there exists $g_T \in L^q(\mu,\RR)$ such that
  $$\Lambda_{T}(f) = \int_Xg_T\cdot f\,d\mu$$
  for every $f \in L^p(\mu,\RR)$. We may assume that $\mathbb{1}_S \cdot g_T = g$. Proposition \ref{proposition:norm_of_standard_functional_for_positive_p} implies that
  $$\lVert \Lambda \rVert = \lVert \Lambda_S \rVert = \lVert g \rVert_q \leq \lVert h \rVert_q \leq \lVert \Lambda_{S\cup T}\rVert \leq \lVert \Lambda \rVert$$
  Thus $\lVert g \rVert_q = \lVert g_T \rVert_q$ and this proves that we may assume that $g_T = g$. Fix now $f \in L^p(\mu,\RR)$ and consider
  $$T = \big\{x\in X\,\big|\,f(x) \neq 0\big\} \cup S$$
  Then $T$ is $\sigma$-finite set in $\Sigma$ and $S\subseteq T$. Hence
  $$\Lambda(f) = \Lambda_T(f) = \int_Xg_T\cdot f\,d\mu = \int_Xg\cdot f\,d\mu$$
  Since $f \in L^p(\mu,\RR)$ is arbitrary, the proof is completed.
\end{proof}

\begin{proof}[Proof for $\mathbb{K} = \CC$]
  According to already proved case there exist $g_r,g_i\in L^q(\mu,\RR)$ such that
  $$\mathrm{Re}\,\Lambda(f) = \int_X g_r\cdot f\,d\mu,\,\mathrm{Im}\,\Lambda(f) = \int_Xg_i\cdot f\,d\mu$$
  for every $f \in L^p(\mu,\RR)$. Then $g = g_r + i\cdot g_r$ is a function in $L^q(\mu,\CC)$ and
  $$\Lambda(f) = \int_Xg\cdot f\,d\mu$$
  for every $f \in L^p(\mu,\CC)$.
\end{proof}

\section{Dual to $L^1$}
\noindent
In this section we fix a space with measure $(X,\Sigma,\mu)$. Assume that $\mathbb{K}$ is either $\RR$ or $\CC$ with usual absolute value. We start by proving the following result.

\begin{proposition}\label{proposition:norm_of_standard_functional_for_infinity}
  Let $g$ be a function in $L^1(\mu,\mathbb{K})$ and let $\Lambda:L^1\left(\mu,\mathbb{K}\right)\ra \mathbb{K}$ be a continuous map. Assume that
  $$\Lambda(f) = \int_Xg\cdot f d\mu$$
  for every $f \in L^1(\mu,\mathbb{K})$ and
  $$L^1(\mu,\RR)\ni f \mapsto \int_Xg\cdot f\,d\mu\in \mathbb{K}$$
  is continuous. Then
  $$\lVert g\rVert_{\infty} = \sup \bigg\{\left|\int_X g\cdot f\,d\mu\right|\in \RR_+\cup \{0\}\,\bigg|\,f\in L^1(\mu,\RR)\mbox{ such that }\lVert f\rVert_1 = 1\bigg\}$$
\end{proposition}
\begin{proof}
  Suppose that
  $$h(x) = \begin{cases}
      \frac{|g(x)|}{g(x)} & \mbox{ if }g(x) \neq 0 \\
      0                   & \mbox{ otherwise}      \\
    \end{cases}
  $$
  Then $h$ is a bounded and measurable function. For $r \in \RR_+$ we define
  $$A_{r} = \big\{x\in X\,\big|\,|g(x)| \geq r \big\}$$
  If $\mu(A_r) > 0$ for some $r\in \RR_+$, then we also define
  $$m_r = \int_X\mathbb{1}_{A_r}\cdot |g|\,d\mu,\,f_r = h\cdot \frac{1}{m_r}\cdot \mathbb{1}_{A_{r}}\cdot |g|$$
  Then $f_r:X\ra \mathbb{K}$ is $\mu$-integrable and $\lVert f_r\rVert_1 = 1$. Let $L$ be a norm of a continuous $\mathbb{K}$-linear map
  $$L^1(\mu,\mathbb{K})\ni f \mapsto \int_Xg\cdot f\,d\mu\in \mathbb{K}$$
  Thus if $r \in \RR_+$ satisfies $\mu(A_r) > 0$, then
  $$\left| \int_Xg\cdot f_r\,d\mu\right| \leq L$$
  On the other hand
  $$\left| \int_Xg\cdot f_r\,d\mu\right| = \left|\int_X \left(g\cdot h\right) \cdot \frac{1}{m_r}\cdot \mathbb{1}_{A_r}\cdot |g|\,d\mu\right| = $$
  $$= \int_X \left(\mathbb{1}_{A_r}\cdot |g|\right) \cdot \frac{1}{m_r}\cdot \mathbb{1}_{A_r}\cdot |g|\,d\mu \geq r\cdot \int_X\frac{1}{m_r}\cdot \mathbb{1}_{A_r}\cdot |g|\,d\mu = r$$
  This implies that $r \leq L$. We derive that $g$ is essentially bounded and $\lVert g\rVert_{\infty} \leq L$.
\end{proof}
\noindent
The following theorem is the main result of this section.

\begin{theorem}\label{theorem:dual_to_L_1}
  Let $\Lambda:L^{1}(\mu,\mathbb{K})\ra \mathbb{K}$ be a continuous $\mathbb{K}$-linear map. Then there exists $g \in L^{\infty}(\mu,\mathbb{K})$ such that
  $$\Lambda(f) = \int_Xg\cdot f\,d\mu$$
  for every $f \in L^1(\mu,\mathbb{K})$ and $\lVert g \rVert_{\infty} = \lVert \Lambda \rVert$. Moreover, $g$ is uniquely defined up to a set of measure $\mu$ equal to zero.
\end{theorem}
\noindent
We prove the theorem by gradually considering more general cases.

\begin{proof}[Proof for finite $\mu$ and $\mathbb{K}=\RR$]
  Assume that $\mu$ is finite measure and $\mathbb{K}$ is equal to $\RR$. We have finite signed measure
  $$\Sigma \ni A \mapsto  \Lambda\left(\mathbb{1}_A\right) \in \RR$$
  According to Radon-Nikodym there exists $g \in L^1(\mu,\RR)$ such that
  $$\Lambda\left(\mathbb{1}_A\right) = \int_Xg\cdot \mathbb{1}_A\,d\mu$$
  for every $A$ in $\Sigma$. It follows that
  $$\Lambda(f) = \int_Xg\cdot f\,d\mu$$
  for every $f \in L^{\infty}(\mu,\RR)$. For every $r \in \RR_+$ define
  $$A_r = \big\{x\in X\,\big|\,|g(x)|\geq r\big\},\,B_r = \big\{x\in X\,\big|\,|g(x)|\leq r\big\}$$
  Fix $r\in \RR_+$ such that $\mu(A_r) > 0$. We define
  $$f(x) = \begin{cases}
      \frac{1}{\mu(A_r)}\cdot \frac{|g(x)|}{g(x)} & \mbox{ if }x\in A_r \\
      0                                           & \mbox{ otherwise }
    \end{cases}
  $$
  Then $\lVert f\rVert_1 = 1$ and $f \in L^{\infty}(\mu,\RR)$. Note that
  $$r = \int_X r\cdot |f|\,d\mu \leq \int_X |g|\cdot |f|\,d\mu =\int_X g \cdot  f\,d\mu = \Lambda(f) \leq \lVert \Lambda\rVert$$
  It follows that $\lVert g \rVert_{\infty} \leq \Lambda$. Therefore, $g \in L^{\infty}(\mu,\RR)$. It follows that
  $$L^1(\mu,\RR) \ni f \mapsto \int_{X}g\cdot f\,d\mu \in \RR$$
  is continuous $\RR$-linear map, which coincides with $\Lambda$ on the space of $\mu$-simple functions. Since $\mu$-simple functions are dense in $L^1(\mu,\RR)$, we derive that
  $$\Lambda(f) = \int_{X}g\cdot f\,d\mu$$
  for every $f \in L^1(\mu,\RR)$. It remains to prove that $\lVert \Lambda \rVert \leq \lVert g\rVert_{\infty}$. For this pick $f \in L^1(\mu,\RR)$ such that $\lVert f \rVert_1 = 1$. Then
  $$\left|\Lambda(f)\right| = \left|\int_X g\cdot f \,d\mu \right| \leq \int_X|g|\cdot |f|\,d\mu \leq \lVert g \rVert_{\infty}\cdot \int_X|f|\,d\mu = \lVert g \rVert_{\infty}$$
  and hence $\lVert \Lambda \rVert \leq \lVert g\rVert_{\infty}$. This completes the proof.
\end{proof}

\begin{proof}[Proof for $\mathbb{K}=\RR$]
  For each set $S$ in $\Sigma$ such that $\mu(S) \in \RR_+\cup \{0\}$ we define
  $$\Lambda_S(f) = \Lambda\left(\mathbb{1}_S\cdot f\right)$$
  for every $f \in L^1(\mu,\RR)$. Then $\Lambda_S:L^1(\mu,\RR)\ra \RR$ is a continuous $\RR$-linear map. Now if $S\subseteq T$ are two sets in $\Sigma$ such that $\mu(S),\mu(T) \in \RR_+\cup \{0\}$, then
  $$\lVert \Lambda_S\rVert \leq \lVert \Lambda_T\rVert \leq \lVert \Lambda \rVert$$
  Suppose now that $f$ is a function in $L^1(\mu, \RR)$ such that $\lVert f \rVert_1 \leq 1$. Then there exists a nondecreasing sequence $\{S_n\}_{n\in \NN}$ of sets in $\Sigma$ such that $\mu(S_n)$ is finite for every $n\in \NN$ and $\{\mathbb{1}_{S_n}\cdot f\}_{n\in \NN}$ converges to $f$ in $L^1(\mu, \RR)$. Hence
  $$\Lambda(f) = \lim_{n\ra +\infty}\Lambda_{S_n}\left(f\right)$$
  It follows that
  $$\lVert \Lambda \rVert = \sup \big\{\lVert \Lambda_S \rVert\,\big|\,S\in \Sigma\mbox{ such that }\mu(S)\mbox{ is finite }\}$$
  It follows that there exists a nondecreasing sequence $\{S_n\}_{n\in \NN}$ of sets in $\Sigma$ such that $\mu(S_n)$ is finite for every $n\in \NN$ and
  $$\lVert \Lambda \rVert = \lim_{n\ra +\infty}\lVert \Lambda_{S_n} \rVert$$
  According to already proved case there exists $g_n \in L^{\infty}(\mu,\RR)$ such that $g_n = 0$ outside $S_n$ and
  $$\Lambda_{S_n}(f) = \int_X g_n\cdot f\,d\mu$$
  for every $f\in L^1(\mu,\RR)$. Moreover, $\lVert g_n \rVert_{\infty} = \lVert \Lambda_{S_n}\rVert$ for each $n \in \NN$. We may assume that $g_{n+1}(x) = g_n(x)$ for $x\in S_n$. Define $g:X\ra \RR$ as a pointwise limit of $\{g_n\}_{n\in \NN}$. According to Proposition \ref{proposition:norm_of_standard_functional_for_positive_p} we have
  $$\lVert g_n \rVert_{q} = \lVert \Lambda_{S_n} \rVert$$
  for every $n \in \NN$. Taking limits of both sides and using monotone convergence we obtain $\lVert g \rVert_{q} = \lVert \Lambda \rVert$. In particular, we have $g\in L^q(\mu, \RR)$. Fix $f \in L^p(\mu,\RR)$. Then $g\cdot f \in L^1(\mu,\RR)$ which follows from H{\"o}lder inequality. By dominated convergence theorem
  $$\Lambda(f) = \lim_{n\ra +\infty}\Lambda_{S_n}\left(f\right) = \lim_{n\ra +\infty}\int_X g_n\cdot f\,d\mu = \lim_{n\ra +\infty} \int_X g\cdot \mathbb{1}_{S_n}\cdot f\,d\mu = \int_X g\cdot f\,d\mu$$
  Thus
  $$\Lambda(f) = \int_X g\cdot f\,d\mu$$
  for every $f \in L^p(\mu, \RR)$.
\end{proof}


















\end{document}