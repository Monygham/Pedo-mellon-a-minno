\input ../pree.tex

\usepackage{todonotes}
\newcommand{\lstodo}[1]{\todo[color=green!40,bordercolor=green,size=\footnotesize]{\textbf{LS TODO: }#1}}

\begin{document}

\title{Algebraization of formal $\bd{M}$-schemes}
\date{}
\maketitle

\section{Some $2$-categorical limits}
\noindent
Consider a category $\cC$ and its endofunctor $T:\cC\ra \cC$. Our goal is to construct certain $2$-categorical limit associated with a pair $(\cC,T)$. Consider pairs $\left(X,u\right)$ consisting of an object $X$ of $\cC$ and an isomorphism $u:T(X)\ra X$ in $\cC$. If $\left(X,u\right)$ and $\left(Y,w\right)$ are two such pairs, then a morphism $f:(X,u) \ra (Y,u)$ is a morphism $f:X\ra Y$ in $\cC$ such that the following square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ T(X) &  X    \\
  T(Y) &  Y           \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ u  $} (m-1-2)
(m-2-1) edge node[below] {$ w $} (m-2-2)
(m-1-1) edge node[left] {$ T(f) $} (m-2-1)
(m-1-2) edge node[right] {$ f  $} (m-2-2);
\end{tikzpicture}
\end{center}
is commutative. This data give rise to a category $\cC(T)$. There exists a forgetful functor $\pi:\cC(T)\ra \cC$ that sends a morphism $f:(X,u)\ra (Y,w)$ to $f:X\ra Y$. Moreover, there exists a natural isomorphism $\sigma:T\cdot \pi \Rightarrow \pi$ such that the component of $\sigma$ on an object $(X,u)$ of $\cC(T)$ is $u$. The next result states that the data above form a certain $2$-categorical limit.

\begin{theorem}\label{theorem:endoscope_2_limits}
Let $(\cC,T)$ be a pair consiting of a category and its endofunctor $T:\cC\ra \cC$. Suppose that $\cD$ is a category, $P:\cD\ra \cC$ is a functor and $\tau:T\cdot P \Rightarrow P$ is a natural isomorphisms. Then there exists a unique functor $F:\cD\ra \cC(T)$ such that $P = \pi\cdot F$ and $\sigma_F = \tau$.
\end{theorem}
\begin{proof}
Suppose that $F:\cD\ra \cC(T)$ is a functor such that $P = \pi\cdot F$ and $\sigma_F = \tau$. Pick an object $X$ of $\cD$. Then we have $\pi\cdot F(X) = P(X)$ and $\sigma_{F(X)} = \tau_X$. This implies that
$$F(X) = \left(P(X),\tau_X:T(P(X))\ra P(X)\right)$$
Next if $f:X\ra Y$ is a morphism in $\cD$, then we derive that $\pi(F(f)) = P(f)$. Hence $F(f) = P(f)$. This implies that there exists at most one functor $F$ satisfying the properties above. Note also that formulas
$$F(X) = \left(P(X),\tau_X:T(P(X))\ra P(X)\right),\,F(f) = P(f)$$
for an object $X$ in $\cD$ and a morphism $f:X\ra Y$ in $\cD$, give rise to a functor that satisfy $P = \pi\cdot F$ and $\sigma_F = \tau$. This establishes existence and the uniqueness of $F$.
\end{proof}
\noindent
Assume now that the pair $(\cC,T)$ consists of a monoidal category $\cC$ and a monoidal endofunctor $T$. Then there exists a canonical monoidal structure on $\cC(T)$. We define $(-)\otimes_{\cC(T)}(-)$ by formula
$$(X,u) \otimes_{\cC(T)}(Y,w) = \left(X\otimes_{\cC}Y,\left(u \otimes_{\cC} w\right)\cdot m_{X,Y}\right)$$
where
$$m_{X,Y}:T\left(X\otimes_{\cC} Y\right) \ra T(X)\otimes_{\cC}T(Y)$$
is the tensor preserving isomorphism of $T$. We also define the unit
$$I_{\cC(T)} = \left(I, T(I)\cong I\right)$$
where isomorphism $T(I)\cong I$ is precisely the unit preserving isomorphism of the monoidal functor $T$. The associativity natural isomorphism for $(-)\otimes_{\cC(T)}(-)$ and right, left units for $I_{\cC(T)}$ in $\cC(T)$ are associavity natural isomorphism and right, left units for $\cC$, respectively. The structure makes a functor $\pi:\cC(T)\ra \cC$ strict monoidal and $\sigma$ a monoidal natural isomorphism. The next result states that the data with these extra monoidal structure form a $2$-categorical limit in the $2$-category of monoidal categories.

\begin{theorem}\label{theorem:endoscope_monoidal_2_limit}
Let $(\cC,T)$ be a pair consiting of a monoidal category and its monoidal endofunctor $T:\cC\ra \cC$. Suppose that $\cD$ is a monoidal category, $P:\cD\ra \cC$ is a monoidal functor and $\tau:T\cdot P \Rightarrow P$ is a monoidal natural isomorphisms. Then there exists a unique monoidal functor $F:\cD\ra \cC(T)$ such that $P = \pi\cdot F$ and $\sigma_F = \tau$ as monoidal functors and monoidal transformations.
\end{theorem}
\begin{proof}
Note that $F$ must be defined as it was described in the proof of Theorem \ref{theorem:endoscope_2_limits}. Namely we must have
$$F(X) = \left(P(X),\tau_X:T(P(X))\ra P(X)\right),\,F(f) = P(f)$$
for an object $X$ in $\cC$ and a morphism $f:X\ra Y$ in $\cC$.\\
Suppose now that $F$ admits a structure of a monoidal functor such that $P = \pi\cdot F$ as monoidal functors. Let
$$\big\{m^F_{X,Y}:F(X\otimes_{\cD}Y)\ra F(X)\otimes_{\cC(T)}F(Y)\big\}_{X,Y\in \cC},\,\phi^F:F(I_{\cD})\ra I_{\cC(T)}$$
be the data forming that structure. Since $\pi$ is a strict monoidal functor and $P = \pi\cdot F$ as monoidal functors, we derive that for any objects $X,Y$ of $\cC$
$$\pi(m^F_{X,Y}):P(X\otimes_{\cD}Y) \ra P(X)\otimes_{\cC}P(Y)$$
is the tensor preserving isomorphism $m^{P}_{X,Y}:P(X\otimes_{\cD}Y) \ra P(X)\otimes_{\cC}P(Y)$ of the monoidal functor $P$. By the same argument
$$\pi(\phi_F):P(I_{\cD})\ra I_{\cC(T)}$$
is the unit preserving isomorphism $\phi^{P}:P(I_{\cD})\ra I_{\cC(T)}$ of $P$. Thus we deduce that for any objects $X,Y$ of $\cC$ we have $m^F_{X,Y} = m^{P}_{X,Y}$ and $\phi^F = \phi^{P}$. This implies that there exists at most one monoidal functor $F$ such that $P = \pi\cdot F$ as monoidal functors.\\
On the other hand define $m^F_{X,Y} = m^{P}_{X,Y}$ for objects $X,Y$ in $\cC$ and $\phi^F = \phi^{P}$. We check now that $F$ equipped with these data is a monoidal functor. Fix objects $X,Y$ in $\cC$. The square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=4em, column sep=8em,text height=1.5ex, text depth=0.25ex] 
{T\left(P\left(X\otimes_{\cD}Y\right)\right)  & P\left(X\otimes_{\cC}Y\right)     \\
 T\left(P(X)\otimes_{\cC}P(Y)\right)  & P(X)\otimes_{\cC}P(Y)  \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ \tau_{X\otimes_{\cC}Y}  $} (m-1-2)
(m-2-1) edge node[below] {$ \left(\tau_X\otimes_{\cC}\tau_Y\right)\cdot m^{T}_{P(X),P(Y)} $} (m-2-2)
(m-1-1) edge node[left] {$ T\left(m^{P}_{X,Y}\right) $} (m-2-1)
(m-1-2) edge node[right] {$  m^{P}_{X,Y} $} (m-2-2);
\end{tikzpicture}
\end{center}
is commutative due to the fact that $\tau:T\cdot P \Rightarrow P$ is a monoidal natural isomorphisms. This implies that $m^F_{X,Y}$ is a morphism in $\cC(T)$. It follows that $m^F_{X,Y}$ is a natural isomorphism and due to the definition of associativity in $\cC(T)$, we derive its compatibility with $m^F_{X,Y}$. Similarly, since the square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{T\left( P\left(I_{\cD}\right) \right)  & P\left(I_{\cD}\right)     \\
 T\left( I_{\cC} \right)  & I_{\cC}  \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ \tau_{I_{\cD}}  $} (m-1-2)
(m-2-1) edge node[below] {$ \phi^{T}  $} (m-2-2)
(m-1-1) edge node[left] {$ T\left(\phi^{P}\right)  $} (m-2-1)
(m-1-2) edge node[right] {$ \phi^{P}  $} (m-2-2);
\end{tikzpicture}
\end{center}
is commutative, we deduce that $\phi^F$ is a morphism in $\cC(T)$. By definition of left and right unit in $\cC(T)$, we derive their compatibility with $\phi^F$. This finishes the verification of the fact that $F$ with $\{m^F_{X,Y}\}_{X,Y\in \cC}$ and $\phi^F$ is a monoidal functor. Definitions of $\{m^F_{X,Y}\}_{X,Y\in \cC}$ and $\phi^F$ show that the identities $P = \pi\cdot F$ holds on the level of monoidal structures. Since the $2$-forgetful functor from $2$-category of monoidal categories into $2$-category of categories is faithful on $2$-cells, the identity $\sigma_F = \tau$ of natural isomorphisms is also the identity of monoidal natural isomorphisms.
\end{proof}

\begin{theorem}\label{theorem:endoscope_colimits}
Let $(\cC,T)$ be a pair consiting of a category and its endofunctor $T:\cC\ra \cC$. Assume that $T$ preserves colomits. Then the following assertions hold.
\begin{enumerate}[label=\textbf{\emph{(\arabic*)}}, leftmargin=3.0em]
\item $\pi:\cC(T)\ra \cC$ creates colimits.
\item Suppose that $\cD$ is a category, $P:\cD\ra \cC$ a functor preserving small colimits and $\tau:T\cdot P \Rightarrow P$ a natural isomorphisms. Then the unique functor $F:\cD \ra \cC(T)$ such that $P = \pi\cdot F$ and $\sigma_F = \tau$ preserves small colimits.
\end{enumerate}
\end{theorem}
\begin{proof}
Let $I$ be a small category and $D:I\ra \cC(T)$ be a diagram such that the composition $\pi\cdot D:I\ra \cC$ admits a colimit given by cocone $(X,\{g_i\}_{i\in I})$. Since $T$ preserves colimits, we derive that $\left(T(X), \{T(u_i)\}_{i\in I}\right)$ is a colimit of $T\cdot \pi \cdot D:I\ra \cC$. Now $\sigma_D:T\cdot \pi\cdot D\ra \pi\cdot D$ is a natural isomorphism. Hence there exists a unique arrow $u:T(X)\ra X$ such that $u \cdot T(g_i) = g_i\cdot \sigma_{D(i)}$ for $i\in I$. Clearly $u$ is an isomorphism and hence $(X,u)$ is an object of $\cC(T)$. Moreover, the family $\{g_i\}_{i\in I}$ together with $(X,u)$ is a colimiting cocone over $D$. This proves \textbf{(1)}. Now \textbf{(2)} is a consequence of \textbf{(1)}.
\end{proof}
\noindent
Now we apply the results above to certain more general diagrams of categories.

\begin{definition}
A diagram
\begin{center}   
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{... &  \cC_{n+1}  &  \cC_n & ... & \cC_2 & \cC_1 & \cC_0  \\};
\path[->,line width=1.0pt,font=\scriptsize]    
(m-1-1) edge node[auto]  {$F_{n+1}  $} (m-1-2)
(m-1-2) edge node[auto]  {$F_n  $} (m-1-3)
(m-1-3) edge node[auto]  {$F_{n-1}  $} (m-1-4)
(m-1-4) edge node[auto]  {$F_2  $} (m-1-5)
(m-1-5) edge node[auto]  {$F_1  $} (m-1-6)
(m-1-6) edge node[auto]  {$F_0  $} (m-1-7);
\end{tikzpicture}
\end{center}
of categories and functors is called \textit{a telescope of categories}.
\end{definition}

\begin{definition}
Let 
\begin{center}   
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{... &  \cC_{n+1}  &  \cC_n & ... & \cC_2 & \cC_1 & \cC_0  \\};
\path[->,line width=1.0pt,font=\scriptsize]    
(m-1-1) edge node[auto]  {$F_{n+1}  $} (m-1-2)
(m-1-2) edge node[auto]  {$F_n  $} (m-1-3)
(m-1-3) edge node[auto]  {$F_{n-1}  $} (m-1-4)
(m-1-4) edge node[auto]  {$F_2  $} (m-1-5)
(m-1-5) edge node[auto]  {$F_1  $} (m-1-6)
(m-1-6) edge node[auto]  {$F_0  $} (m-1-7);
\end{tikzpicture}
\end{center}
be a telescope of monoidal categories and monoidal cocontinuous functors. Then \textit{a $2$-categorical limit of the telescope} consists of a monoidal category $\cC$, a family of monoidal cocontinuous functors $\{\pi_n:\cC\ra \cC_n\}_{n\in \NN}$ and a family of monoidal natural isomorphisms $\{\sigma_n:F_{n+1} \cdot \pi_{n+1}\Rightarrow \pi_n\}_{n\in \NN}$ such that the following universal property holds. For any monoidal category $\cD$, family $\{P_n:\cD\ra \cC_n\}_{n\in \NN}$ of cocontinuous monoidal functors and a family $\{\tau_n:F_nP_{n+1}\Rightarrow P_{n}\}_{n\in \NN}$ of monoidal natural isomorphisms there exists a unique monoidal cocontinuous functor $F:\cD\ra \cC$ satisfying $P_n = \pi_n \cdot F$ and $\left(\sigma_n\right)_F = \tau_n$ for every $n\in \NN$.
\end{definition}

\begin{corollary}\label{corollary:telescope_2_limits}
Let 
\begin{center}   
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{... &  \cC_{n+1}  &  \cC_n & ... & \cC_2 & \cC_1 & \cC_0  \\};
\path[->,line width=1.0pt,font=\scriptsize]    
(m-1-1) edge node[auto]  {$F_{n+1}  $} (m-1-2)
(m-1-2) edge node[auto]  {$F_n  $} (m-1-3)
(m-1-3) edge node[auto]  {$F_{n-1}  $} (m-1-4)
(m-1-4) edge node[auto]  {$F_2  $} (m-1-5)
(m-1-5) edge node[auto]  {$F_1  $} (m-1-6)
(m-1-6) edge node[auto]  {$F_0  $} (m-1-7);
\end{tikzpicture}
\end{center}
be a telescope of monoidal categories and monoidal cocontinuous functors. Then its $2$-limit exists.
\end{corollary}
\begin{proof}
We decompose the task of constructing its $2$-limit as follows. First note that one may form a product $\cC = \prod_{n\in \NN}\cC_n$. Next the functors $\{F_n\}_{n\in \NN}$ induce an endofunctor $T = \prod_{n\in \NN}F_n\times t$, where $\bd{1}$ is the terminal category (it has single object and single identity arrow) and $t:\cC_0\rightarrow \bd{1}$ is the unique functor. Consider the category $\cC(T)$. We define $\{\pi_n:\cC(T)\ra \cC_n\}_{n\in \NN}$ to be a family of functors given by coordinates of $\pi:\cC(T)\ra \cC$ and $\{\sigma_n:F_n\cdot \pi_{n+1}\Rightarrow \pi_n\}_{n\in \NN}$ to be a family of natural isomorphisms given by coordinates of $\sigma:\pi\cdot T\Rightarrow \pi$. Now this data form a $2$-limit of the telescope by compilation of Theorem \ref{theorem:endoscope_monoidal_2_limit} and Theorem \ref{theorem:endoscope_colimits}.
\end{proof}



\section{Formal $\bd{M}$-schemes}
\noindent
This section is devoted to introducing some notions from formal geometry that are central in this notes. 

\begin{definition}
Let $\bd{M}$ be a monoid $k$-scheme. \textit{A formal $\bd{M}$-scheme} consists of a sequence $\cZ = \{Z_n\}_{n\in \NN}$ of $\bd{M}$-schemes together with $\bd{M}$-equivariant closed immersions
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ Z_0 &  Z_1 & ... & Z_n & Z_{n+1} & ... \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5)
(m-1-5) edge node[above] {$ $} (m-1-6);
\end{tikzpicture}
\end{center}
satisfying the following assertions.
\begin{enumerate}[label=\textbf{(\arabic*)}, leftmargin=3.0em]
\item We have $Z_0 = Z_n^{\bd{M}}$ scheme-theoretically for every $n\in \NN$.
\item Let $\cI_n$ be an ideal of $\cO_{Z_n}$ defining $Z_0$. Then for every $m\leq n$ the subscheme $Z_m \subset Z_n$ is defined by $\cI_n^{m+1}$.
\end{enumerate}
\end{definition}

\begin{example}\label{example:formal_neighborhood_of_fixed_pts}
Let $\bd{M}$ be a monoid $k$-scheme and let $Z$ be a $\bd{M}$-scheme. Consider a quasi-coherent ideal $\cI$ of fixed point subscheme $Z^{\bd{M}}$ of $Z$. Then for every $n\in \NN$ ideal $\cI^n$ is $\bd{M}$-equivariant and hence
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ V(\cI) &  V(\cI^2) & ... & V(\cI^n) & ... \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5);
\end{tikzpicture}
\end{center}
is a formal $\bd{M}$-scheme. We denote it by $\widehat{Z}$.
\end{example}

\begin{definition}
Let $\bd{M}$ be a monoid $k$-scheme and let $\cZ = \{Z_n\}_{n\in \NN}$ be a formal $\bd{M}$-scheme. We say that $\cZ$ is \textit{locally noetherian} if for all $n\in \NN$ scheme $Z_n$ is locally Noetherian.
\end{definition}

\begin{definition}
Let $\bd{M}$ be a monoid $k$-scheme. Suppose that $\cZ = \{Z_n\}_{n\in \NN}$ and $\cW = \{W_n\}_{n\in \NN}$ are formal $\bd{M}$-schemes. Then \textit{a morphism $f:\cZ\ra \cW$ of formal $\bd{M}$-schemes} consists of a family of $\bd{M}$-equivariant morphisms $f = \big\{f_n:Z_n\ra W_n\}_{n\in \NN}$ such that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ Z_0 &  Z_1 & ... & Z_n & Z_{n+1} & ... \\
 W_0 &  W_1 & ... & W_n & W_{n+1} & ... \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5)
(m-1-5) edge node[above] {$ $} (m-1-6)
(m-2-1) edge node[above] {$ $} (m-2-2)
(m-2-2) edge node[above] {$ $} (m-2-3)
(m-2-3) edge node[above] {$ $} (m-2-4)
(m-2-4) edge node[above] {$ $} (m-2-5)
(m-2-5) edge node[above] {$ $} (m-2-6);
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[left] {$f_0 $} (m-2-1)
(m-1-2) edge node[left] {$f_1 $} (m-2-2)
(m-1-4) edge node[left] {$f_n $} (m-2-4)
(m-1-5) edge node[left] {$f_{n+1} $} (m-2-5);
\end{tikzpicture}
\end{center}
is commutative.
\end{definition}

\begin{definition}
Let $\bd{M}$ be a monoid $k$-scheme. Let $\cZ = \{Z_n\}_{n\in \mathbb{N}}$ be locally noetherian a formal $\bd{M}$-scheme. Then we have the corresponding telescope of monoidal categories
\begin{center}   
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{... &  \Coh_{\bd{M}}(Z_{n+1})  &  \Coh_{\bd{M}}(Z_n) & ... & \Coh_{\bd{M}}(Z_2) & \Coh_{\bd{M}}(Z_1) & \Coh_{\bd{M}}(Z_0)  \\};
\path[->,line width=1.0pt,font=\scriptsize]    
(m-1-1) edge node[auto]  {$  $} (m-1-2)
(m-1-2) edge node[auto]  {$  $} (m-1-3)
(m-1-3) edge node[auto]  {$  $} (m-1-4)
(m-1-4) edge node[auto]  {$  $} (m-1-5)
(m-1-5) edge node[auto]  {$  $} (m-1-6)
(m-1-6) edge node[auto]  {$  $} (m-1-7);
\end{tikzpicture}
\end{center}
and cocontinuous monoidal functors given by restricting $\bd{M}$-equivariant coherent sheaves to closed $\bd{M}$-subschemes. Then we define \textit{a category $\Coh_{\bd{M}}(\cZ)$ of coherent $\bd{M}$-equivariant sheaves on $\cZ$} as a monoidal category which is a $2$-limit of the telescope above. This category is defined uniquely up to a monoidal equivalence.
\end{definition}
\noindent
Fix now a monoid $k$-scheme $\bd{M}$. Let $Z$ be a locally noetherian $\bd{M}$-scheme and suppose that $Z^{\bd{M}}$ exists. Suppose that $\cI$ is a coherent ideal of $Z^{\bd{M}}$. We have a commutative diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ V(\cI) &  V(\cI^2) & ... & V(\cI^n) & ... \\
         &           & Z   &          &      \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5)
(m-1-2) edge node[above] {$ $} (m-2-3);
\path[right hook->,bend right, line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-2-3);
\path[right hook->, line width=1.0pt,font=\scriptsize]  
(m-1-4) edge node[above] {$ $} (m-2-3);
\end{tikzpicture}
\end{center}
in the category of $\bd{M}$-schemes. Thus restriction functors $\Coh_{\bd{M}}(Z) \ra \Coh_{\bd{M}}(V(\cI^n))$ for $n\in \NN$ induce a unique cocontinuous monoidal functor $\Coh_{\bd{M}}(Z)\ra \Coh_{\bd{M}}(\widehat{Z})$.

\begin{definition}
Let $Z$ be a locally noetherian $\bd{M}$-scheme such that $Z^{\bd{M}}$ exists. Then a unique cocontinuous monoidal functor $\Coh_{\bd{M}}(Z)\ra \Coh_{\bd{M}}(\widehat{Z})$ is called \textit{the comparison functor}.
\end{definition}
\noindent
Since group $k$-scheme is also a monoid $k$-scheme, definitions above can be applied to group $k$-schemes.

\begin{definition}
Let $\bd{M}$ be a monoid $k$-scheme with group of units $\bd{G}$. Let $\cZ = \{Z_n\}_{n\in \mathbb{N}}$ be a formal $\bd{M}$-scheme. A $\bd{M}$-scheme $Z$ is called \textit{an algebraization of $\cZ$} if the following two conditions are satisfied.
\begin{enumerate}[label=\textbf{(\arabic*)}, leftmargin=3.0em]
\item $\cZ$ is isomorphic to $\widehat{Z}$ in the category of formal $\bd{M}$-schemes.
\item The comparison functor $\Coh_{\bd{G}}(Z)\ra \Coh_{\bd{G}}\left(\widehat{Z}\right)$ is an equivalence of monoidal categories.
\end{enumerate}
\end{definition}

\section{Locally linear $\bd{M}$-schemes}

\begin{definition}
Let $\bd{M}$ be a monoid $k$-scheme and let $X$ be a $\bd{M}$-scheme. Suppose that each point of $X$ admits an open affine $\bd{M}$-stable neighborhood. Then we say that $X$ is \textit{a locally linear $\bd{M}$-scheme}.
\end{definition}

\begin{proposition}\label{proposition:monoid_open_stable_correspondence}
Let $\bd{M}$ be an affine monoid $k$-scheme and let $X$ be a $\bd{M}$-scheme. Suppose that there exists a quasi-coherent $\bd{M}$-equivariant ideal $\cI$ on $X$ with nilpotent sections. Consider an open subset $U$ of $X$. Then the following are equivalent.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item $U$ is $\bd{M}$-stable.
\item $U\cap V(\cI)$ is $\bd{M}$-stable.
\end{enumerate}
\end{proposition}
\begin{proof}
Let $\alpha:\bd{M} \times_k X\ra X$ be the action of $\bd{M}$ on $X$. Fix open subset $U$ of $X$. If $U$ is $\bd{M}$-stable, then $U\cap V(\cI)$ is $\bd{M}$-stable. So suppose that $U\cap V(\cI)$ is $\bd{M}$-stable. Since $\cI$ has nilpotent sections and $\bd{M}$ is affine, we derive that closed immersions $U\cap V(\cI)\hookrightarrow U$ and $\bd{M}\times_k \left(U\cap V(\cI)\right) \hookrightarrow \bd{M}\times_k U$ induce homeomorphisms on topological spaces. Consider the commutative diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{M}\times_k U & X     \\
  \bd{M}\times_k \left(U\cap V(\cI)\right) & U\cap V(\cI)   \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ \alpha_{\mid U\cap V(\cI)}  $} (m-1-2)
(m-2-1) edge node[below] {$   $} (m-2-2);
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-2-1) edge node[left] {$  $} (m-1-1)
(m-2-2) edge node[right] {$ $} (m-1-2);
\end{tikzpicture}
\end{center}
where the bottom horizontal arrow is the induced action on $U\cap V(\cI)$ and vertical morphisms are homeomorphisms. The commutativity of the diagram implies that $\alpha\left(\bd{M}\times_k U\right)$ is contained set-theoretically in $U$. Since $U$ is open in $X$, we derive that morphism of schemes $\alpha_{\mid \bd{M}\times_k U}$ factors through $U$. Hence $U$ is $\bd{M}$-stable.
\end{proof}

\begin{corollary}\label{corollary:monoid_stable_open_affine_correspondence}
Let $\bd{M}$ be an affine monoid $k$-scheme and let $X$ be a $\bd{M}$-scheme. Suppose that there exists a quasi-coherent $\bd{M}$-equivariant ideal $\cI$ on $X$ such that $\cI^n = 0$ for $n\in \NN$. Consider an open subset $U$ of $X$. Then the following are equivalent.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item $U$ is $\bd{M}$-stable and affine.
\item $U\cap V(\cI)$ is $\bd{M}$-stable and affine.
\end{enumerate}
\end{corollary}
\begin{proof}
Since $\cI^n = 0$, we derive that $U$ is affine if and only if $U\cap V(\cI)$ is affine. Combining this with Proposition \ref{proposition:monoid_open_stable_correspondence}, we deduce the result.
\end{proof}

\begin{corollary}\label{corollary:locally_linear_are_stable_under_thickenings}
Let $\bd{M}$ be an affine monoid $k$-scheme and let $X$ be a $\bd{M}$-scheme. Suppose that there exists a quasi-coherent $\bd{M}$-equivariant ideal $\cI$ on $X$ such that $\cI^n = 0$ for $n\in \NN$. Then $X$ is locally linear $\bd{M}$-scheme if and only if $V(\cI)$ is locally linear $\bd{M}$-scheme.
\end{corollary}
\begin{proof}
This is a consequence of Corollary \ref{corollary:monoid_stable_open_affine_correspondence}.
\end{proof}

\section{Some results on formal $\bd{M}$-schemes}

\begin{corollary}\label{corollary:each_formal_scheme_consists_of_locally_linear_schemes_if_group_is_affine}
Let $\bd{M}$ be an affine monoid $k$-scheme and let $\cZ = \{Z_n\}_{n\in \NN}$ be a formal $\bd{G}$-scheme. Then $Z_n$ is locally linear $\bd{G}$-scheme for every $n\in \NN$.
\end{corollary}
\begin{proof}
Let $\cI_n$ be an ideal defining $Z_0$ in $Z_n$. Since $\cZ$ is a formal $\bd{M}$-scheme, we derive that $\cI_n^{n+1} = 0$ and $Z_0$ is locally linear $\bd{M}$-scheme. Thus we apply Corollary \ref{corollary:locally_linear_are_stable_under_thickenings} and derive that $Z_n$ is locally linear $\bd{M}$-scheme.
\end{proof}
\noindent
We are particularly interested in formal $\bd{M}$-schemes for monoid $\bd{M}$ with zero. For this we need the following elementary result.

\begin{proposition}\label{proposition:retraction_for_monoids_with_zero}
Let $\bd{M}$ be a monoid $k$-scheme with zero $\bd{o}$ and let $X$ be a $\bd{M}$-scheme. Then the following results hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item The multiplication by zero $\bd{o}\cdot(-):X\ra X$ factors through $X^{\bd{M}}$ inducing a $\bd{M}$-equivariant retraction $\pi_{\bd{M}}:X\twoheadrightarrow X^{\bd{M}}$.
\item If $\bd{N}$ is a submonoid $k$-scheme of $\bd{M}$ and $\bd{o}$ is a $k$-point of $\bd{N}$, then $\pi_{\bd{M}} = \pi_{\bd{N}}$.
\item If $\bd{M}$ is affine and $X$ is locally linear $\bd{M}$-scheme, then $\pi_{\bd{M}}$ is affine.
\end{enumerate}
\end{proposition}
\begin{proof}
The multiplication $\bd{o}\cdot (-):\fP_X\ra \fP_X$ factors as an $\fP_{\bd{M}}$-equivariant epimorphism $\fP_X\twoheadrightarrow \fP_{X^{\bd{M}}}$ composed with a closed immersion $\fP_{X^{\bd{M}}}\hookrightarrow \fP_X$. The $\fP_{\bd{M}}$-equivariant epimorphism $\fP_X\ra \fP_{X^{\bd{M}}}$ corresponds to a $\bd{M}$-equivariant morphism $\pi_{\bd{M}}:X\ra X^{\bd{M}}$ of $k$-schemes such that $\pi_{\bd{M}}$ restricted to $X^{\bd{M}}$ is the identity $1_{X^{\bd{M}}}$. This proves \textbf{(1)}.\\
For the proof of \textbf{(2)} note that $\bd{o}\cdot (-):\fP_X\ra \fP_X$ is defined similarly for $\bd{M}$ and $\bd{N}$ (provided that $\bd{o}$ is a $k$-point of $\bd{N}$). Thus $\pi_{\bd{M}} = \pi_{\bd{N}}$.\\
Suppose now that $\bd{M}$ is affine and $X$ is locally linear $\bd{M}$-scheme. Consider the action $\alpha:\bd{M}\times_k X\ra X$ of $\bd{M}$ on $X$. Since $X$ is locally linear and $\bd{M}$ is affine, we derive that $\alpha$ is an affine morphism of $k$-schemes. Now $\bd{o}\cdot (-):X\ra X$ is given as a composition 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{X & \bd{o}\times_k X & \bd{M}\times_k X & X \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$\cong$} (m-1-2)
(m-1-3) edge node[above] {$\alpha$} (m-1-4);
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-2) edge node[above] {$ $} (m-1-3);
\end{tikzpicture}
\end{center}
The morphism above is affine (as a composition of affine morphisms). Since the composition of $\pi$ with a closed immersion $X^{\bd{M}}\hookrightarrow X$ is $\bd{o}\times_k(-)$ and hence an affine morphism, we derive that $\pi$ is affine. This proves \textbf{(3)}.
\end{proof}
\noindent
Let us note the immediate consequence of this result.

\begin{corollary}\label{corollary:restraction_for_formal_schemes_and_pointed_submonoids}
Let $\bd{M}$ be an affine monoid $k$-scheme with zero and let $\cZ = \{Z_n\}_{n\in \NN}$ be a formal $\bd{M}$-scheme. Then $\cZ$ is a part of the commutative diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=2em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ Z_0 &  Z_1 & ... & Z_n & ... \\
      &      & Z_0 &     &  \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5);
\path[->>,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[bend right = 20] node[below] {$\pi_0 = 1_{Z_0} $} (m-2-3)
(m-1-2) edge node[above] {$ \pi_1 $} (m-2-3)
(m-1-4) edge[bend left = 20] node[above] {$ \pi_n $} (m-2-3);
\end{tikzpicture}
\end{center}
in which vertical morphisms $\pi_n:Z_n\twoheadrightarrow Z_0$ are affine $\bd{M}$-equivariant morphisms such that ${\pi_n}_{\mid Z_0} = 1_{Z_0}$. Moreover, if $\bd{N}$ is a submonoid $k$-scheme of $\bd{M}$ containing the zero of $\bd{M}$, then $\cZ$ is a formal $\bd{N}$-scheme.
\end{corollary}
\begin{proof}
This is an immediate consequence of Corollary \ref{corollary:each_formal_scheme_consists_of_locally_linear_schemes_if_group_is_affine} and Proposition \ref{proposition:retraction_for_monoids_with_zero}.
\end{proof}

\section{Toruses and toric monoid $k$-schemes}

\begin{definition}
Let $T$ be an affine algebraic group over $k$. Suppose that there exists $n\in \NN$ such that for every algebraically closed extension $K$ of $k$ there exists an isomorphism
$$T_K \cong  \Spec K \times_k \underbrace{\mathbb{G}_{m}\times_k \mathbb{G}_{m}\times_k ...\times_k \mathbb{G}_{m}}_{n\,\mathrm{times}} $$
of group schemes over $K$. Then $T$ is called \textit{a torus over $k$}.
\end{definition}

\begin{example}\label{example:split_torus}
If $T \cong \underbrace{\mathbb{G}_{m}\times_k \mathbb{G}_{m}\times_k ...\times_k \mathbb{G}_{m}}_{n\,\mathrm{times}}$, then $T$ is a torus. We call toruses $T$ of this form \textit{split toruses}.
\end{example}

\begin{example}\label{example:non_split_torus}
Define
$$\bd{S}^1 = \Spec k[x,y]/(x^2+y^2-1)$$
a scheme over $k$ and let $\fP_{\bd{S}^1}$ be its functor of points. Then for every $k$-algebra $A$ we have
$$\fP_{\bd{S}^1}(A) = \big\{(u,v)\in A\times_k A\,\big|\,u^2+v^2=1\big\}$$
There is also a morphism $\fP_{\bd{S}^1}\times_k \fP_{\bd{S}^1}\ra \fP_{\bd{S}^1}$ of $k$-functors given by
$$\fP_{\bd{S}^1}(A)\times_k \fP_{\bd{S}^1}(A)\ra \fP_{\bd{S}^1}\ni \left((u_1,v_1),(u_2,v_2)\right)\mapsto (u_1u_2-v_1v_2,u_1v_2+u_2v_1)\in \fP_{\bd{S}^1}(A)$$
for every $k$-algebra $A$. This makes $\fP_{\bd{S}^1}$ into a group $k$-functor. Thus $\bd{S}^1$ with the group structure described above is an affine algebraic group over $k$. We call it \textit{the circle group over $k$}.\\
Now suppose that $\mathrm{char}(k)=2$ and $K$ is an algebraically closed extension of $k$. Consider an element $i\in K$ such that $i^2 = -1$. For every $K$-algebra $A$ we have a map
$$\fP_{\bd{S}^1}(A)\ni (u,v)\mapsto u+iv\in A^*$$
First note that this map is bijective. Indeed, its inverse is given by
$$A^*\ni a \mapsto \left(\frac{1}{2}(a+a^{-1}),\frac{1}{2i}(a-a^{-1})\right) \in \fP_{\bd{S}^1}(A)$$
Moreover, the map $\fP_{\bd{S}^1}(A)\ra A^*$ is a homomorphism of abstract groups. Thus $\fP_{\bd{S}^1}$ resricted to the category $\Alg_K$ of $K$-algebras is isomorphic with $\fP_{\Spec K\times_k \mathbb{G}_{m}}$ as a group $k$-functor. Hence
$$\bd{S}^1_K \cong \Spec K\times_k \mathbb{G}_{m}$$
as algebraic group schemes over $K$. Hence $\bd{S}^1$ is a torus over $k$.\\
Now assume that $k = \RR$. Then abstract groups
$$\fP_{\bd{S}^1}(\RR) = \big\{z\in \CC\,\big|\,|z|=1\big\} \subseteq \CC^*,\,\RR^*$$
are not isomorphic. Indeed, the left hand side group has infinite torsion subgroup and the right hand side group has torsion subgroup equal to $\{-1,1\}$. This implies that over $\RR$ algebraic groups $\bd{S}^1$ and $\mathbb{G}_{m}$ are not isomorphic. Hence $\bd{S}^1$ is not a split torus over $\RR$.
\end{example}

\begin{corollary}\label{corollary:toruses_are_linearly_reductive}
Let $T$ be a torus over $k$. Then $T$ is a linearly reductive algebraic group.
\end{corollary}

\begin{definition}
Let $T$ be a torus over $k$ and let $\ol{T}$ be a linearly reductive monoid having $T$ as the group of units. Then $\ol{T}$ is \textit{a toric monoid over $k$}
\end{definition}

\begin{theorem}\label{theorem:toric_monoids_properties_Kempf_torus}
Let $\ol{T}$ be a toric monoid over $k$ with group of units $T$ and let $K$ be an algebraically closed extension of $k$. Suppose that $N$ is a dimension of $T$.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item The group of characters of $T_K$ is isomorphic to $\ZZ^N$ and there exists an abstract submonoid $S$ of $\ZZ^N$ such that the open immersion
$$T_K = \Spec\left(\bigoplus_{m\in \ZZ^N}K\cdot \chi^m\right) \hookrightarrow \Spec\left(\bigoplus_{m\in S}K\cdot \chi^m\right) = \ol{T}_K$$
is induced by the inclusion $S\hookrightarrow \ZZ^N$.
\item Let $\{V_{\lambda}\}_{\lambda\in \bd{Irr}(T)}$ be a set of irreducible representation of $T$ such that $V_{\lambda}$ is in isomorphism class $\lambda$. For every $\lambda$ there exists a finite subset $A_{\lambda}$ of $\ZZ^N$ such that
$$K\otimes_kV_{\lambda} = \bigoplus_{m\in A_{\lambda}}K\cdot \chi^m$$
If $\lambda$ is in  $\bd{Irr}(\ol{T})$, then $A_{\lambda}$ is a subset of $S$. Moreover, we have
$$\ZZ^N = \coprod_{\lambda\in \bd{Irr}(T)}A_{\lambda}$$
and $A_{\lambda_0} = \{0\}$, where $\lambda_0$ is the class of the trivial representation of $T$.
\item If $\ol{T}$ has a zero, then there exists a homomorphism $f:\ZZ^N\ra \ZZ$ of abelian groups such that $f_{\mid S\setminus \{0\}}>0$. In particular, $f$ induces a closed immersion
$$\Spec K\times_k \mathbb{G}_{m} = \Spec K[\ZZ]\hookrightarrow \Spec \left(\bigoplus_{m\in \ZZ^N}K\cdot \chi^m\right) = T_K$$
of group $K$-schemes that extends to a zero preserving closed immersion $\mathbb{A}^1_K\hookrightarrow \ol{T}_K$ of monoid $K$-schemes.
\end{enumerate}
\end{theorem}
\begin{proof}
Since $T$ is a torus, we derive that
$$T_K = \Spec K \times_k \underbrace{\mathbb{G}_{m}\times_k \mathbb{G}_{m}\times_k ...\times_k \mathbb{G}_{m}}_{N\,\mathrm{times}} = \Spec \left(\bigoplus_{m\in \ZZ^N}K\cdot \chi^m\right)$$
and hence
$$\ol{T}_K = \Spec \left(\bigoplus_{s\in S}K\cdot \chi^s\right)$$
for some abstract submonoid $S$ of $\ZZ^N$. Moreover, the open immersion $T_K\hookrightarrow \ol{T}_K$ is induced by the inclusion $S \hookrightarrow \ZZ^N$. This proves \textbf{(1)}.\\
We have identification
$$k[T] = \bigoplus_{\lambda\in \bd{Irr}(T)}V_{\lambda}^{n_{\lambda}}$$
of $T$-representations, where $n_{\lambda}\in \NN\setminus \{0\}$ for each $\lambda$. Thus
$$\bigoplus_{m\in \ZZ^N}K\cdot \chi^m = K\otimes_kk[T] = \bigoplus_{\lambda\in \bd{Irr}(T)}\left(K\otimes_kV_{\lambda}\right)^{n_{\lambda}}$$
This implies that $n_{\lambda} = 1$ for every $\lambda$ and moreover, we derive that
$$K\otimes_kV_{\lambda} = \bigoplus_{m\in A_{\lambda}}K\cdot \chi^m$$
for some finite set $A_{\lambda}\subseteq \ZZ^N$. We also have $A_{\lambda_0} = \{0\}$ and $A_{\lambda}\subseteq S\setminus \{0\}$ for $\lambda \in \bd{Irr}(\ol{T})$. This proves \textbf{(2)}.\\
Since $\ol{T}$ admits a zero, we derive that
$$\ideal{m} = \bigoplus_{m \in S\setminus\{0\}}K\cdot \chi^s \subseteq \bigoplus_{m\in \ZZ^N}K\cdot \chi^m$$
is an ideal. This implies that $S\setminus \{0\}$ is closed under addition. In particular, there exists a homomorphism of abelian groups $f:\ZZ^N\ra \ZZ$ such that $f_{\mid S\setminus \{0\}}>0$. This implies \textbf{(3)}.
\end{proof}

\section{Commuting actions}

\begin{corollary}\label{corollary:commuting_action_preserves_isotypic_decomposition}
Let $\bd{G}$ be an affine group scheme over $k$ and let $\fG$ be a monoid $k$-functor. Denote by $\Lambda$ the set of isomorphism classes of irreducible $\bd{G}$-representations. Suppose that $V$ is a representation of both $\bd{G}$ and $\fG$ and assume that their actions on $V$ commute. Assume that $V$ is completely reducible as a $\bd{G}$-representation and consider the decomposition
$$V = \bigoplus_{\lambda\in \Lambda}V[\lambda]$$
onto isotypic components with respect to the action of $\bd{G}$. Then for every $\lambda$ in $\Lambda$ the subspace $V[\lambda]$ is a $\fG$-subrepresentation of $V$.
\end{corollary}
\begin{proof}
Part of the structure $V$ as the $\fG$-representation is the morphism $\rho:\fG \ra \cL_V$ of $k$-monoids. Fix $k$-algebra $A$ and $g\in \fG(A)$. Since actions of $\bd{G}$ and $\fG$ on $V$ commute, morphism $\rho(g):A\otimes_kV\ra A\otimes_kV$ of $A$-modules is a morphism of $\bd{G}_A$-representation. According to Proposition \ref{proposition:trivial_homs_stay_trivial} we derive that
$$\Hom_{\bd{G}_A}\left(A\otimes_kV[\lambda_1],A\otimes_kV[\lambda_2]\right) = 0$$
for distinct $\lambda_1,\lambda_2\in \Lambda$. Thus
$$\rho(g)\left(A \otimes_k V[\lambda] \right)\subseteq A \otimes_kV[\lambda]$$
for every $\lambda$ in $\Lambda$. This holds for every $k$-algebra $A$ and $g\in \fG(A)$. Hence $V[\lambda]$ is $\fG$-subrepresentation of $V$.
\end{proof}

\section{Algebraization of formal $\bd{M}$-schemes}
\noindent
This section proves some results in equivariant formal geometry. 

\begin{theorem}\label{theorem:every_formal_over_kempf_monoid_is_formal_neighborhood}
Let $\bd{M}$ be a Kempf monoid and let $\cZ = \{Z_n\}_{n\in \NN}$ be a formal $\bd{M}$-scheme. Then there exists a locally linear $\bd{M}$-scheme $Z$ equipped with an action of $\bd{M}$ such that $\widehat{Z}$ is isomorphic to $\cZ$.
\end{theorem}

\begin{proof}[Setup]
Monoid $\bd{M}$ is affine and admits zero $\bd{o}$. Hence by Corollary \ref{corollary:restraction_for_formal_schemes_and_pointed_submonoids} formal $\bd{M}$-scheme $\cZ$ corresponds to a sequence of surjections
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{ ... &  \cA_{n+1} & \cA_n & ...& \cA_1 & \cA_0 = \cO_{Z_0} \\} ;
\path[->>,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5)
(m-1-5) edge node[above] {$ $} (m-1-6);
\end{tikzpicture}
\end{center}
of quasi-coherent $\cO_{Z_0}$-algebras with $\bd{M}$-linearization such that $\cA_n^{\bd{M}} = \cA_0$ for every $n\in \NN$ and if $\cI_n$ is the kernel of $\cA_n\twoheadrightarrow \cA_0$ in $\cA_n$, then $\cI_n^{m+1}$ is the kernel of $\cA_n\twoheadrightarrow \cA_m$ for $m\leq n$ and $n\in \NN$. Since $\bd{M}$ is a Kempf monoid, there exists a closed subgroup $T$ of the center $Z(\bd{G})$ of the unit group $\bd{G}$ of $\bd{M}$ such that $T$ is a torus and the scheme-theoretic closure $\ol{T}$ of $T$ in $\bd{M}$ contains the zero $\bd{o}$ of $\bd{M}$. We derive by Corollary \ref{corollary:restraction_for_formal_schemes_and_pointed_submonoids} that $\cA_n^{\bd{\ol{T}}} = \cA_0$ for every $n\in \NN$. By definition $\ol{T}$ is a toric monoid $k$-scheme with $T$ as a group of units. Let $\{V_{\lambda}\}_{\lambda\in \bd{Irr}(T)}$ be a set of irreducible representations of $T$ such that $V_{\lambda}$ is contained in $\lambda$.
\end{proof}

\begin{lemma}\label{lemma:stablization_for_representations}
Let $\lambda$ be in $\bd{Irr}(\ol{T})$. Then there exists $n_{\lambda}\in \NN$ such that for each $n > n_{\lambda}$ and any $\lambda_1,...,\lambda_n\in \bd{Irr}(\ol{T})\setminus \{\lambda_0\}$ the representation
$$\bigotimes_{i=1}^nV_{\lambda_i}$$ 
has trivial isotypic component of type $\lambda$. We have $n_{\lambda_0} = 0$, where $\lambda_0$ is an isomorphism type of the trivial representation of $T$.
\end{lemma}

\begin{proof}[Proof of the lemma]
Let $K$ be an algebraically closed extension of $k$. Pick $A_{\lambda}$ and $f$ as in Theorem \ref{theorem:toric_monoids_properties_Kempf_torus} and define
$$n_{\lambda} = \sup_{m\in A_{\lambda}}f(m)$$
We have
$$K\otimes_kV_{\lambda_1}\otimes_k...\otimes_kV_{\lambda_n} = \bigoplus_{(m_1,...,m_n)\in A_{\lambda_1}\times_k ...\times_k A_{\lambda_n}}K\cdot \chi^{m_1+...+m_n}$$
and since $m_1,...m_n\in A_{\lambda_1}\cup ...\cup A_{\lambda_n}\subseteq S\setminus \{0\}$ we derive that
$$f(m_1+...+m_n) = f(m_1) + ... + f(m_n) \geq n > n_{\lambda} = \sup_{m\in A_{\lambda}}f(m)$$
This implies that $V_{\lambda}$ is not an isotypic component of $V_{\lambda_1}\otimes_k...\otimes_kV_{\lambda_n}$.
\end{proof}

\begin{lemma}\label{lemma:stabilization_for_formal_schemes}
Fix $\lambda$ in $\bd{Irr}(\ol{T})$. Then $\cA_{n+1}[\lambda]\twoheadrightarrow \cA_n[\lambda]$ is an isomorphism for $n \geq  n_{\lambda}$.
\end{lemma}
\begin{proof}[Proof of the lemma]
Since $\cA_n^{\ol{T}} = \cA_0$ and $\ol{T}$ is linearly reductive monoid, we derive that $\cI_n[\lambda] = 0$ for $\lambda \not \in \bd{Irr}(\ol{T})\setminus \{\lambda_0\}$. Fix $\lambda \in \bd{Irr}(\ol{T})$. By Lemma \ref{lemma:stablization_for_representations} we derive that
$$\left(\underbrace{\cI_{n+1}\otimes_{k}\cI_{n+1}\otimes_{k}...\otimes_{k}\cI_{n+1}}_{n+1\,\mathrm{times}}\right)[\lambda] = 0$$
for $n \geq n_{\lambda}$. Note also that the image of the composition 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{\underbrace{\cI_{n+1}\otimes_{k}\cI_{n+1}\otimes_{k}...\otimes_{k}\cI_{n+1}}_{n\,\mathrm{times}}  & \underbrace{\cI_{n+1}\otimes_{\cO_{Z_0}}\cI_{n+1}\otimes_{\cO_{Z_0}}...\otimes_{\cO_{Z_0}}\cI_{n+1}}_{n\,\mathrm{times}} & \cA_{n+1}\\} ;
\path[->>,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-2) edge node[above] {$ $} (m-1-3);
\end{tikzpicture}
\end{center}
is $\cI_{n+1}^{n+1}$. Since the composition above is a morphism of sheaves with $\ol{T}$-linearization, we derive that $\cI_{n+1}^{n+1}[\lambda]=0$ for $n \geq n_{\lambda}$. Hence the kernel of $\cA_{n+1}[\lambda]\twoheadrightarrow \cA_n[\lambda]$ is trivial.
\end{proof}

\begin{proof}[Proof of Theorem]
According to Corollary \ref{corollary:commuting_action_preserves_isotypic_decomposition} and the fact that $T$ is central in $\bd{M}$ we derive that $\cA_n[\lambda]$ is a quasi-coherent sheaf with $\bd{M}$-linearization. For $\lambda\in \bd{Irr}(\ol{T})$ we define
$$\cA[\lambda] = \cA_n[\lambda]$$
where $n\geq n_{\lambda}$ as in Lemma \ref{lemma:stabilization_for_formal_schemes}. We set
$$\cA=\bigoplus_{\lambda\in \bd{Irr}(\ol{T})}\cA[\lambda]$$
Clearly $\cA[\lambda_0] = \cA_0 = \cO_{Z_0}$ canonically (where $\lambda_0$ is the trivial $T$-representation), hence $\cA$ is a quasi-coherent sheaf on $Z_0$ with $\bd{M}$-linearization. Actually $\cA=\lim_{n\in \NN}\cA_n$ in the category of quasi-coherent sheaves with $\bd{M}$-linearization on $Z_0$. We construct the $\cO_{Z_0}$-algebra structure on $\cA$. For this pick $\lambda_1, \lambda_2\in \bd{Irr}(\ol{T})$. Consider the irreducible representations $V_{\lambda_1}$ and $V_{\lambda_1}$ in classes $\lambda_1$ and $\lambda_2$, respectively. Suppose that $\eta_1,...,\eta_s$ are finitely many classes in $\bd{Irr}(\ol{T})$ such that $V_{\lambda_1}\otimes_k V_{\lambda_2}$ can be completely decomposed onto irreducible representation in these classes. Since the image of the multiplication $\cA_n[\lambda_1]\otimes_{\cO_{Z_0}}\cA_n[\lambda_2]\ra \cA_n$ on $\cA_n$ is also the image of a morphism
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{\cA_n[\lambda_1]\otimes_{k}\cA_n[\lambda_2]  &\cA_n[\lambda_1]\otimes_{\cO_{Z_0}}\cA_n[\lambda_2]  & \cA_n\\} ;
\path[->>,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-2) edge node[above] {$ $} (m-1-3);
\end{tikzpicture}
\end{center}
we deduce that it is contained in $\bigoplus_{i=1}^s\cA_n[\eta_i]$. By Lemma \ref{lemma:stabilization_for_formal_schemes} all these multiplications for $n\geq \sup \{n_{\lambda_1},n_{\lambda_2},n_{\eta_1},...,n_{\eta_s}\}$ can be identified. Now we define
$$\cA[\lambda_1]\otimes_{\cO_{Z_0}} \cA[\lambda_2]\ra  \bigoplus_{i=1}^s\cA[\eta_i]\subseteq \cA$$
as a morphism induced by the multiplication morphism for any $n\geq \sup\{n_{\lambda_1},n_{\lambda_2},n_{\eta_1},...,n_{\eta_s}\}$. This gives an $\cO_{Z_0}$-algebra structure on $\cA$, so $\cA$ is in fact the limit of $\{\cA_n\}_{n\in \NN}$ is the category of quasi-coherent algebras with $\bd{M}$-linearization. Note that from the description of $\cA$ it follows that for every $n\in \NN$ we have a surjective morphism $p_n:\cA\twoheadrightarrow \cA_n$ of algebras. We denote its kernel by $\cJ_n$ and we put $\cJ = \cJ_0$. The natural injection $\cO_{Z_0} = \cA_0 \ra \cA$ is a section of $p_0$, so that we have
$$\cJ=\bigoplus_{\lambda \in \bd{Irr}(\ol{T})\setminus \{\lambda_0\}}\cA[\lambda]$$
Recall that we denote by $\cI_n$ the kernel of $\cA_n\twoheadrightarrow \cA_0=\cO_{Z_0}$ for $n\in \NN$. Then $\cI_n=\cJ/\cJ_n$. Fix $m\in \NN$ and consider $n\in \NN$ such that $n\geq m$. Since $\cZ$ is a formal $\bd{M}$-scheme, the sheaf $\cI_n^{m+1}$ is the kernel of the morphism $\cA_n\twoheadrightarrow \cA_m$. Thus
$$\cJ_m/\cJ_n=\cI_n^{m+1}=(\cJ^{m+1}+\cJ_n)/\cJ_n$$
Both $\cJ_m$ and $\cJ^{m+1}$ are $\bd{Irr}(\ol{T})$-graded and for given $\lambda\in \bd{Irr}(\ol{T})$ and for $n \geq n_{\lambda}$ the isotypic component $\cJ_n[\lambda]$ is zero by Lemma \ref{lemma:stabilization_for_formal_schemes}. Hence $\cJ_m=\cJ^{m+1}$ for every $m \in \NN$.
We define
$$Z=\Spec_{Z_0}\cA$$
and we denote by $\pi:Z\to Z_0$ the structural morphism. The scheme $Z$ inherits a $\bd{M}$-action from $\cA$. For every $n\in \NN$ the zero-set of $\cJ^{n+1}$ in $\cA$ is a $\bd{M}$-scheme isomorphic to $Z_n = \Spec_{Z_0}\cA_n$. Hence $\cZ$ is isomorphic to $\widehat{Z}$ and this proves the theorem.\\
\end{proof}

\begin{theorem}
Let $\bd{M}$ be a Kempf monoid and let $Z$ be a locally linear $\bd{M}$-scheme. Suppose that $\pi:Z\ra Z^{\bd{M}}$ is the canonical retraction. If the formal $\bd{M}$-scheme $\widehat{Z}$ is locally noetherian, then $\pi:Z\ra Z^{\bd{M}}$ is of finite type.
\end{theorem}
\begin{proof}
Since $\pi$ is affine (Proposition \ref{proposition:retraction_for_monoids_with_zero}), we derive that $\cA = \pi_*\cO_Z$ is a quasi-coherent $\cO_{Z^{\bd{M}}}$-algebra with $\bd{M}$-linearization. We denote by $\cJ$ the ideal of $\cA$ that corresponds to the closed immersion $Z^{\bd{M}}\hookrightarrow Z$. We know that the formal $\bd{M}$-scheme
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ Z^{\bd{M}} = \Spec_{Z^{\bd{M}}}\cA/\cJ &  ... &  \Spec_{Z^{\bd{M}}}\cA/\cJ^{n+1} &  \Spec_{Z^{\bd{M}}}\cA/\cJ^{n+2} & ... \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5);
\end{tikzpicture}
\end{center}
is locally noetherian. Hence $\cJ/\cJ^{n+1}$ is $\cA/\cJ^{n+1}$-module of finite type. Thus $\{\cJ^i/\cJ^{i+1}\}_{1\leq i\leq n}$ are finite type $\cA/\cJ$-modules. The series
$$0 \subseteq \cJ^n/\cJ^{n+1} \subseteq  ... \subseteq \cJ/\cJ^{n+1} \subseteq \cA/\cJ^{n+1}$$
has subquotients that are of finite type over $\cO_{Z^{\bd{M}}} = \cA/\cJ$. This implies that $\cA/\cJ^{n+1}$ is a coherent $\cO_{Z^{\bd{M}}}$-algebra for every $n\in \NN$. The claim that $\pi$ is of finite type is local on $Z^{\bd{M}}$, hence we may assume that $Z^{\bd{M}}$ is quasi-compact. This reduces the question to the noetherian $Z^{\bd{M}}$. The sheaf $\cJ/\cJ^2\subseteq \cA/\cJ$ is coherent over $\cO_{Z^{\bd{M}}}$. Since $Z^{\bd{M}}$ is noetherian, there exists coherent $\cO_{Z^{\bd{M}}}$-subsheaf $\cM\subseteq \cJ$ such that the morphism $\cM\twoheadrightarrow \cJ/\cJ^2$ is surjective. Fix an algebraically closed $K$ extension of $k$ and denote
$$\cA_K = K\otimes_k\cA,\cJ_K = K\otimes_k\cJ,\cM_K = K\otimes_k\cM$$
Since $\bd{M}$ is a Kempf torus and by \textbf{(3)} Theorem \ref{theorem:toric_monoids_properties_Kempf_torus} there exists a closed immersion $\mathbb{A}^1_K\hookrightarrow \bd{M}_K$ of monoid $K$-schemes that preserve zero. This implies that we have $\NN$-grading $\cA_K = \bigoplus_{i\geq 0}\cA_K[i]$ that gives rise to the action of $\mathbb{A}^1_K$. Moreover, by Propostion \ref{proposition:retraction_for_monoids_with_zero} we deduce that
$$\Spec K\times_k Z^{\bd{M}} = \left(\Spec K \times_k Z\right)^{\bd{M}_K} = \left(\Spec K \times_k Z\right)^{\mathbb{A}^1_K}$$
as $K$-schemes. This shows that $\cJ_K = K\otimes_k\cJ = \bigoplus_{i\geq 1} \cA_K[i]$ is an ideal with positive grading. We have surjection $\cM_K\twoheadrightarrow \cJ_K/\cJ_K^2$. By graded Nakayama's lemma, the ideal $\cJ_K$  is generated by $\cM_K$. Then by induction on degrees we deduce that $\cA_K$ is generated by $\cM_K$ as a $K\otimes_k\cO_{Z^{\bd{M}}}$-algebra. Thus $1_{\Spec K}\times_k\pi$ is of finite type and by faitfully flat descent also $\pi$ is of finite type.
\end{proof}

\begin{theorem}
Let $\bd{M}$ be a Kempf monoid with group of unit $\bd{G}$ and let $Z$ be a locally linear $\bd{M}$-scheme. Suppose that $\pi:Z\ra Z^{\bd{M}}$ is the canonical retraction. If $Z$ is locally noetherian, then the comparison functor
$$\Coh_{\bd{G}}(Z)\ra \Coh_{\bd{G}}(\widehat{Z})$$
is an equivalence of monoidal categories.
\end{theorem}
\begin{proof}[Setup]
Since $\bd{M}$ is a Kempf torus, there exists a central closed torus $T$ in $\bd{G}$ such that the scheme-theoretic closure $\ol{T}$ of $T$ in $\bd{M}$ contains the zero. As above we note that $\pi$ is affine (Proposition \ref{proposition:retraction_for_monoids_with_zero}) and we pick a quasi-coherent $\cO_{Z^{\bd{M}}}$-algebra $\cA = \pi_*\cO_Z$ with $\bd{M}$-linearization. We denote by $\cJ$ the ideal of $\cA$ that corresponds to the closed immersion $Z^{\bd{M}}\hookrightarrow Z$. Then $\cO_{Z^{\bd{M}}} = \cA/\cJ$ and since $\pi$ is a retraction, we derive that $\cA = \cO_{Z^{\bd{M}}}\oplus \cJ$. Next $\widehat{Z}$ is locally noetherian (this follows from the fact that $Z$ is locally noetherian). Hence an object of $\Coh_{\bd{G}}(\widehat{Z})$ corresponds to a sequence of surjections
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{ ... &  \cM_{n+1} & \cM_n & ...& \cM_1 & \cM_0 \\} ;
\path[->>,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5)
(m-1-5) edge node[above] {$ $} (m-1-6);
\end{tikzpicture}
\end{center}
of coherent $\cO_{Z^{\bd{M}}}$-modules with $\bd{G}$-linearizations such that the following assertions hold.
\begin{enumerate}[label=\textbf{(\arabic*)}, leftmargin=3.0em]
\item For each $n\in \NN$ sheaf $\cM_n$ is a module over $\cA/\cJ^{n+1}$.
\item For each $n\in \NN$ the kernel of the surjection $\cM_{n+1}\twoheadrightarrow \cM_n$ is $\cJ^{n+1}\cM_{n+1}$.
\end{enumerate}
We fix an algebraically closed field $K$ containing $k$. By \textbf{(3)} of Theorem \ref{theorem:toric_monoids_properties_Kempf_torus} there exists a closed immersion $\Spec K\times_k \mathbb{G}_m\hookrightarrow T_K$ of group $K$-schemes that induces zero preserving closed immersion $\mathbb{A}^1_K\hookrightarrow \ol{T}_K$ of monoid $K$-schemes. By Proposition \ref{proposition:retraction_for_monoids_with_zero} we have
$$\Spec K\times_k Z^{\bd{M}} = \left(\Spec K\times_k Z\right)^{\bd{M}_K} = \left(\Spec K\times_k Z\right)^{\mathbb{A}^1_K}$$
This implies that
$$\cA_K = K\otimes_k\cA = \bigoplus_{i\geq 0}\cA_K[i],\,\cJ_K = K\otimes_k\cJ = \bigoplus_{i\geq 1}\cA_K[i]$$
where gradation is induced by the action of $\mathbb{A}^1_K$. For every $n\in \NN$ the action of $\Spec K\times_k \mathbb{G}_m$ on $K\otimes_k\cM_n$ induced by the closed immersion $\Spec K\times_k \mathbb{G}_m \hookrightarrow \ol{T}_K\hookrightarrow \bd{M}_K$ of group $K$-schemes gives rise to a gradation
$$K\otimes_k\cM_n = \bigoplus_{i\in \ZZ}\left(K\otimes_k\cM_n\right)[i]$$
\end{proof}

\begin{lemma}\label{lemma:boundedness_of_gradation_and_two_stabilizations}
The following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item There exists $i_0\in \ZZ$ such that for every $n\in \NN$ we have $\left(K\otimes_k\cM_n\right)[i] = 0$ for $i< i_0$.
\item For every $i\in \ZZ$ there exists $n_i\in \NN$ such that for all $n\geq n_i$ the surjection $\left(K\otimes_k\cM_{n+1}\right)[i]\twoheadrightarrow \left(K\otimes_k\cM_n\right)[i]$ is an isomorphisms.
\item For every $\lambda$ in $\bd{Irr}(T)$ there exists $n_{\lambda}\in \NN$ such that for all $n\geq n_{\lambda}$ the surjection $\cM_{n+1}[\lambda]\twoheadrightarrow \cM_n[\lambda]$ is an isomorphisms.
\end{enumerate}
\end{lemma}
\begin{proof}[Proof of the lemma]
Fix $n\in \NN$ and consider the decomposition $K\otimes_k\cM_n = \bigoplus_{i\in \ZZ}\left(K\otimes_k\cM_0\right)[i]$. Since $K\otimes_k\cM_n$ is a coherent $K\otimes_k \cO_{Z^{\bd{M}}}$-module and the decomposition consists of modules over $K\otimes_k\cO_{Z^{\bd{M}}}$, we derive that there are only finitely many $i\in \ZZ$ such that $\left(K\otimes_k\cM_0\right)[i]\neq 0$. Hence we may write $K\otimes_k\cM_n = \bigoplus_{i\geq i_n}\left(K\otimes_k\cM_n\right)[i]$ for some $i_n\in \ZZ$ such that $\left(K\otimes_k\cM_n\right)[i_n] \neq 0$. Moreover, we know that the kernel of the surjection
$$K\otimes_k\cM_{n+1} = \bigoplus_{i\geq i_{n+1}}\left(K\otimes_k\cM_{n+1}\right)[i] \twoheadrightarrow \bigoplus_{i\geq i_n}\left(K\otimes_k\cM_n\right)[i] = K\otimes_k\cM_n$$
is $\cJ_K^{n+1}\cdot \left(K\otimes_k\cM_{n+1}\right)$ and hence is contained in $\bigoplus_{i\geq (i_{n+1}+n+1)}\left(K\otimes_k\cM_{n+1}\right)[i]$
This implies that $\left(K\otimes_k\cM_{n}\right)[i]  = \left(K\otimes_k\cM_{n+1}\right)[i]$ for $i_{n+1}\leq i \leq i_{n+1}+n$. In particular, we have $\left(K\otimes_k\cM_{n}\right)[i]  = \left(K\otimes_k\cM_{n+1}\right)[i] \neq 0$ and thus $i_{n+1} \geq i_n$. This shows that $i_n\geq i_0$ for every $n\in \NN$ and \textbf{(1)} is proved. Now the surjection
$$K\otimes_k\cM_{n+1} = \bigoplus_{i\geq i_{0}}\left(K\otimes_k\cM_{n+1}\right)[i] \twoheadrightarrow \bigoplus_{i\geq i_0}\left(K\otimes_k\cM_n\right)[i] = K\otimes_k\cM_n$$
induces an isomorphism for $i$-th graded component, where $i_0 \leq i\leq i_0+n$. Hence for fixed $i\in \ZZ$ there exists $n_i\in \NN$ such that for all $n\geq n_i$ the surjection $\left(K\otimes_k\cM_{n+1}\right)[i] \twoheadrightarrow \left(K\otimes_k\cM_n\right)[i]$ is an isomorphism. Thus we proved \textbf{(2)}. Fix now $\lambda$ in $\bd{Irr}(T)$ and let $V_{\lambda}$ be an irreducible representation in class $\lambda$. There exists finite subset $B_{\lambda}\subseteq \ZZ$ such that for $\left(K\otimes_kV_{\lambda}\right)[i] \neq 0$ if $i\in B_{\lambda}$. Now define $n_{\lambda} = \sup_{i\in B_{\lambda}}n_i$ the surjection $K\otimes_k\cM_{n+1}\twoheadrightarrow K\otimes_k\cM_n$ induces an isomorphism $\left(K\otimes_k\cM_{n+1}\right)[i] \cong \left(K\otimes_k\cM_n\right)[i]$ for every $i$ in $B_{\lambda}$. Thus for $n\geq n_{\lambda}$ the surjection $\cM_{n+1}\twoheadrightarrow \cM_n$ induces an isomorphism $\cM_{n+1}[\lambda]\cong \cM_n[\lambda]$. This shows \textbf{(3)}.
\end{proof}


\begin{proof}[Proof of the theorem]
For fixed $\lambda$ in $\bd{Irr}(T)$ we define $\cM[\lambda] = \cM_n[\lambda]$ for any $n\geq n_{\lambda}$, where $n_{\lambda}\in \NN$ is as in \textbf{(3)} of Lemma \ref{lemma:boundedness_of_gradation_and_two_stabilizations} (in particular, this does not depend on $n\geq n_{\lambda}$). Next we define
$$\cM = \bigoplus_{\lambda\in \bd{Irr}}\cM[\lambda]$$
Since by Corollary \ref{corollary:commuting_action_preserves_isotypic_decomposition} for every $n\in \NN$ and $\lambda \in \bd{Irr}(T)$ sheaf $\cM_n[\lambda]$ admits $\bd{G}$-linearization. Therefore, $\cM$ is a quasi-coherent sheaf of $\cO_{Z^{\bd{M}}}$-modules with $\bd{G}$-linearization. We now show that $\cM$ admits a canonical structure of $\cA$-module. For this pick $\lambda_1$ and $\lambda_2$ in $\bd{Irr}(T)$. Consider the irreducible representations $V_{\lambda_1}$ and $V_{\lambda_1}$ in classes $\lambda_1$ and $\lambda_2$, respectively. Suppose that $\eta_1,...,\eta_s$ are finitely many classes in $\bd{Irr}(T)$ such that $V_{\lambda_1}\otimes_k V_{\lambda_2}$ can be completely decomposed into irreducible representation in $\eta_1,...,\eta_s$. Since the image of the multiplication $\cA[\lambda_1]\otimes_{\cO_{Z_0}}\cM_n[\lambda_2]\ra \cM_n$ is also the image of a morphism
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{\cA[\lambda_1]\otimes_{k}\cM_n[\lambda_2]  & \cA[\lambda_1]\otimes_{\cO_{Z_0}}\cM_n[\lambda_2]  & \cM_n\\} ;
\path[->>,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-2) edge node[above] {$ $} (m-1-3);
\end{tikzpicture}
\end{center}
we deduce that it is contained in $\bigoplus_{i=1}^s\cM_n[\eta_i]$. By \textbf{(3)} of Lemma \ref{lemma:boundedness_of_gradation_and_two_stabilizations} all these multiplications for $n\geq \sup \{n_{\lambda_1},n_{\lambda_2},n_{\eta_1},...,n_{\eta_s}\}$ can be identified. Now we define
$$\cA[\lambda_1]\otimes_{\cO_{Z_0}} \cM[\lambda_2]\ra  \bigoplus_{i=1}^s\cM[\eta_i]\subseteq \cM$$
as a morphism induced by the multiplication morphism for any $n\geq \sup\{n_{\lambda_1},n_{\lambda_2},n_{\eta_1},...,n_{\eta_s}\}$. This gives an $\cA$-module structure on $\cM$. Next we prove that $\cM$ is $\cA$-module of finite type. Denote $K\otimes_k\cM$ by $\cM_K$. Note that the combination of \textbf{(2)} and \textbf{(3)} of Lemma \ref{lemma:boundedness_of_gradation_and_two_stabilizations} show that
$$\cM_K[i] = \left(K\otimes_k\cM_n\right)[i]$$
for $n\geq n_i$. Hence by \textbf{(1)} of Lemma \ref{lemma:boundedness_of_gradation_and_two_stabilizations} we have
$$\bigoplus_{\lambda\in \bd{Irr}(T)}\cM[\lambda]_K = \cM_K = \bigoplus_{i\geq i_0}\cM_K[i]$$
Since each $\cM_n$ is a coherent $\cO_{Z^{\bd{M}}}$-module, we derive that $\cM_K[i]$ is a coherent $K\otimes_k\cO_{Z^{\bd{M}}}$-module for every $i\in \ZZ$. Now we may pick $\lambda_1,...,\lambda_r$ in $\bd{Irr}(T)$ such that we have a surjection
$$\bigoplus_{j=1}^r\cM[\lambda_j]_K \twoheadrightarrow \bigoplus_{i_0\leq i\leq 1}\cM_K[i]$$
induced by the projection $\cM_K = \bigoplus_{i\geq i_0}\cM_K[i]\twoheadrightarrow \bigoplus_{i_0\leq i\leq 1}\cM_K[i]$. Let
$$\cG = \bigoplus_{j=1}^r\cM[\lambda_j]$$
be a $\cO_{Z^{\bd{M}}}$-submodule of $\cM$. Clearly each $\cM[\lambda]$ is a coherent $\cO_{Z^{\bd{M}}}$-module. Hence $\cG$ is a coherent $\cO_{Z^{\bd{M}}}$-module. Since $\cJ_K = \bigoplus_{i\geq 1}\cA_K[i]$, we derive that
$$\cM_K = \sum_{j\geq 1}\cJ_K^j\cdot \cG_K$$
and hence $\cG_K$ generates $\cM_K$ as an $\cA_K$-module. By faithfully flat descent we deduce that $\cG$ generates $\cM$ as an $\cA$-module. Since $\cG$ is a coherent $\cO_{Z^{\bd{M}}}$-module, we derive that $\cM$ is $\cA$-module of finite type. Moreover, by construction of $\cM$ we have $\cM/\cJ^{n+1}\cM = \cM_{n}$ for every $n\in \NN$.\\
All these facts imply that $\cM$ corresponds to a coherent sheaf on $Z$ with $\bd{G}$-linearization such that its image under the comparison functor $\Coh_{\bd{G}}(Z)\ra \Coh_{\bd{G}}(\widehat{Z})$ is a coherent sheaf on $\widehat{Z}$ with $\bd{G}$-linearization described by $\{\cM_n\}_{n\in \NN}$. Hence the comparison functor is essentially surjective. We now prove that it is full and faithful. For this let
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{ ... &  \cN_{n+1} & \cN_n & ...& \cN_1 & \cN_0 \\} ;
\path[->>,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ $} (m-1-2)
(m-1-2) edge node[above] {$ $} (m-1-3)
(m-1-3) edge node[above] {$ $} (m-1-4)
(m-1-4) edge node[above] {$ $} (m-1-5)
(m-1-5) edge node[above] {$ $} (m-1-6);
\end{tikzpicture}
\end{center}
represents some other object of $\Coh_{\bd{G}}(\widehat{Z})$. As for $\{\cM_n\}_{n\in \NN}$ we can construct finite type $\cA$-module $\cN$ with $\bd{G}$-linearization such that $\cN/\cJ^{n+1}\cN = \cN_n$ for every $n\in \NN$. Pick a morphism $f:\cM\ra \cN$ of $\cA$-modules with $\bd{G}$-linearization. For every $\lambda$ in $\bd{Irr}(T)$ morphism $f[\lambda]:\cM[\lambda]\ra \cN[\lambda]$ is equal (by virtue of constructions of $\cN$ and $\cM$) to a morphism $\left(1_{\cA/\cJ^{n+1}}\otimes_{\cA}f\right)[\lambda]$ for sufficiently large $n\in \NN$. This implies that the comparison functor is full and faithful.
\end{proof}


\section{$\bd{M}$-equivariant quasi-coherent sheaves}
\noindent
In this section we fix a monoid $k$-scheme $\bd{M}$ and a $k$-scheme $X$ with an action $a:\bd{M} \times_k X \ra X$. We denote by $\pi: \bd{M}\times_kX\ra X$ the projection on $X$.

\begin{definition}
Fix a quasi-coherent sheaf $\cF$ on $X$. An $\bd{M}$-linearization of $\cF$ is an isomorphism $\phi:\pi^*\cF \ra a^* \cF$ such that the equality
$$(\mu\times_k1_X)^*\phi = (1_{\bd{M}} \times_k a)^*\phi \cdot \pi_{2,3}^*\phi$$
holds, where $\mu: \bd{M} \times_k \bd{M} \ra \bd{M}$ is the multiplication on $\bd{M}$ and $\pi_{2,3}:\bd{M}\times_k \bd{M} \times_k X \ra \bd{M} \times_kX$ is the projection on last two factors. Then $\phi$ is called \textit{an $\bd{M}$-linearization on $\cF$} and a pair $(\cF,\phi)$ is called \textit{a quasi-coherent $\bd{M}$-sheaf}.
\end{definition}

\begin{proposition}\label{proposition:compatibility_with_identity}
Let $\cF$ be a quasi-coherent sheaf on $X$ and $\phi:\pi^*\cF\ra a^*\cF$ be a $\bd{M}$-linearization. Assume that $e:\Spec k\ra G$ is an identity of $\bd{M}$. Let $i_e = \langle e, 1_X\rangle :X\ra \bd{M} \times_kX$ be a morphism induced by $e$ and $1_X$. Then $i^*_e\phi = 1_{\cF}$.
\end{proposition}
\begin{proof}
Let $j = \langle e, e, 1_X\rangle:X \ra \bd{M} \times_k \bd{M} \times_kX$ be a morphism induced by $e$ and $1_X$. Observe that
$$i_e^*\phi=j^*(\mu\times_k1_X)^*\phi = j^* \bigg(\big(1_{\bd{M}} \times_k a\big)^*\phi \cdot \pi^*_{2,3}\phi\bigg)=i^*_e\phi \cdot i^*_e\phi$$
Since $\phi$ is an isomorphism, we derive that $i_e^*\phi=1_{\cF}$.
\end{proof}

\begin{definition}
Let $(\cF_1,\phi_1)$ and $(\cF_2,\phi_2)$ be quasi-coherent $\bd{M}$-sheaves. Suppose that $f:\cF_1\ra \cF_2$ is a morphism of quasi-coherent sheaves on $X$ such that the square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \pi^*\cF_1 & a^*\cF_1     \\
  \pi^*\cF_2 & a^*\cF_2             \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ \phi_1 $} (m-1-2)
(m-2-1) edge node[below] {$ \phi_2 $} (m-2-2)
(m-1-1) edge node[left] {$ \pi^*f $} (m-2-1)
(m-1-2) edge node[right] {$ a^*f  $} (m-2-2);
\end{tikzpicture}
\end{center}
is commutative. Then $f$ is called \textit{a morphism of quasi-coherent $\bd{M}$-sheaves}. We denote by $\Qcoh_{\bd{M}}(X)$ the category of quasi-coherent $\bd{M}$-sheaves and call it \textit{the category of quasi-coherent $\bd{M}$-sheaves}.
\end{definition}

\begin{definition}
Let $X$ be locally noetherian, then we denote by $\Coh_{\bd{M}}(X)$ the full subcategory of $\Qcoh_{\bd{M}}(X)$ that consists of quasi-coherent $\bd{M}$-sheaves $(\cF,\phi)$ such that $\cF$ is coherent on $X$. We call it \textit{the category of coherent $\bd{M}$-sheaves}.
\end{definition}

\begin{proposition}\label{proposition:canonical linearization of the structure sheaf}
Let $\pi_{\#}:\pi^*_X\cO_X \ra \cO_{\bd{M} \times_kX}$ and $a_{\#}:a^*\cO_X \ra \cO_{\bd{M} \times_k X}$ be the canonical isomorphisms induced by morphisms $\pi$ and $a$, respectively. Then $\phi  = a_{\#}^{-1}\cdot {\pi}_{\#}$ is an $\bd{M}$-linearization of the structure sheaf $\cO_X$.
\end{proposition}
\begin{proof}
First we introduce convienient notation. If $(f,f^{\#}):(Y,\cO_Y)\ra (Z,\cO_Z)$ is a morphism of ringed spaces, then we denote $f_{\#}:f^*\cO_Z\ra \cO_Y$ adjoint of $f^{\#}:\cO_Z\ra f_*\cO_Y$. This is consistent with notation from the statement. Note that $f_{\#}$ is always an isomorphism.\\
We have
$$(1_{\bd{M}} \times_k a)^*\pi_{\#} \cdot \pi_{2,3}^*a_{\#}^{-1} =$$
$$(1_{\bd{M}} \times_ka)_{\#}^{-1}(1_{\bd{M}} \times_ka)_{\#}(1_{\bd{M}} \times_ka)^*({\pi}_{\#})({\pi_{2,3}}_{\#}^{-1}{\pi_{2,3}}_{\#}\pi_{2,3}^*(a_{\#}))^{-1}= $$ $$=(1_{\bd{M}}\times_k a)_{\#}^{-1}(\pi(1_G\times_ka))_{\#}(a\pi_{(G\times_kX)})_{\#}^{-1}{\pi_{(G\times_kX)}}_{\#}=(1_G\times_ka)_{\#}^{-1}{\pi_{(G\times_kX)}}_{\#}$$
Hence:
\begin{center}
$(1_G\times_ka)^*(a_{\#}^{-1}{\pi_X}_{\#})\pi_{(G\times_kX)}^*(a_{\#}^{-1}{\pi_X}_{\#})=$\\$=(1_G\times_ka)^*(a_{\#}^{-1})(1_G\times_ka)_{\#}^{-1}{\pi_{(G\times_kX)}}_{\#}\pi_{(G\times_kX)}^*({\pi_X}_{\#})=(a(1_G\times_ka))_{\#}^{-1}(\pi_X\pi_{(G\times_kX)})_{\#}=$\\$=(a(\mu\times_k1_X))^{-1}_{\#}(\pi_X(\mu\times_k1_X))_{\#}=(\mu\times_k1_X)^*(a_{\#})^{-1}(\mu\times_k1_X)^{-1}_{\#}(\mu\times_k1_X)_{\#}(\mu\times_k1_X)^*({\pi_X}_{\#})=$\\$=(\mu\times_k1_X)^*(a_{\#})^{-1}(\mu\times_k1_X)^*({\pi_X}_{\#})=(\mu\times_k1_X)^*(a_{\#}^{-1}{\pi_X}_{\#})$
\end{center}
This means that $(\mu\times_k1_X)^*\phi_{\cO_X}=(1_G\times_k a)^*\phi_{\cO_X}\pi_{(G\times_kX)}^*\phi_{\cO_X}$
\end{proof}

\begin{proposition}
The forgetful functor $\Mod_G(\cO_X)\ra \Mod(\cO_X)$ creates finite products and colimits.\\
Moreover, if $\pi^*_X$ and $a^*$ are exact, then the functor above creates all finite limits.
\end{proposition}
\begin{proof}
The first assertion is a straighforward consequence of the fact that $\pi_X^*$ and $a^*$ preserve finite products and colimits. The second assertion follows by the same argument using additional assumptions. 
\end{proof}

\begin{corollary}
Suppose that $\pi^*_X$ and $a^*$ are exact. Then $\Mod_G(\cO_X)$ is an $\bd{Ab}5$-category.
\end{corollary}
\begin{proof}
The result is a consequence of the general rule. If a category admits a functor to some $\bd{Ab}5$-category and this functor creates colimits and finite limits, then the  category itself is an $\bd{Ab}5$-category.
\end{proof}

\begin{proposition}
Let $f:X\ra Y$ be a $G$-equivariant morphism of locally ringed spaces over $S$ admiting action of some $S$-group $G$. For a $G$-sheaf $\cG$ of $\cO_Y$-modules together with a linearization $\phi$ there exists a linearization of $f^*\cG$ given by $(1_G\times_k f)^*\phi$. This gives a lift $f^*:\Mod_G(\cO_Y)\ra \Mod_G(\cO_X)$ of a pullback $f^*:\Mod(\cO_Y)\ra \Mod(\cO_X)$.
\end{proposition}
\begin{proof}
Let $b:G\times_kY\ra Y$ denote an action of $G$ on $Y$.\\
Observe that:
\begin{center}
$(1_G\times_ka)^*((1_G\times_kf)^*\phi))\pi_{(G\times_kX)}^*((1_G\times_kf)^*\phi)=(1_G\times_kfa)^*\phi (\pi_{(G\times_kY)}(1_{(G\times_kG)}\times_kf))^*\phi=$\\$=(1_{(G\times_kG)}\times_kf)^*((1_G\times_kb)^*\phi \pi_{(G\times_kY)}^*\phi)=(1_{(G\times_kG)}\times_kf)^*(\mu\times_k1_Y)^*\phi=(\mu\times_k1_X)^*(1_G\times_kf)^*\phi$
\end{center}
Thus indeed $(1_G\times_kf)^*\phi$ is a $G$-linearization on $f^*\cF$. 
\end{proof}

\begin{remark}
Exactly the same results are derived in the category of complex analytic spaces, smooth manifolds and (not necessarly locally) ringed topological spaces. Definitions and proofs are the same after replacing fiber product over $S$ by product in the corresponding category.
\end{remark}

\begin{theorem}
Let $\bd{M}$ be a monoid $k$-scheme and let $X$ be a $k$-scheme equipped with an action $a:\bd{M} \times_k X \ra X$ of $\bd{M}$. Suppose that $\cF$ is a quasi-coherent sheaf on $X$. We denote by $\pi: \bd{M}\times_kX\ra X$ the projection on $X$.
an isomorphism $\phi:\pi^*\cF \ra a^* \cF$ such that the equality
$$(\mu\times_k1_X)^*\phi = (1_{\bd{M}} \times_k a)^*\phi \cdot \pi_{2,3}^*\phi$$
holds, where $\mu: \bd{M} \times_k \bd{M} \ra \bd{M}$ is the multiplication on $\bd{M}$ and $\pi_{2,3}:\bd{M}\times_k \bd{M} \times_k X \ra \bd{M} \times_kX$ is the projection on last two factors.
\end{theorem}





\small
\bibliographystyle{apalike}
\bibliography{../zzz}

\end{document}
