\input ../pree

\begin{document}

\title{}
\date{}
\maketitle

\section{Introduction}
\noindent
Throughout this notes $k$ denote a field and $\bd{G}$ denote a group scheme over $k$. We also fix a $k$-scheme $X$ equipped with an action of $\bd{G}$ determined by morphism $a:\bd{G}\times_kX\ra X$.

\section{Categorical and geometric quotients}

\begin{definition}
Let $q:X\ra Y$ be a morphism of $k$-schemes such that the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{\bd{G}\times_kX &  X & Y\\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
is a cokernel in the category of $k$-schemes. Then $q:X\ra Y$ is \textit{a categorical quotient of $X$}.
\end{definition}

\begin{definition}
Consider a cokernel  
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{\bd{G}\times_kX &  X & Y\\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
in the category of locally ringed spaces over $k$. If $Y$ is a scheme, then $q:X\ra Y$ is \textit{a geometric quotient of $X$}.
\end{definition}

\begin{fact}\label{fact:geometric_quotients_are_categorical}
Every geometric quotient is categorical.
\end{fact}
\begin{proof}
Categorical quotient is a cokernel in the category of $k$-schemes. On the other hand geometric quotient is a cokernel in the category of locally ringed spaces and hence it also satisfies cokernel property in its full subcategory of $k$-schemes. Thus every geometric quotient is categorical.
\end{proof}

\begin{corollary}\label{corollary:geometric_quotients_are_cokernels_in_ringed_spaces}
Let $q:X\ra Y$ be a morphism of schemes. The following assertions are equivalent.
\begin{enumerate}[label=\emph{\textbf{(\roman*)}}, leftmargin=3.0em]
\item The diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &  X &  Y \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2)
(m-1-2) edge node[above] {$ q $} (m-1-3);
\end{tikzpicture}
\end{center}
is a cokernel diagram of underlying topological spaces and the diagram
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \cO_Y & q_*\cO_X & q_*\left(\mathrm{pr}_X\right)_*\cO_{\bd{G}\times_kX} = q_*a_*\cO_{\bd{G}\times_k X} \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-2) edge[transform canvas={yshift=0.5ex}] node[above] {$ q_*a^{\#}  $} (m-1-3)
(m-1-2) edge[transform canvas={yshift=-0.5ex}] node[below] {$ q_*\mathrm{pr}_X^{\#} $} (m-1-3)
(m-1-1) edge node[above] {$ q^{\#} $} (m-1-2);
\end{tikzpicture}
\end{center}
is a kernel diagram in the category of sheaves on $Y$.
\item $q$ is a geometric quotient of $X$.
\end{enumerate}
\end{corollary}
\begin{proof}
This is a consequence of {\cite[Theorem 2.9]{LocallyRingedSpaces}}.
\end{proof}
\noindent
In the next result we give a simple example of a universal geometric quotient.

\begin{fact}\label{fact:trivial_bundle_is_universal_geometric_quotient}
Suppose that $\bd{G}$ is an algebraic group over $k$. Let $Y$ be a $k$-scheme and consider $\bd{G}\times_kY$ with the action of $\bd{G}$ induced by the regular action on the left factor. Then $\mathrm{pr}_Y:\bd{G}\times_kY\ra Y$ is a universal geometric quotient. 
\end{fact}
\noindent
Let $q:X\ra Y$ be a morphism of $k$-schemes such that $q\cdot \mathrm{pr}_X = q\cdot a$. For a morphism $g:Y'\ra Y$ of $k$-schemes consider the cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=2em, column sep=2em,text height=1.5ex, text depth=0.25ex] 
{ X' &    X                           \\
    Y' &   Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ g'$} (m-1-2)
(m-2-1) edge node[below] {$ g$} (m-2-2)
(m-1-1) edge node[left] {$f' $} (m-2-1)
(m-1-2) edge node[auto] {$ f$} (m-2-2);
\end{tikzpicture}
\end{center} 
Then there exists a unique action $a':\bd{G} \times_kX' \ra X'$ of $\bd{G}$ on $X'$ such that the square above consists of $\bd{G}$-equivariant morphism (we consider $Y,Y'$ as $\bd{G}$-schemes equipped with trivial $\bd{G}$-actions). Keeping this in mind we have the following.

\begin{definition}
A morphism $q:X\ra Y$ is \textit{a uniform categorical (geometric) quotient of $X$} if for every flat morphism $g:Y'\ra Y$ its base change $q':X'\ra Y'$ is a categorical (geometric) quotient of $X'$. 
\end{definition}

\begin{definition}
A morphism $q:X\ra Y$ is \textit{a universal categorical (geometric) quotient of $X$} if for every morphism $g:Y'\ra Y$ its base change $q':X'\ra Y'$ is a categorical (geometric) quotient of $X'$. 
\end{definition}
    
\section{Types of actions and criteria for smoothness of quotients}

\begin{definition}
The action of $\bd{G}$ on $X$ is \textit{separated} if the morphism $\langle a, \mathrm{pr_X} \rangle:\bd{G}\times_kX\ra X\times_kX$ has closed set-theoretic image.
\end{definition}

\begin{theorem}\label{theorem:separatedness_of_universal_categorical_quotients_of_separated_actions}
Let $q:X\ra Y$ be a geometric quotient of $X$. Assume that $q$ is universally submersive. Then the following assertions are equivalent.
\begin{enumerate}[label=\emph{\textbf{(\roman*)}}, leftmargin=3.0em]
\item The action of $\bd{G}$ on $X$ is separated.
\item $Y$ is separated.
\end{enumerate}
\end{theorem}
\begin{proof}
We have a cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ X\times_Y X &    X \times_k X                           \\
    Y &   Y \times_k Y                 \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ $} (m-1-2)
(m-2-1) edge node[below] {$\Delta_Y $} (m-2-2);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[left] {$ $} (m-2-1)
(m-1-2) edge node[auto] {$ q\times_k q$} (m-2-2);
\end{tikzpicture}
\end{center}
It follows that $X\times_YX\hookrightarrow X\times_kX$ is a locally closed immersion. Since $q$ is a geometric quotient, we derive  that $\langle a, \mathrm{pr}_X \rangle$ factors as a surjective morphism $\bd{G} \times_k X\twoheadrightarrow X\times_YX$ followed by the immersion $X\times_YX\hookrightarrow X\times_kX$. Thus the action of $\bd{G}$ on $X$ is separated if and only if $X\times_YX$ is a closed subscheme of $X\times_kX$. Since $q$ is universally submersive, we derive that $q\times_kq$ is submersive. As the square above is cartesian we derive that $\Delta_Y(Y) \subseteq Y\times_kY$ is closed if and only if $X\times_YX\subseteq X\times_kX$ is closed. Therefore, $Y$ is separated if and only if the action of $\bd{G}$ on $X$ is separated.
\end{proof}
   
\begin{definition}
The action of $\bd{G}$ on $X$ is \textit{free} if the morphism $\langle a, \mathrm{pr_X} \rangle:\bd{G}\times_kX\ra X\times_kX$ is a closed immersion.
\end{definition}

\begin{definition}
Let $x$ be a $k$-point of $X$. Suppose that \textit{the orbit morphism $\bd{G}\ra X$ of $x$} given by the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=2.5em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G} = \bd{G}\times_k\Spec k & & \bd{G}\times_kX & X                        \\} ;
\path[right hook->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$\mathrm{induced\,by\,}x  $} (m-1-3);
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-3) edge node[auto] {$  $} (m-1-4);
\end{tikzpicture}
\end{center}
is a closed immersion. Then the action of $\bd{G}$ on $X$ has \textit{a closed free orbit at $x$}.
\end{definition}

\begin{fact}
If the action of $\bd{G}$ on $X$ is free, then every $k$-point of $X$ has a closed free orbit.
\end{fact}
\noindent
The following is important result concerning smoothness of geometric quotients.

\begin{theorem}\label{theorem:free_actions_over_complete_local_rings_give_rise_to_principal_bundles}
Let $k$ be an algebraically closed field and let $\bd{G}$ be a smooth group $k$-scheme. Suppose that $q:X\ra Y$ is a geometric quotient locally of finite type and assume that $Y$ is the spectrum of a complete local noetherian $k$-algebra such that the residue field of the closed point of $Y$ is $k$. Then the following assertions hold.
\begin{enumerate}[label=\emph{\textbf{(\arabic*)}}, leftmargin=3.0em]
\item Suppose that $x$ is a $k$-point of $X$ which has a closed free orbit. Then there exists a $\bd{G}$-equivariant, {\'e}tale and surjective morphism $f:\bd{G}\times_k Y \ra X$ such that the triangle
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=2.5em, column sep=1em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_k Y &  & X \\
                        & Y &    \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ f  $} (m-1-3)
(m-1-1) edge node[below = 4pt, left = 1pt] {$ \mathrm{pr}_{Y} $} (m-2-2)
(m-1-3) edge node[below = 4pt, right = 1pt] {$ q $} (m-2-2);
\end{tikzpicture}
\end{center}
is commutative.
\item If the action of $\bd{G}$ on $X$ is free, then $f$ is an isomorphism.
\end{enumerate}
\end{theorem}
\noindent
The proof relies on two algebraic lemmas. The first describe free actions in context of complete rings and the second is a version of Hensel's lemma.

\begin{lemma}\label{lemma:free_actions_in_formal_geometry}
Let $(R,\ideal{m},k)$ be a complete local noetherian $k$-algebra and let $\sigma:R\ra R[[x_1,...,x_n]]$ be a local morphism into a ring of formal power series over $R$. Assume that the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ R & R[[x_1,...,x_n]] & & & R                       \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ \sigma  $} (m-1-2)
(m-1-2) edge node[auto] {$ f\mapsto f\,\mathrm{mod}\,(x_1,...,x_n)  $} (m-1-5);
\end{tikzpicture}
\end{center}
is the identity and the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ R & R[[x_1,...,x_n]] & & \left(R/\ideal{m}\right)[[x_1,...,x_n]] = k[[x_1,...,x_n]]                      \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ \sigma  $} (m-1-2)
(m-1-2) edge node[auto] {$ f\mapsto f\,\mathrm{mod}\,\ideal{m}  $} (m-1-4);
\end{tikzpicture}
\end{center}
is surjective. Consider elements $y_1,...,y_n$ of $R$ such that $\sigma(y_i)\,\mathrm{mod}\,\ideal{m} = x_i$ for $i=1,...,n$. Then the composition
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3.5em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ R & R[[x_1,...,x_n]] & & & \left(R/(y_1,...,y_n)\right)[[x_1,...,x_n]]                       \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$ \sigma  $} (m-1-2)
(m-1-2) edge node[auto] {$ f\mapsto f\,\mathrm{mod}\,(y_1,...,y_n)  $} (m-1-5);
\end{tikzpicture}
\end{center}
is an isomorphism.
\end{lemma}
\begin{proof}[Proof of the lemma]
For convienience let $\phi$ denote the morphism given by the rule $r\mapsto \sigma(r)\,\mathrm{mod}\,(y_1,...,y_n)$. Also denote $R/(y_1,...,y_n)$ by $S$. According to assumptions we have
$$\sigma(y_i) = x_i + y_i + \sum_{j=1}^nx_j\cdot \ideal{m}[[x_1,...,x_n]]$$
for each $i$. Thus $\phi(y_i) = \sum_{j=1}^nf_{ij}\cdot x_j$
where $f_{ij}\in S$ are elements such that the matrix $\big[f_{ij}\big]_{1\leq i,j\leq n}$ is invertible in $S$. Hence
$$S[[x_1,...,x_n]] = S[[\phi(y_1),...,\phi(y_n)]]$$
and $\phi$ composed with $S[[\phi(y_1),...,\phi(y_n)]] \twoheadrightarrow S$ is the quotient morphism $R \twoheadrightarrow S$. From this observations we derive that $\phi$ is surjective. It remains to prove that it is injective. Consider $z$ in $R$ such that $\phi(z) = 0$. Suppose that $z \in (y_1,...,y_n)^m$ for some $m\in \NN$. Write
$$z = \sum_{\alpha \in \Lambda}c_{\alpha}\cdot y_1^{\alpha_1}...y_n^{\alpha_n}$$
for some $c_{\alpha}\in R$ where $\Lambda = \{\alpha \in \NN^n\,|\,\alpha_1+...+\alpha_n = m\}$. Hence
$$0 = \phi(z) = \sum_{\alpha \in \Lambda}\phi(c_{\alpha})\cdot \phi(y_1)^{\alpha_1}...\phi(y_n)^{\alpha_n}$$
Thus $\phi(c_{\alpha}) \in \left(\phi(y_1),...,\phi(y_n)\right)$ for every $\alpha \in \Lambda$. Since $\phi$ composed with $S[[\phi(y_1),...,\phi(y_n)]] \twoheadrightarrow S$ is the quotient morphism $R \twoheadrightarrow S$, we derive that 
$$c_{\alpha}\,\mathrm{mod}\,(y_1,...,y_n) = \phi(c_{\alpha})\,\mathrm{mod}\,\left(\phi(y_1),...,\phi(y_n)\right) = 0$$
for every $\alpha \in \Lambda$. Thus $c_{\alpha}\in (y_1,...,y_n)$ for every $\alpha \in \Lambda$, which implies that $z \in (y_1,...,y_n)^{m+1}$. Thus we proved that 
$$\mbox{$\phi(z) = 0$ and $z \in (y_1,...,y_n)^m$}\,\Rightarrow\,z \in (y_1,...,y_n)^{m+1}$$
By $\ideal{m}$-adic completeness of $R$ this implies that $\phi(z) = 0$ if and only if $z = 0$. Hence $\phi$ is also injective.
\end{proof}

\begin{lemma}\label{lemma:Hensels_lemma}
Let $(R,\ideal{m})$ be a complete local noetherian ring and let $R\ra S$ be a local morphism into a local noetherian ring. Suppose that there exists a finitely generated $R$-submodule $N$ of $S$ such that
$$S = N + \ideal{m}S$$
Then $S = N$.
\end{lemma}
\begin{proof}[Proof of the lemma]
Pick $s$ in $S$. Since $S = N + \ideal{m}S$, there exists a sequence $\{x_n\}_{n\in \NN}$ such that $x_n\in \ideal{m}^{n}N$ and 
$$s - \sum_{i\leq n}x_i \in \ideal{m}^{n+1}S$$
According to the assumption that $(R,\ideal{m})$ is complete with respect to $\ideal{m}$-adic topology and $N$ is finitely generated over $R$, we deduce that $N$ is complete with respect to $\ideal{m}$-adic topology. Hence there exists a unique element $x$ in $N$ such that
$$x = \sum_{n\in \NN}x_n$$
where above series is convergent with respect to $\ideal{m}$-adic topology. Note also that
$$x - \sum_{i\leq n}x_i\in \ideal{m}^{n+1}N$$
for every $n\in \NN$. Thus we have
$$s - x = \left(s - \sum_{i\leq n}x_i\right) - \left(x - \sum_{i\leq n}x_i\right) \in \ideal{m}^{n+1}S + \ideal{m}^{n+1}N = \ideal{m}^{n+1}S$$
for every $n\in \NN$. Hence
$$x - s \in \bigcap_{n\in \NN}\ideal{m}^nS$$
Since $R\ra S$ is local morphism and $S$ is a local ring, we deduce that $\ideal{m}S$ is contained in the maximal ideal of $S$. By assumptions $S$ is noetherian. Therefore, $S$ is separated with respect to $\ideal{m}$-adic topology. This implies that
$$0 = \bigcap_{n\in \NN}\ideal{m}^nS$$
Thus $s - x = 0$ and we infer that $s$ is an element of $N$. This completes the proof that $S = N$.
\end{proof}
\noindent
In what follows we shall denote by $\bd{G}x$ the closed subscheme determined by the orbit morphism $\bd{G}\ra X$ of a $k$-point $x$ of $X$ which has a closed free orbit. For readers convienience we include the following lemmas, which have topological content.

\begin{lemma}\label{lemma:fiber_over_closed_point_is_orbit}
Let $q:X\ra Y$ be a geometric quotient and assume that $Y$ is the spectrum of a local $k$-algebra such that the residue field of the closed point $o$ of $Y$ is $k$. Let $x$ be a $k$-point of $X$ with free closed orbit, then $q^{-1}(o) = \bd{G}x$ as closed subschemes of $X$. 
\end{lemma}
\begin{proof}[Proof of the lemma]
Morphism $q$ induces the morphism of residue fields $k(q(x)) \hookrightarrow k(x) = k$ over $k$. This implies that $k(q(x)) = k$ and hence $q(x)$ is a $k$-point of $Y$. Note that $o$ is the unique $k$-point of $Y$. Thus $q(x) = o$. Clearly $q^{-1}(o)$ is a closed $\bd{G}$-stable subscheme of $X$ (it is the preimage of $o$ under $\bd{G}$-equivariant $q$), that contains $x$. Since $\bd{G}x$ is the smallest closed $\bd{G}$-stable subscheme of $X$ containing $x$, we deduce that $\bd{G}x\subseteq q^{-1}(o)$ scheme-theoretically. Consider the pair of arrows
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &  X \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2);
\end{tikzpicture}
\end{center}
Passing to functors of points we obtain that $a^{-1}\left(\bd{G}x\right) = \mathrm{pr}_X\left(\bd{G}.x\right)$. Since $q$ is the cokernel of the pair $(a,\mathrm{pr}_X)$ in the category of topological spaces, we deduce that there exists a closed subset $Z$ of $Y$ such that $q^{-1}(Z) = \bd{G}x$. Clearly $o\in Z$ and hence $q^{-1}(o) \subseteq \bd{G}x$ set-theoretically. On the other hand above we proved that $\bd{G}x\subseteq q^{-1}(o)$ scheme-theoretically. This can only happen if $q^{-1}(o) = \bd{G}x$ as closed subschemes of $X$.
\end{proof}

\begin{lemma}\label{lemma:open_and_stable_with_k_point_are_entire}
Let $q:X\ra Y$ be a geometric quotient and assume that $Y$ is the spectrum of a local $k$-algebra such that the residue field of the closed point $o$ of $Y$ is $k$. Let $U$ be an open $\bd{G}$-stable subset of $X$ which contain a $k$-point. Then $U = X$. 
\end{lemma}
\begin{proof}[Proof of the lemma]
Consider the pair of arrows
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_kX &  X \\} ;
\path[->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge[transform canvas={yshift=0.5ex}] node[above] {$ a  $} (m-1-2)
(m-1-1) edge[transform canvas={yshift=-0.5ex}] node[below] {$ \mathrm{pr}_X $} (m-1-2);
\end{tikzpicture}
\end{center}
Since $U$ is $\bd{G}$-stable open subset of $X$, we derive that $\mathrm{pr}_X^{-1}(U) = a^{-1}(U)$. Next by definition $q$ is the cokernel of the above pair in the category of topological spaces. Hence there exists an open subset $V$ of $Y$ such that $U = q^{-1}(V)$. Since $U$ contains a $k$-point of $X$, we deduce as in Lemma \ref{lemma:fiber_over_closed_point_is_orbit} that $o\in V$. Thus $V = Y$ and finally $U = q^{-1}(V) = X$.  
\end{proof}

\begin{proof}[Proof of the theorem]
Denote by $o$ the closed point of $Y$ and by $e$ the unit of $\bd{G}$. We first prove \textbf{(1)}. Assume that $x$ is a $k$-point of $X$ which has a closed free orbit. Consider the surjective morphism $\cO_{X,x}\twoheadrightarrow \cO_{\bd{G},e}$ induced by the orbit morphism $\bd{G}\hookrightarrow X$ of $x$. Since $\bd{G}$ is smooth over $k$, the ring $\cO_{\bd{G},e}$ is regular. Pick a system of parameters $x_1,...,x_n$ of $\cO_{\bd{G},e}$ and let $y_1,...,y_n$ be elements of $\cO_{X,x}$ such that $y_i$ is send to $x_i$ by the morphism $\cO_{X,x}\twoheadrightarrow \cO_{\bd{G},e}$ for $1\leq i\leq n$. Define $S$ to be the quotient ring $\cO_{X,x}/(y_1,...,y_n)$. Let $f:\bd{G}\times_k\Spec S\ra X$ be the unique $\bd{G}$-equivariant morphism induced by the surjection $\cO_{X,x}\twoheadrightarrow S$. The morphism $q$ induces the morphism $q^{\#}:\cO_{Y,o} \ra \cO_{X,x}$ and hence the morphism $\cO_{Y,o}\ra S$. By Lemma \ref{lemma:fiber_over_closed_point_is_orbit} we have
$$S/\ideal{m}_oS = k$$
where $\ideal{m}_o$ is the maximal ideal of $\cO_{Y,o}$. According to Lemma \ref{lemma:Hensels_lemma} we derive that $\cO_{Y,o}\ra S$ is surjective. Let $f:\bd{G}\times_k\Spec S\ra X$ be the morphism induced by the surjection $\cO_{X,x}\twoheadrightarrow S$. We have a commutative square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{ \bd{G}\times_k\Spec S &    X                           \\
    \Spec S &   Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[above] {$ f $} (m-1-2)
(m-1-1) edge node[left] {$ \mathrm{pr}_{\Spec S}$} (m-2-1)
(m-1-2) edge node[auto] {$ q$} (m-2-2);
\path[right hook->,line width=1.0pt,font=\scriptsize]
(m-2-1) edge node[below] {$j $} (m-2-2);
\end{tikzpicture}
\end{center}
where $j$ is a closed immersion induced by $\cO_{Y,o}\twoheadrightarrow S$. According to assumptions $q$ is locally of finite type. Moreover, $\bd{G}$ is locally algebraic group over $k$ and hence $\mathrm{pr}_{\Spec S}$ is locally of finite type. These two facts together with the fact that $\Spec S\hookrightarrow Y$ is a closed immersion of noetherian schemes (and thus is of finite type) imply that $f$ is locally of finite type. Then by Lemma \ref{lemma:free_actions_in_formal_geometry} we deduce that $f$ induces an isomorphism 
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3.5em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{   \widehat{\cO_{X,x}}  &  \hat{S}[[x_1,...,x_n]] = \hat{S}\hat{\otimes}_k\widehat{\cO_{\bd{G},e}}      \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[auto] {$   $} (m-1-2);
\end{tikzpicture}
\end{center}
of completions. Since $f$ is locally of finite type, it follows that $f$ is {\'e}tale at a $k$-point of $\bd{G}\times_k\Spec S$ determined by the unique $k$-point of $\Spec S$ and $e\in \bd{G}$. Let $U$ be an {\'e}tale locus of $f$. It contains a $k$-point and hence it is nonempty. Moreover, $U$ is open (it is {\'e}tale locus). Since $f$ is $\bd{G}$-equivariant, we derive that $U$ is $\bd{G}$-stable. Similary $f(U)$ is open $\bd{G}$-stable subset of $X$ and $x \in f(U)$. Thus by Lemma \ref{lemma:open_and_stable_with_k_point_are_entire} we deduce that 
$$U = \bd{G}\times_k\Spec S,\,f(U) = X$$
Therefore, $f$ is {\'e}tale and surjective. Now we pullback $q:X\ra Y$ along the closed immersion $\Spec S\hookrightarrow Y$. We obtain a cartesian square
\begin{center}
\begin{tikzpicture}
[description/.style={fill=white,inner sep=2pt}]
\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em,text height=1.5ex, text depth=0.25ex] 
{     \tilde{X}      &    X                           \\
    \Spec S &   Y                 \\} ;
\path[->,line width=1.0pt,font=\scriptsize]  
(m-1-1) edge node[left] {$ \tilde{q}$} (m-2-1)
(m-1-2) edge node[auto] {$ q$} (m-2-2);
\path[right hook->,line width=1.0pt,font=\scriptsize]
(m-1-1) edge node[above] {$ \tilde{j} $} (m-1-2)
(m-2-1) edge node[below] {$j $} (m-2-2);
\end{tikzpicture}
\end{center}
Then $f$ factors as a morphism $\bd{G}\times_k\Spec S\ra \tilde{X}$ followed by a closed immersion $\tilde{j}$. Since $f$ is {\'e}tale and surjective, we deduce that $\tilde{j}$ is {\'e}tale and surjective. This implies that $\tilde{j}$ is an isomorphism of schemes.
\end{proof}




\small
\bibliographystyle{apalike}
\bibliography{../zzz}

    
\end{document}